<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Easy Pulse Plugin &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F7177%2Flogs">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/7177-easy-pulse-plugin">Easy Pulse Plugin</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">An open-source, Arduino/Chipkit compatible, and breadboard-friendly pulse sensor</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/20902-rajendra-bhatt" title="Visit Profile">Rajendra Bhatt</a><span>&bull;</span>
                
                5 days ago<span>&bull;</span><a href="/project/7177#discussion-list" title="See Comments">1 Comment</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/7177-easy-pulse-plugin">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/7177/logs/sort/newest">Newest</option>
                    <option value="/project/7177/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/7177/log/22641-basic-theory-of-ppg">Basic theory of PPG</a></h2>
                            <small class="authorship">5 days ago  &bull;
                                <a class="gray-link" href="/project/7177/log/22641#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22641"><p>Transmittance and reflectance are two basic types of photoplethysmography. For the transmittance PPG, a light source is emitted into the tissue and a photodetector is placed on the opposite side of the tissue to measure the resultant light. Because of the limited penetration depth of the light through organ tissue, the transmittance PPG is applicable to a restricted body part, such as the finger or the ear lobe. However, in the reflectance PPG, the light source and the light detector are both placed on the same side of a body part. The light is emitted into the tissue and the reflected light is measured by the detector. As the light doesn&#x2019;t have to penetrate the body, the reflectance PPG can be applied to any parts of human body. In either case, the detected light reflected from or transmitted through the body part will fluctuate according to the pulsatile blood flow caused by the beating of the heart. Easy Pulse Plugin uses the <a href="http://www.kyto.com.cn/en/products_show.asp?id=69" target="_blank">HRM-2155E optical sensor from Kyto Electronics Co</a>., China. It operates in transmission mode. The sensor body is built with a flexible Silicone rubber material that fits well on the tip of a finger. Inside the sensor case, an IR LED and a photodetector are placed on two opposite sides and are facing each other. The following picture shows a basic setup for a transmittance PPG probe.</p><p><img src="http://embedded-lab.com/blog/wp-content/uploads/2013/04/HRM-2511Esensor2.png">The amount of IR light transmitted across the finger depends on the blood volume in the tissue. The transmitted light intensity thus varies with the pumping of the blood from the heart, and therefore, is synchronous with the heart beat. A plot of this variation against time is referred as photoplethysmographic or PPG signal. <span class="redactor-invisible-space">The PPG signal consists of a large DC component, which is attributed to the total blood volume of the examined tissue, and a pulsatile (AC) component, which is synchronous to the pumping action of the heart. The AC component, which carries vital information including the heart beat rate, is much smaller in magnitude than the DC component. A typical PPG waveform is shown in the figure below (not to scale).</span><br></p><p><span class="redactor-invisible-space"><img src="https://cdn.hackaday.io/images/5954101439437594646.png"><span class="redactor-invisible-space">The two maxima observed in the PPG are called Sytolic and Diastolic peaks, and they can provide valuable information about the cardiovascular system (this topic is outside the scope of this project). The time duration between two consecutive Systolic peaks gives the instantaneous heart rate.<br></span></span></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7177/log/22642-hardware-and-instrumentation-details">Hardware and instrumentation details</a></h2>
                            <small class="authorship">5 days ago  &bull;
                                <a class="gray-link" href="/project/7177/log/22642#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22642"><p>The following figure shows a basic DC biasing required for the HRM-2511E sensor. The sensor has three pins that are wired to a 3.5mm stereo audio connector. A 150 Ohm resistor is placed between VCC and the anode of the IR-LED to limit the current through the IR LED. Similarly, a 10K resistor provides a DC bias to the photodiode. The raw PPG output (Vout) from the photodiode is a very weak and noisy signal that swings about this DC bias voltage. </p><p><img src="https://cdn.hackaday.io/images/7483011439438005214.jpg"></p><p>The photodetector output is passed through a 2-stage non-inverting instrumentation circuit built with Microchip&apos;s MCP6002 dual OpAmp chip. The two instrumentation stages are identical and have a maximum gain of 15 per stage (total 2-stage gain of 225). The negative input of the OpAmp is tied to a 2.0V reference voltage derived using a zener diode. This prevents the clipping of the negative swing of the PPG signal at the output. The instrumentation circuit is further divided into two parts: a passive RC high-pass filter (HPF) with a cut-off frequency of ~0.5Hz and an active low-pass filter (LPF) with a gain of 15 and a cut-off frequency of 3.4Hz. This constitutes a band-pass filter (BPF), which  allows signals with frequencies between 0.5HZ and 3.4Hz. Therefore, it filters out the DC bias signal (which is 0Hz) in the photodetector output, as well as any high frequency noises (such as mains 60Hz frequency) present in the PPG signal. A 10K potentiometer at the output controls the amplitude of the output signal that is fed to the next stage of instrumentation.</p><p><img src="https://cdn.hackaday.io/images/6842951439438531194.jpg"></p><p>The second stage (shown below) consists of the similar passive high-pass and active low-pass filters. The output of the second stage has sufficient dynamic range and can be directly fed to an analog input channel of Arduino or any other microcontrollers.<br><img src="https://cdn.hackaday.io/images/1192691439439124282.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7177/log/22770-testing-the-circuit">Testing the circuit</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7177/log/22770#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22770"><p>The Easy Pulse Plugin circuit is tested with a 5V power supply. The HRM-2511E sensor is worn on the tip of the index finger and the signal waveforms at various stages of instrumentations are analyzed using <a href="http://www.digilentinc.com/Products/Detail.cfm?NavPath=2,842,1018&amp;Prod=ANALOG-DISCOVERY" target="_blank">Digilent&apos;s Analog Discovery</a> tool, which features a 2-channel USB oscilloscope.</p><p><img src="https://cdn.hackaday.io/images/8349431439553251944.jpg">The following figure displays the raw PPG signal output from the photodetector. The raw PPG signal is very noisy, as can be seen as a fainted image in the background of the main waveform, which is an averaged version of the raw signal processed by the Analog Discovery tool PC software. The signal is weak with a peak amplitude of ~60mV. The Sytolic and Diastolic peaks can be easily seen in the averaged waveform.</p><p><img src="https://cdn.hackaday.io/images/2789891439553279804.jpg"></p><p>After two stages of amplification and filtering, the processed PPG waveform looks very smooth and exhibits a large dynamic range. The resulting signal thus looks perfect for a microcontroller&apos;s ADC input channel for further processing.</p><p><img src="https://cdn.hackaday.io/images/1839701439553296487.jpg"></p><p>The Analog Discovery oscilloscope software tool also provides the Fast Fourier Transform (FFT) view of the input signal. The following picture shows the FFT output of the final PPG signal. The FFT peak corresponds to the fundamental frequency component of the PPG waveform, which is the frequency of the heart beat. In this example, the peak occurred at 1.35Hz, which is equal to 81 BPM (1.35*60).</p><p><img src="https://cdn.hackaday.io/images/7079461439553313111.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7177/log/22824-few-words-on-how-to-use-easy-pulse-plugin">Few words on how to use Easy Pulse Plugin</a></h2>
                            <small class="authorship">3 days ago  &bull;
                                <a class="gray-link" href="/project/7177/log/22824#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22824"><p>Easy Pulse Plugin offers an analog PPG output signal that can be utilized in numerous ways to retrieve the  heart rate. One simple application would be connecting an LED (with an external driver circuit, which could be a simple transistor-based circuit) to its output and visualize the beating action of the heart. The LED will flash in synchronous with heart beat. A more advanced application would be digitizing the analog PPG signal for further processing by a computer and quantify the instantaneous heart rate. A simple example is discussed here. The setup below shows the pulse module plugged into an Arduino Uno board. The JP2 jumper is placed on the A0 position so that the PPG output can be fed to the A0 analog input of Arduino. While inserting the Easy Pulse Plugin on Arduino, make sure that the male pins of JP3 headers on Easy Pulse Plugin matches with those of female headers on the Arduino board. The JP1 jumper is placed on the 5V position, which means the Easy Pulse Plugin is powered by 5V supply from the Arduino Uno.</p><p><img src="https://cdn.hackaday.io/images/6602211439599542495.jpg"></p><p>The Arduino Uno is programmed to read in the analog PPG input at A0, convert it to a 10-bit digital count, and send it to the PC through USB-UART interface for further processing. The input PPG signal is sampled at 5 milliseconds interval and transferred to PC at 115200 baud rate. A PPG analyzer software is developed using the open-source <a href="https://processing.org/" target="_blank">Processing Programming language</a>, which receives the analog samples sent by the Arduino board and visualize the PPG waveform on a computer screen. By measuring the time intervals between three consecutive peaks of the PPG waveform, heart rate is computed and displayed on the same screen. A more detail description of PPG analyzer software can be found <strong><a href="http://embedded-lab.com/blog/?p=7485" target="_blank">here</a></strong>.</p><p><img src="https://cdn.hackaday.io/images/731891439600034089.jpg"></p><p><a href="http://embedded-lab.com/uploads/Processing/Easy_Pulse_PPG_Analyzer_V1_0.zip"></a><strong><a href="http://embedded-lab.com/uploads/Processing/Easy_Pulse_PPG_Analyzer_V1_0.zip" target="_blank">Download PPG Analyzer PC software</a></strong></p><p><a href="http://embedded-lab.com//uploads/Misc/SendPPGSignal.zip"></a><strong><a href="http://embedded-lab.com//uploads/Misc/SendPPGSignal.zip">Download Arduino code</a></strong></p><p><a href="https://www.tindie.com/products/rajbex/easy-pulse-plugin-an-arduino-pulse-sensor/"></a><strong><a href="https://www.tindie.com/products/rajbex/easy-pulse-plugin-an-arduino-pulse-sensor/" target="_blank">Buy Easy Pulse Plugin on Tindie</a> </strong></p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 's0E01KkD-pMRql34w0OZfQzr0V1dvnlZgyF8';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>