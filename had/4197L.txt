<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Reagent Robot &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F4197%2Flogs">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/4197-reagent-robot">Reagent Robot</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Automate the Reagent (take a sample, put a drop of stuff in, shake, look at the color) testing of water for Aquaponics, Ponds, Aquariums. </p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/30034-james-newton" title="Visit Profile">James Newton</a><span>&bull;</span>
                
                7 months ago<span>&bull;</span><a href="/project/4197#discussion-list" title="See Comments">20 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/4197-reagent-robot">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/4197/logs/sort/newest">Newest</option>
                    <option value="/project/4197/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/4197/log/14277-quick-mock-up-with-received-parts">Quick mock up with received parts. </a></h2>
                            <small class="authorship">6 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/14277#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-14277"><p>Note: This is all upside down. The motor will be on top, so water doesn't leak down into it. </p><img src="https://lh3.googleusercontent.com/-rjpx3ji1zjs/VOZTdeX2y7I/AAAAAAAARYM/P63C0CmKnkc/w1048-h591-no/IMG_20150219_131810_372.jpg"><p>Lovely laser cut parts from Pololu. The wiper paddle is /just/ a bit too high (apparently 1/4 inch plexi isn't 1/4 inch) so I will have to add a bit of padding with a sheet or 6 of transparency film or something. I just put the paddle on a bit of wire with a bit of thinner wire... need a better shaft and /tiny/ screws. The chamber is separated from the motor by some chip tube plugs that were laying about, but that will be the 90' elbows for the inlet and outlet. A water valve is shown to the right. The motor and valve are from Adafruit. OFF! To the Hardware store with it for elbows and screws and shafts and couplers. </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/14333-first-trial-assembly">First Trial Assembly</a></h2>
                            <small class="authorship">6 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/14333#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-14333"><p><img src="https://lh5.googleusercontent.com/-a6JURtV7PCc/VOgxY2YDfRI/AAAAAAAARYs/6Tgx9jr_xVU/w807-h455-no/IMG_20150220_221410_038.jpg"><span></span>Here it is with the inlet and solenoid valve, and the motor just resting on those nuts. It will be pretty easy to cut and drill a motor mount by hand. The inlet was, of course, too big for the holes and had to be hand sanded down to fit. Note to self: Buy and measure the hardware FIRST, THEN design the part. Just because the catalog says the part fits a 1/2" hose, that does not mean it's actually 1/2". They make them bigger so the hose has to stretch a bit... plexi doesn't stretch.<br><br><img src="https://lh4.googleusercontent.com/-e9_gayo-EA0/VOgxbppP1gI/AAAAAAAARY0/CT6sJxgvwKw/w807-h455-no/IMG_20150220_221424_132.jpg">Better view of the chamber. I still have to figure out a way to get the stirrer attached to the motor shaft. Prolly just a coupler to another shaft, but then I'll have to file or grind the shaft flat where the stirrer paddle attaches to it. And I need to trim down the outlet 90' adapter and attach the flow rate sensor. Then it's Lights! Camera! (well... photosensor) and Action! (well... moving the stirrer and controlling the valves, etc... ) <br><br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/14410-outlet-stirrer-and-chamber-done">Outlet, stirrer, and chamber done.</a></h2>
                            <small class="authorship">6 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/14410#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-14410"><img src="https://lh6.googleusercontent.com/-coNFYCrVoVY/VOq5TSeIhjI/AAAAAAAARZo/2Elhm-cw3xI/w807-h455-no/IMG_20150222_212006_647.jpg"><p>Got the stirrer assembled (just with wire holding it together for now... need some tiny M2 bolts and nuts). Drive shaft coupled (with some plastic tubing). The chamber is assembled, with an extra layer of rubber at the top to make it high enough for the stirrer to fit (1/4" plexi is not 1/4" so the stirrer needs to be a bit less high on the next version). And the outlet fitting is ground down to 1/2" (1/2" hose couplings are not 1/2" so the holes need to be a bit bigger in the next version. Need a motor mount plate and then the mechanicals will be done, and we can move on to the electronics. <br><img src="https://lh4.googleusercontent.com/-cAL3ZSJf03k/VOq5Scyy5iI/AAAAAAAARZg/PQXBwmnlAnE/w807-h455-no/IMG_20150222_212028_330.jpg"></p><p>You can see the rubber wiper of the stirrer against the inside of the chamber. I'm not sure the rubber sheet I used will last... the material seems to be rubbing away like an eraser... </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/14871-dont-try-to-put-a-nema-17-motor-in-a-nema-23-hole">Don&#39;t try to put a NEMA 17 motor in a NEMA 23 hole</a></h2>
                            <small class="authorship">5 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/14871#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-14871"><p>So it turns out that I designed the parts for this project with a NEMA 23 mounting layout. The holes in the chamber, top and bottom match NEMA 23 mounts. Not sure why I did that, other than that I knew I had a NEMA 23 motor available and I might have been worried about how small the stirrer would be if it was done for a NEMA 17. And there might not be room for the water fittings. </p><p>Then I must have started thinking that using a NEMA 23 motor for this project was like using a nuclear reactor to fy eggs; you just don't need that much power. So I spec'd a NEMA 17 motor on the parts list.</p><p>And got one.</p><p>And tried to fit it to the holes. </p><p>And noticed that that was the wrong size, but said "no worries, I'll just make an adapter plate". </p><p>And I did. Guess what? There isn't room between NEMA 17 holes and NEMA 23 holes for little things like nuts. <span></span></p><p>Well... at least not when you put the NEMA 17 motor square with the NEMA 23 holes. But now I've "got a plan": Ima make /another/ adapter plate, but this time, I'll rotate the NEMA 17 motor holes 45' from the NEMA 23 holes. </p><p>That'll do 'er, right? Solving problems with geometery. </p><p>So why not just use the NEMA 23 motor? 'cause in the mean time, I found another use for it... This is why I need to start, stay with, and finish projects in a timely manner. </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/15201-mechanicals-done">Mechanicals Done!</a></h2>
                            <small class="authorship">5 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/15201#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-15201"><p>Made a new mounting plate that DOES allow a NEMA 17 motor in a NEMA 23 mount through the magical powers of /rotation/. ,o)</p><p><img src="https://lh3.googleusercontent.com/c8dnXoJyaJ7zx7VFhgdEpPKi6HiMuxbZ6vpljJKBUVcX=s177-p-no"></p><p>Here's a detail shot showing the motor shaft coupler to the stirrer/wiper padel. It's a section of aquarium hose... Hope that will be enough.</p><img src="https://lh3.googleusercontent.com/aCHAcSf0FGO1EB472xlnhlP7I0PeIyXU2pVzbphZwY8Y=s177-p-no"></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/16386-its-alive-somewhat">It&#39;s ALIVE! (somewhat)</a></h2>
                            <small class="authorship">4 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/16386#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-16386"><p>So I took one of my <a href="http://techref.massmind.org/techref/io/stepper/linistep/4axis5build.htm">BOB PCBs</a> (normally used as a Break Out Board for <a href="http://techref.massmind.org/techref/io/steppers.htm">Stepper Motor Drivers</a> in PC driven CNC conversions) and made use of one of it's many alternate, err... uses. By adding two jumpers and some pin headers, it becomes an Arduino Shield with an LCD display, some switches, a cable for the stepper motor driver, and a relay driver for the water valve. For now, I'm using one of the <a href="http://techref.massmind.org/techref/io/stepper/THB6064/index.htm">THB6064AH drivers</a> (which is sort of like using a nuclear reactor to fry eggs with this little NEMA 17 motor) but it will probably get replaced with some other small driver. <br></p><p>The Arduino is programmed to display message "faking" the steps I think the robot will take, although the only thing it's actually doing at this point is rotating the wiper. There are some issues with the wiper getting stuck, but that's the sort of thing you expect to find and work out.</p><iframe style="width: 500px; height: 281px;" width="500" height="281" src="//www.youtube.com/embed/KcE_-ptQ5N0" frameborder="0" allowfullscreen=""></iframe><p>Still a long todo list: Need to mount the driver and control board somewhere. Add the components to the BOB PCB for the water valve. Hook up the flow rate sensor, light source and sensor. </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/19766-sample-intake-valve-working-power-electronics-mounted">Sample intake valve working, Power, Electronics Mounted</a></h2>
                            <small class="authorship">2 months ago  &bull;
                                <a class="gray-link" href="/project/4197/log/19766#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-19766"><p>So by skipping out on some work I was supposed to do and continuing to ignore a client who really needs me, I was able to find the time and energy to make a little progress. <br><br>1. Sample Intake Valve. The <a href="http://techref.massmind.org/techref/microchip/bob.htm">BOB board I'm using</a> has space for a relay driver (originally for spindle power) which is setup in such a way that it can use Vcc (for a little 5v relay) or use an external power source for a larger relay or, in this case, the <a href="http://www.adafruit.com/products/997?gclid=Cj0KEQjw-46sBRD7x6P0stibwbsBEiQAoMi4ZrBubJEL_Av2Yjnj57wFFyojekGxH_LuvZhKUYoOgzwaArrW8P8HAQ">Adafruit water solenoid valve</a>. The circuit can use different power sources, because it's designed to just ground one pin, rather than connect a pin to power. So one terminal, J7 is NOT used, because it's just the Vcc power supply from the board. The other terminal, J8 pulls one lead of the coil low via Q1 and the other coil lead connects to +12. Back EMF diode is bodged in between the connections. </p><p>Control is via A5 on the <a href="http://www.adafruit.com/products/50">Arduino</a> which is strapped over to the normal input to the driver circuit via a 2K2 resistor. I initially (accidentally) had it programmed to stay on all the time and close only when it should take a sample, and it got a bit toasty until I figured out it was working backwards! Seems to run cool now. </p><p>2. I've added an external 12 VDC wall wart power supply feeding into the Arduino.  That was /really/ difficult: I plugged it in. Then soldered on a terminal block to the <a href="http://techref.massmind.org/techref/microchip/bob.htm">BOB</a> where it was designed to take unregulated power and used that connect the motor power for the stepper motor driver. The BOB connects to both the regulated and unregulated supplies on the Arduino, so no problems there.</p><p>3. Most of the time today was actually spent figuring out how to mechanically mount the stepper driver and the Arduino / <a href="http://techref.massmind.org/techref/microchip/bob.htm">BOB</a> control board.  I drilled and tapped into the heat sink for the <a href="http://techref.massmind.org/techref/io/stepper/THB6064/index.htm">THB6064AH stepper driver</a> and lined that up with one of the holes I drilled in the stepper motor mounting bracket. A bit of rubber to isolate the PCB allowed me to just bolt the corner of the BOB to the bracket as well. Very bodge. </p><p>The stepper driver takes up a lot of space... again, that driver is like using a nuclear reactor to fry eggs for this little NEMA 17 motor, but it's what I have available. I have the current turned all the way down on the driver and the motor is still getting a bit toasty. But it's really nice and smooth and quiet, which is nice. You should use something much smaller. Like a <a href="http://www.linistepper.com">Linistepper.com</a> LOL. <br><br>Here is a video of it running. </p><iframe width="560" height="315" src="https://www.youtube.com/embed/joCHeUdNLOo" frameborder="0" allowfullscreen=""></iframe><p>And here is the back:<br><img src="https://lh4.googleusercontent.com/bt95-E2Q4m0yUGZYNes5CZjq2OC4Z5-0kMU5psLJ7Sfo=w560-h774-no">you can see the TIP122 driver for the valve hanging upside down on the back of the BOB.  Colored wires are stepper motor leads. Ribbon cable is the PMinMO standard connector from the BOB to the <a href="http://techref.massmind.org/techref/io/stepper/THB6064/index.htm">THB6064AH</a> driver board. White water valve on the left, and the flow rate sensor in black on the right. Reaction chamber at the bottom. </p><p>Still gobs to do. Figuring out the reagent injection system is next... anyone have experience with syringes, luer locks, and one way valves? </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4197/log/21770-help-is-there-a-doctor-nurse-med-tech-etc-in-the-house">Help! Is there a doctor (nurse, med tech, etc...) in the House?</a></h2>
                            <small class="authorship">20 days ago  &bull;
                                <a class="gray-link" href="/project/4197/log/21770#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21770"><p>Folks, I need help. Does anyone have access to, or know how to access, basic medical supplies in small quantities? Everything I can find is a box of 20 when I need ONE! If I buy a huge box of each part, the price gets crazy fast, and without being able to play with the parts, I don&apos;t know if what I order will actually work. <br><br>Specifically, I&apos;m building the injector pump for the reagent, and I&apos;ve found designs that look pretty good using a servo to open and close a syringe, which would be hooked to a reservoir with two one way valves. The medical community calls them &quot;back flow preventers&quot; and they connect together with something call &quot;luer loks&quot;. Also, there are curved hypodermic needles that would be perfect to deliver the reagent to the reaction chamber. </p><p>I need:<br></p><ul><li> 1 small syringe <em>that moves easily,</em> </li><li>2 back flow valves, one between the reservoir and the syringe, one between the syringe and the needle. </li><li>1 curved needle of a very large bore, and </li><li>some means of connecting all that together and to the reservoir. I assume if they are all luer lok parts, they will all hook to each other already. </li></ul><p>Here is a link to a very basic version (no reservoir or valves or needle) of the injector design I&apos;ve selected:</p><p><a href="http://www.thingiverse.com/thing:219281">http://www.thingiverse.com/thing:219281</a></p><p>Help?</p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'kQwP5f2F-Qm5osioZbxOLAyDxEEJIhz326v4';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>