<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Smart Battery makes a smarter Power Pack &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F5770%2Flogs">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/5770-smart-battery-makes-a-smarter-power-pack">Smart Battery makes a smarter Power Pack</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Fast charging. High efficiency. Charges your phone. Powers your hacks. Powered by a replacement Laptop Smart Battery</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/47368-kumar-abhishek" title="Visit Profile">Kumar Abhishek</a><span>&bull;</span>
                
                3 months ago<span>&bull;</span><a href="/project/5770#discussion-list" title="See Comments">2 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/5770-smart-battery-makes-a-smarter-power-pack">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/5770/logs/sort/newest">Newest</option>
                    <option value="/project/5770/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/5770/log/17762-the-plan">The plan</a></h2>
                            <small class="authorship">3 months ago  &bull;
                                <a class="gray-link" href="/project/5770/log/17762#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-17762"><p>I chose a Dell Latitude D5xx/D6xx battery for this design. Reason: the form factor. This battery has a rectangular form factor unlike most of the laptops' stick-type batteries.</p><p>I bought the 9-blade connectors for the battery from AliExpress along with the supporting components to build the reference design last December [Those connectors are expensive and I must find a cheaper source in the long run] Built a small breakout for the battery connector, connected the laptop battery and tested the SMBus with my BeagleBone Black and Smart Battery test code which was functional.<br></p><p>First I will be building a SMBus based standalone laptop battery charger design using the TI bq24725a application circuit, and a spare Dell Latitude D5xx/D6xx battery. I've started PCB design for the charge controller, hoping to post an update soon.</p><p>I would choose a low-power ARM microcontroller to power my design, not yet decided which one. There would be a small display to display the state of charge and remaining time. Also some pretty graphs of charging profiles could be plotted.</p><p>Next up would be the power train. I would have to pick good buck converters and design the supervisor scheme with current monitors and load switches to monitor the power output. Also add suitable PU/PD switching on the D+/D- pins to make the 5V loads choose the highest possible charging current to draw.</p><p>Apart from being a useful portable power pack, this circuit could remain permanently connected to the utility supply, and provide UPS-style backup to any SBC connected - I'm thinking of a Raspberry Pi server or a BeagleBone Black smart home solution. Given a bigger battery this could even power a whole computer like the Intel NUC. I'm also interested in seeing if with a boost converter I can supply enough juice to make an emergency laptop battery pack.<br></p><p>On the casing, I'm planning something 3D printed for the later versions. Since this is a laptop spare battery, it has a nice latching mechanism and if I can design the case right, it can fit in and lock as smugly as it would in its parent laptop. This would also be my first 3D CAD design and printing experience, so looking forward to it.<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5770/log/20226-the-bq24725a-schematic">The bq24725a schematic</a></h2>
                            <small class="authorship">2 months ago  &bull;
                                <a class="gray-link" href="/project/5770/log/20226#discussion-list">
                                    2 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20226"><p>The TI bq24725a is a SMBus Smart Battery Charger, with integrated synchronous buck controller. It can be used to charge upto 4-cell Li batteries. It also has dynamic power path management, which dynamically switches the load between AC and battery power. It can also monitor current drawn from the AC source as well as the battery which can be measured by an ADC on the host side. </p><p>For this design I am using the BQ24725a evaluation board schematics, but that&apos;d be redrawn in KiCAD. Almost done, and this is how it looks as of now.</p><p>[Fix schematic]</p><p><img src="https://cdn.hackaday.io/images/2116721438786032128.png"></p><p>Now to design the MCU side of things.<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5770/log/22166-choice-of-microcontroller">Choice of Microcontroller</a></h2>
                            <small class="authorship">13 days ago  &bull;
                                <a class="gray-link" href="/project/5770/log/22166#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22166"><p>A long idle period and I thought a lot over this and eventually decided to go for a STM32F103C8T6 microcontroller to control the system. I had initially thought of using an Arduino Nano but integrating a few libraries tends to fill up code space really fast, so there might not be enough room for expansion later. The IC itself is also available cheaply due to it being used in a lot of low cost dev boards from China, and I have a few spares lying so it&apos;d be a good idea to engage them to work here.</p><p>I&apos;m now beginning work over board layout of the charger section, although I&apos;d seek some feedback on how many outputs you&apos;d like to see from this power pack, after which I will complete the board and send it off to the fab.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5770/log/23411-quarterfinals-video-live">QuarterFinals Video Live</a></h2>
                            <small class="authorship">12 hours ago  &bull;
                                <a class="gray-link" href="/project/5770/log/23411#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23411"><p>Watch it here.</p><p><iframe width="500" height="281" src="//www.youtube.com/embed/cgbsHfJNgbE" frameborder="0" allowfullscreen=""></iframe>I hope that the video gets the philosophy of the project across. Let me know if you have any suggestions/comments/feedback!<br></p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = '42BTkopX-eWf0-KW_ip7IrIq2qnVBK5SutxY';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>