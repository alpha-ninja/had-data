<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Crazy Clock &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    


        <meta name="description" content="A replacement controller for Lavet stepper clock movements">
        <link rel="canonical" href="http://hackaday.io/project/5880-crazy-clock" />



    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
        <script type="text/javascript">
        function getCommentIdFromUrl() {
            if(window.location.hash) {
                var hash = window.location.hash.substring(1);
                var commentId = parseInt(hash.replace('j-discussion-', ''));
                if (commentId) {
                    return commentId;
                }
            }
            return null;
        }

        var commentId = getCommentIdFromUrl();
        if (commentId) {
            var url = window.location.href;
            if (url.indexOf('?') > -1) {
                url = url.substring(0, url.indexOf('?'));
            }
            if (url.indexOf('#') > -1) {
                url = url.substring(0, url.indexOf('#'));
            }
            url += '/discussion-' + commentId;
            window.location.href = url;
        }
    </script>
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@hackadayio">
    <meta name="twitter:title" content="Crazy Clock">
    
        <meta name="twitter:description" content="Simple, run-of-the-mill wall clocks with second hands that step from one second to the next are driven by a Lavet stepper motor clock movement. Once you know how they work, it&#39;s relatively simple to design a microcontroller based replacement for the electronic part of the movement. If you do that, you can make the clock tick any way you want.

There are presently ten different firmware loads for the Crazy Clock. Three of them are &#34;alternate timebase&#34; clocks. They tick at a faster or slower rate so that a complete revolution of the hands occurs in more or less time than a normal Solar day. The available alternate timebase clocks are the Sidereal clock (3:56 fast per day), the Martian clock (39:36 slow per day), and the Tidal clock (50:28 slow per day).

The rest of the clocks are &#34;novelty&#34; clocks. They tick at a long term average of 86400 ticks per day, but they alter the timing of the ticks for humorous effect. They range from quite subtle, to &#34;clown car&#34; levels of craziness.">
    
    
        <meta name="twitter:image" content="https://cdn.hackaday.io/images/resize/600x600/2852281436578188242.jpg">
    

    <!-- Open Graph data -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Crazy Clock">
    <meta property="og:url" content="http://hackaday.io/project/5880-crazy-clock">
    
        <meta property="og:description" content="Simple, run-of-the-mill wall clocks with second hands that step from one second to the next are driven by a Lavet stepper motor clock movement. Once you know how they work, it&#39;s relatively simple to design a microcontroller based replacement for the electronic part of the movement. If you do that, you can make the clock tick any way you want.

There are presently ten different firmware loads for the Crazy Clock. Three of them are &#34;alternate timebase&#34; clocks. They tick at a faster or slower rate so that a complete revolution of the hands occurs in more or less time than a normal Solar day. The available alternate timebase clocks are the Sidereal clock (3:56 fast per day), the Martian clock (39:36 slow per day), and the Tidal clock (50:28 slow per day).

The rest of the clocks are &#34;novelty&#34; clocks. They tick at a long term average of 86400 ticks per day, but they alter the timing of the ticks for humorous effect. They range from quite subtle, to &#34;clown car&#34; levels of craziness.">
    
    
        <meta property="og:image" content="https://cdn.hackaday.io/images/resize/600x600/2852281436578188242.jpg">
    

    <script>
        var HIO = {};
    </script>

</head>
<body class="project-detail ">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F5880-crazy-clock">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    

    
        <div class="page-basic-info-static guest-message-signup">
            
                <h2>Does this project spark your interest?</h2>
                <p class="page-basic-info-text">Become a member to follow this project and don't miss any updates</p>

            

            <div class="signup-holder">
                <form method="POST" action="/signup">
                    <input type="hidden" name="_csrf" value="eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s" />
                    <input type="text" class="input-field input-email" placeholder="Your email address"  name="email"  /><input type="password" class="input-field input-password" placeholder="Password"  name="password" /><button class="black-gold-button signup" type="submit">Become a member</button>
                    <input class="input-field" placeholder="Invitation Code" required name="invitation_code" value="5Ad0ix2-b96J" type="hidden" />
                </form>
            </div>

        </div>
    


    

    <div class="header-photo" >
        <div class="overlay"></div>
    </div>

    <div class="headline">
        <div class="container">
            

            <h2><a href="/project/5880-crazy-clock">Crazy Clock</a></h2>
            <p class="description">A replacement controller for Lavet stepper clock movements</p>

            

            
                <div class="author">
                    <a href="/hacker/45439">
                        <img src="https://cdn.hackaday.io/images/resize/100x100/1854591426228081493.jpeg" />
                        
                            <div class="author-details">
                                <div class="author-name">Nick Sayer</div>
                            </div>
                        
                    </a>
                </div>
            
        </div>
    </div>

    <div class="container">
        <div class="content-left">

            
                <ul class="submissions-icons">
                    
                        
                        
                    
                        
                            <li>
                                <a href="/submissions/prize2015/list" class="submission-icon submission-icon-5">
                                    The 2015 Hackaday Prize
                                </a>
                            </li>
                        
                        
                            <script>
                                HIO.forPrize = true;
                            </script>
                        
                    
                        
                        
                    
                </ul>
            

            
                <a href="/project/5880/gallery#cdcdec4c3fa9fa5c76cddeecd2a4a7a7" id="project-image" class="image-holder" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/2852281436578188242.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/2852281436578188242.jpg">
                </a>
            

            <div class="thumbs-holder">
                
                        <a href="/project/5880/gallery#cdcdec4c3fa9fa5c76cddeecd2a4a7a7" class="image-holder thumb" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/2852281436578188242.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/2852281436578188242.jpg">
                    </a>
                
                        <a href="/project/5880/gallery#121daf7305046bb5e919f136b19547e6" class="image-holder thumb" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/1197861436584000020.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/1197861436584000020.jpg">
                    </a>
                
                        <a href="/project/5880/gallery#2da5a8f1dab510bd78614e41199274e1" class="image-holder thumb thumb-last" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/8996311436584008389.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/8996311436584008389.jpg">
                    </a>
                
                        <a href="/project/5880/gallery#926e74afda2bca35ee53e5601cb315cb" class="image-holder thumb" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/2386221436578104596.png)" data-image="https://cdn.hackaday.io/images/resize/600x600/2386221436578104596.png">
                    </a>
                
            </div>

            
                <div class="view-gallery-holder">
                    <a href="/project/5880/gallery">
                        <div class="view-gallery grey-gold-button very-small-button">View Gallery</div>
                    </a>
                </div>
            

            

            

            

            

                <div class="project-following-container ">
                    <a href="javascript:void(0)" data-href="/project/5880/event/unfollow" class="gold-gold-button unfollow text-changing-button" data-before="<span class='icon-checkmark-gray'>Following</span>" data-after="Unfollow?"><span class="icon-checkmark-gray">Following</span></a>
                    <a href="javascript:void(0)" data-href="/project/5880/event/follow" class="gold-gold-button follow">Follow project</a>
                </div>
                
                

                <div id="similars">
                    <div class="similars-header">
                        Similar projects worth following
                        <a href="javascript:void(0)" class="submissions-close"></a>
                    </div>
                </div>

                
                    <div class="project-skulling-container ">
                        <a href="javascript:void(0)" data-href="/project/5880/event/unskull" class="gold-gold-button unskulled text-changing-button" data-before="<span class='icon-skull'>You</span>" data-after="Unskull?"><span class="icon-skull">You</span></a>
                        <a href="javascript:void(0)" data-href="/project/5880/event/skull" class="gold-gold-button skulled"><span class="icon-skull">Give a</span></a>
                    </div>
                

            

            
            

            <div class="section section-project-stats">
                
                    <span class="icon-view-count" title="View Count">2.1k</span>
                
                <a>
                    <span class="icon-comment-with-hover oi-font-color-grey" title="Comments" id="comment_count">0</span>
                </a>
                
                    <a href="/hackers/all/project/5880/following">
                
                    <span class="icon-view oi-font-color-grey" title="Followers" id="follower_count">21</span>
                
                    </a>
                

                
                    
                        <a href="/hackers/all/project/5880/likers">
                    
                            <span class="icon-skull oi-font-color-grey" title="Skulls" id="like_count">13</span>
                    
                        </a>
                    
                
            </div>

            
                <div class="section section-team">
                    <h5>
                        
                            Team
                        
                    </h5>

                    <ul>
                        
                            
                                <li>
                                    <img src="https://cdn.hackaday.io/images/resize/100x100/1854591426228081493.jpeg" class="team-photo"/>
                                    <a class="team-link" href="/hacker/45439-nick-sayer">Nick Sayer</a>

                                    

                                    
                                </li>
                            
                        
                    </ul>

                    <div class="error-message hide" id="team-error"><p></p></div>

                    
                    <input type="hidden" name="HADPrizeSubmission" value="true"/>
                        
                            <a href="javascript:void(0)"
                               
                                    class="login-button"
                               
                            >Request to join this project</a>
                        
                    

                </div>
            

            

            
                <div class="section section-links">
                    <ul class="links-list">
                        
                            <li class="links-item">
                                <a href="https://github.com/nsayer/Crazy-Clock" target="_blank" class="icon-github">Crazy Clock firmware repository</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://www.youtube.com/watch?v=7Q9qdDc6rBA" target="_blank" class="icon-other">Instructional video for modifying a clock movement</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://www.tindie.com/products/nsayer/crazy-clock/" target="_blank" class="icon-other">Tindie store for Crazy Clock boards</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://oshpark.com/shared_projects/gpkIWuAW" target="_blank" class="icon-other">OSHPark shared project for PCB</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://www.youtube.com/watch?v=7WBzHm2fqHE" target="_blank" class="icon-other">Video of the clock in action (&#34;lazy&#34; firmware)</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://www.youtube.com/watch?v=Bw0fDzuxNSU" target="_blank" class="icon-other">Video of the retrofit process for Quartex movement</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://www.youtube.com/watch?v=25THL-FM98g" target="_blank" class="icon-other">Hackaday Prize 2015 semifinals video</a>
                            </li>
                        
                            <li class="links-item">
                                <a href="https://www.youtube.com/watch?v=NcNdZuQZKNI" target="_blank" class="icon-other">Hackaday Prize 2015 quarterfinals video</a>
                            </li>
                        
                    </ul>
                </div>
            


            
                
                    <div class="section section-tags">
                        
                            <div class="special-tags">
                                <a href="/projects/tag/completed%20project" class="tag tag-completed">completed project</a>
                            </div>
                        
                        
                            <a href="/projects/tag/clock" class="tag">clock</a>
                        
                            <a href="/projects/tag/2015HackadayPrize" class="tag">2015HackadayPrize</a>
                        
                            <a href="/projects/tag/joke" class="tag">joke</a>
                        
                    </div>
                
            

            <div class="section section-share">
                <h5>
                    
                        Enjoy this project?
                    
                </h5>
                
                <a href="https://twitter.com/intent/tweet?url=http://hackaday.io/project/5880-crazy-clock&text=Crazy%20Clock by nick-sayer&related=hackadayio&via=hackadayio" target="_blank" class="icon-twitter icon-twitter-notext gray-link">Share on twitter</a> &nbsp; <a href="https://www.facebook.com/sharer/sharer.php?u=http://hackaday.io/project/5880-crazy-clock" target="_blank" class="icon-facebook icon-facebook-notext gray-link">Share on Facebook</a> &nbsp; <a href="https://plus.google.com/share?url=http://hackaday.io/project/5880-crazy-clock&h1=en-US" target="_blank" class="icon-google icon-google-notext gray-link">Share on Google+</a>
            </div>

            
            

            
                <div class="section section-submissions-lists">
                    <h5>This project is submitted for</h5>
                    <ul>
                        
                            <li><a href="/submissions/tipline/list">Hackaday.com Tip Line</a></li>
                        
                            <li><a href="/submissions/prize2015/list">The 2015 Hackaday Prize</a></li>
                        
                            <li><a href="/submissions/bestproduct/list">Best Product</a></li>
                        
                    </ul>
                </div>
            

            <div class="section section-project-time">
                <p class="project-time">
                    This project was
                        
                            created on 05/19/2015
                            
                                 and last updated 8 days ago.
                            
                        
                </p>
            </div>

            

        </div>

        <div class="content-right">

            
                <div class="section section-description">
                    <h5>Description</h5>
                    <div class="description">Simple, run-of-the-mill wall clocks with second hands that step from one second to the next are driven by a Lavet stepper motor clock movement. Once you know how they work, it's relatively simple to design a microcontroller based replacement for the electronic part of the movement. If you do that, you can make the clock tick any way you want.<br /><br />There are presently ten different firmware loads for the Crazy Clock. Three of them are "alternate timebase" clocks. They tick at a faster or slower rate so that a complete revolution of the hands occurs in more or less time than a normal Solar day. The available alternate timebase clocks are the Sidereal clock (3:56 fast per day), the Martian clock (39:36 slow per day), and the Tidal clock (50:28 slow per day).<br /><br />The rest of the clocks are "novelty" clocks. They tick at a long term average of 86400 ticks per day, but they alter the timing of the ticks for humorous effect. They range from quite subtle, to "clown car" levels of craziness.</div>
                </div>
            

            
                <div class="section section-details">
                    <h5>
                        
                            Details
                        
                    </h5>
                    

                    
                        <div class="post-content details-content">
                            <p><p>At the end of the gear train of a Lavet stepper motor based clock movement is a gear with a permanent magnet attached to it. The gear sits in a stator with a coil wound around it. The coil is (ordinarily) pulsed at 1 Hz with alternating polarity. That causes the magnet to rotate 180°, which in turn causes the second hand to move 6° (one second's worth).</p><p>If you cut the traces on the board that lead to the chip from the battery and to the coil, and then tack on wires to those traces, you can wire in an alternative controller that can make the clock tick any way you want.</p><p>If you really want to have the minimum possible impact on how the movement works, it's desirable to reuse the AA battery holder built-in to such movements. Although a single AA battery starts out providing 1.5 volts, as it discharges, the voltage will drop even though it is still capable of putting out enough current to drive the movement acceptably. But a cheap microcontroller, like an ATTiny45, won't operate properly even on 1.5 volts, much less anything less. The solution is a boost converter to make a higher, stable voltage out of whatever voltage the battery is producing. The boost converter need only be capable of a burst current of a few mA, and most of the time the controller will draw less than 100 nA. This is because we strategically turn most of the internal peripherals off and put the controller to sleep most of the time. The boost converter is based on the NCP1402 3.0 volt variant (the 2.7 volt variant would be better, but it's not easy to find in small quantities). It's capable of providing up to 200 mA, but it remains highly efficient even at the low currents drawn by the crazy clock. To keep the circuit as small as possible, we substitute two 22 µF ceramic caps for the recommended 47 µF tantalum cap. We use one half (and waste the other) of a common anode Schottky diode array in the boost converter simply because we use the same part as the flyback diode for the coil output, and using the same part twice simplifies the BOM, resulting in decreased assembly costs. Because the controller runs at 3.0 volts instead of the original 1.5 volts, we place a 100 ohm series resistor on both outputs. Most of the coils out there have a resistance of around 200 ohms, so the total series resistance of 200 ohms drops the voltage presented to the coil down to close to the original 1.5 volts. The flyback diode array is just outside of series resistors. The flyback diodes prevents the negative coil collapse voltage from being presented to the controller, which would potentially damage it.</p><p> We use the AVR's "idle" sleep mode, because we use a timer interrupt to wake the controller at 10 Hz, and idle mode is the deepest sleep available that allows the timer to run. Every time the controller wakes up, it makes a decision whether to tick or not and then goes back to sleep.</p><p>The timer is driven by the clock's 32.768 kHz crystal. Because that crystal is also the controller's execution clock, it takes very little power even when it's not sleeping. But obtaining a 10 Hz interrupt source from a 32.768 kHz source requires some tricky arithmetic. The timer is configured with a divide-by-64 prescale setting, resulting in a 512 Hz counting rate. To go from 512 Hz to 10 Hz we must divide by 51 1/5. To do that, we count to 52 once, and then count to 51 four times. Some of the intervals will be about 2 ms longer, but for this application, that's not significant.</p><p>The accuracy required to keep a clock reasonably close to the correct time is quite demanding. Even a pedestrian standard of 10 parts per million requires at least calibrating each manufactured batch of boards. The result of the calibration is a standard average drift factor. Each individual board can be expected to run within 10 parts per million of this standard drift due to the manufacturing tolerances of the crystal, but variations in all of the parts together may mean that they all run, say, 20 ppm fast, plus-or-minus 10 ppm....</p>
                                
                                    <a class="readmore" href="/post/18141">Read more &raquo;</a>
                                
                            </p>
                        </div>
                    
                    <div class="detail-btns">
                    
                            
                                <span><a href="/post/18141" class="grey-gold-button medium-button show">See all details</a></span>
                            
                    
                    </div>
                </div>

            

            
                
                    <div class="section section-components">
                        <h5>
                            
                                Components
                            
                        </h5>
                        
                            <ul class="section-component-list">
                                
                                    
    <li class="component-53304">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            ATTiny45-20XU
            <span class="component-description">Microprocessors, Microcontrollers, DSPs / ARM, RISC-Based Microcontrollers</span>
       </span>
    </li>

    <li class="component-53305">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            CM315D32768EZFT
            <span class="component-description">Frequency Control / Crystals</span>
       </span>
    </li>

    <li class="component-53306">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            NCP1402SN30T1G
            <span class="component-description">Power Management ICs / Switching Regulators and Controllers</span>
       </span>
    </li>

    <li class="component-53307">
        <span class="component-number">2</span>
        <span class="component-x">×</span>
        <span class="component-content">
            BAT54A
            <span class="component-description">Discrete Semiconductors / Diodes and Rectifiers Schottky diode array</span>
       </span>
    </li>

    <li class="component-53308">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            47µH inductor 1210
            <span class="component-description"></span>
       </span>
    </li>

    <li class="component-53309">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            10µF ceramic cap 0805
            <span class="component-description"></span>
       </span>
    </li>

    <li class="component-53310">
        <span class="component-number">2</span>
        <span class="component-x">×</span>
        <span class="component-content">
            22µF ceramic cap 0805
            <span class="component-description"></span>
       </span>
    </li>

    <li class="component-53311">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            0.1 µF ceramic cap 0805
            <span class="component-description"></span>
       </span>
    </li>

    <li class="component-53312">
        <span class="component-number">2</span>
        <span class="component-x">×</span>
        <span class="component-content">
            100 ohm 1% 1/8W resistor 0805
            <span class="component-description"></span>
       </span>
    </li>

    <li class="component-53313">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            10k 1% 1/8W resistor 0805
            <span class="component-description"></span>
       </span>
    </li>

                                
                            </ul>
                        <p>
                            
                            
                                <a href="/project/5880/components" class="grey-gold-button medium-button  show">See all components</a>
                            
                        </p>
                    </div>
                
            

            
                <div class="section section-buildlogs">

                    <h5>Project logs</h5>
                    
                    <ul class="buillogs-list post-content details-content">
                    
                        <li>
                            <h2><a href="/project/5880/log/22237-the-final-calibration-solution">The final calibration solution</a></h2>
                            <small class="authorship">11 days ago  &bull;
                            <a class="gray-link" href="/project/5880/log/22237#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p>Now that the prototypes of the <a href="https://hackaday.io/project/6872-gps-disciplined-tcxo">GPS disciplined oscillator</a> has proven to be a success, I&apos;ve made up the final solution to the crazy clock calibration.</p><p>It&apos;s more or less the same solution as before - an ATMega328p connected up to a 2x16 LCD as a &quot;backpack.&quot; There&apos;s a 1.8 volt LDO to supply the clock board being tested with power, and the pin carrying the 16.384 kHz square wave from the calibration firmware goes into the ICP pin. Rather than an oscillator on the board, there&apos;s an 74LVC1G17 Schmitt trigger buffer chip that acts as a clock &quot;reconstitution&quot; chip. It&apos;s fed from a 3.3 volt LDO (so that its input voltage range is more compressed - a 3.3 volt logic output will successfully clock the controller). The input comes from a 50 ohm Thevenin terminator right after a DC blocking capacitor. That, in turn, is fed from a header that&apos;s connected via a cable to the GPSDO. This configuration should work not only with the 3.3 volt LVCMOS square wave from the GPSDO, but with a 1v P-P sine wave.</p><p>The firmware is the same as I was running before, but is set up for a 10 MHz clock rather than 20 MHz. That done, the special self-calibration mode of the firmware reports a 0.00 ppm error when it&apos;s hooked up to a GPS module. That&apos;s as you&apos;d expect, of course, seeing as how that&apos;s just testing whether two otherwise identical GPS receivers can agree to within 10 ppb.</p><p>I&apos;ve now already used this solution to calibrate clock controllers for a customer, so... yay!</p>
                                
                            </p>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5880/log/22093-one-tricky-part">One tricky part</a></h2>
                            <small class="authorship">14 days ago  &bull;
                            <a class="gray-link" href="/project/5880/log/22093#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p>One thing I&apos;ve discovered a couple of times now is that the retrofit process for removing the manufacturer&apos;s oscillator PCB and replacing it with the purpose-built one is not completely trivial.</p><p>The pins that are soldered to the board aren&apos;t actually held in place by much of anything. They have the magnet wire from the coil wrapped around them below the board and they&apos;re just sitting in molded plastic sockets, sort of. What this means is that you must be extraordinarily careful to insure that the pins are completely free from the board before you attempt to pull it away. Otherwise, you risk putting undue tension on the coil wires. If you break those wires, repairing them is virtually impossible. The wires are incredibly fine and they&apos;re insulated. Stripping the insulation off without breaking the wire (again) is very difficult. It&apos;s not so bad if you break the wire coming from the outside of the coil. You can simply take one turn off the coil and have some slack. But if you break the inside wire, you&apos;re hosed.</p><p>This isn&apos;t such a big deal for me - I&apos;m used to the process. But it does make it just a little bit tedious. I could do a batch of a few hundred in a weekend for a &quot;starter&quot; retail order, but in larger volumes, it&apos;s going to be necessary to restart the conversation with Primex to see how a manufacturing run could be done substituting the crazy board for theirs.</p>
                                
                            </p>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5880/log/21273-vcocxo-trimming">VCOCXO trimming</a></h2>
                            <small class="authorship">a month ago  &bull;
                            <a class="gray-link" href="/project/5880/log/21273#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p>Well, I can&apos;t help myself. I decided to give a try to using a VCOCXO as the frequency standard.</p><p>When I left off, I said that I was probably just going to subtract away the error in firmware, but if nothing else my own curiosity got the better of me. My TCXO solution is adequate for the task, but if it&apos;s worth doing, it&apos;s worth overdoing. :)</p><p>I actually went down the road of seeing if I could use a 20 MHz reference clock with a GPS receiver to calibrate a clock module, but I ran into a problem.</p><p>To use the 20 MHz clock as a reference, you need to be able to use the Input Capture system of the ATMega328. The problem there is that there&apos;s only one input capture pin, but in order to do this, you need to capture both the GPS PPS output and the clock&apos;s output. You could OR the two together, but that means that during the PPS pulse, you lose the ability to lock at the clock output. It&apos;s just too messy.</p><p>So instead, I&apos;m going to set up a testing station with a 2 line LCD and a three pin header that puts out a 1.8 volt supply and takes a signal straight in to the capture pin of the 328. It will be clocked with a VCOCXO with a 20 turn trimpot feeding the control voltage. I&apos;ll load firmware in to show the drift of the 1 PPS signal sampled for 10 seconds (a granularity of 5 ppb), and use the trimpot to zero the drift out (after letting it warm up for several hours).</p><p>The 3 pin header (1.8v, ground and input) can either connect up to a clock board for testing (1.8 volts is supplied to the board under test to simulate a AA battery so that the conditions will be as similar as possible to real usage - the boost converter will turn the 1.8 volts into 3.0 volts, and in principle it doesn&apos;t matter that the input voltage is slightly high), or to a GPS calibration fixture. For that, I&apos;m going to put the same boost converter, an AdaFruit Ultimate GPS module, a battery, a U.FL antenna connector, a FIX led and a couple of three pin headers (the second will be the module&apos;s serial port, just in case I need to talk to it). To calibrate the calibrator, I&apos;ll hook this board up and load the &quot;1 Hz&quot; firmware for trimming it. To calibrate clocks, I&apos;ll hook a clock up instead and load the &quot;16.384 kHz&quot; calibrating firmware.</p><p>Another question I had in deciding on this was how to hook the trimpot up to the VCOCXO&apos;s control pin. Obviously, the voltage on that pin must be exceedingly stable. The &quot;steering&quot; ratio is around 7 ppm per volt. And the ability to make really accurate voltage isn&apos;t nearly as easy as making really accurate frequencies. Conner Winfield (the manufacturer of the oscillators I&apos;ve been using) has an application note that includes a reference voltage circuit that starts with an SPI D/A converter, which feeds into a chopper op-amp configured for unity gain, and then the CV pin of the oscillator. The amplifier&apos;s purpose is to protect the D/A converter from excessive loading, but the input impedance of the oscillator is listed as 100k. I wrote them and asked, and they suspected that simply using a trimpot alone would be fine. I&apos;ve decided to hedge my bets a bit. I&apos;m leaving the footprint for the amp on the board, but connecting the input and output with a normally closed solder jumper. I&apos;ll leave the amp unpopulated to start with, but if adding the amp becomes necessary, I won&apos;t need to re-order the board.</p><p>It&apos;s entirely possible that I could, instead, go with the SPI D/A converter and perform the calibration automatically in firmware, storing a correction factor in EEPROM. I could envision a fully automatic system that switches the ICP pin between the board under test and the GPS receiver. But that&apos;s too much overkill even for me. The only thing I regret is not including either a switch or a button on the board to swap the firmware from GPS to 16 kHz mode without reloading the firmware. Oh well.</p><p>EDIT: Actually, it turns...</p>
                                
                                    <a class="readmore" href="/project/5880/log/21273-vcocxo-trimming">Read more &raquo;</a>
                                
                            </p>
                        </li>
                    
                    </ul>
                    <p class="log-btns">
                        
                        
                            <a href="/project/5880/logs" class="grey-gold-button medium-button show">
                            
                                View all 10 project logs
                            
                            </a>
                        
                    </p>
                </div>
            

            
                
                    <div class="section section-instructions">
                        <h5>Build instructions</h5>
                        
                        
                            <ul class="post-content section-instructions-list">
                                
                                    <li>
                                        <span class="instruction-number">1</span>
                                        <div class="instruction-list-item"><p>These instructions are for retrofitting an existing movement with the "retrofit" variant of the Crazy Clock controller board. If you don't have a movement already, then the recommendation is to simply buy a complete movement from the Crazy Clock store. These movements have had their original PCB replaced with a dedicated Crazy Clock controller board, so the result will be more reliable in the long run.</p><p>If you have a clock that already has its own movement, and you don't want to replace it, then you'll need to retrofit that movement with these instructions.</p></div>
                                    </li>
                                
                                    <li>
                                        <span class="instruction-number">2</span>
                                        <div class="instruction-list-item"><p>Either obtain a pre-built Crazy Clock board from my Tindie store or assemble your own. There's no particular instructions for building the board itself beyond just the generic steps for surface mount assembly.</p></div>
                                    </li>
                                
                                    <li>
                                        <span class="instruction-number">3</span>
                                        <div class="instruction-list-item"><p>If you wish, you can test the board by powering it with a AA battery or other 1.5 volt power source, and connecting a bi-color LED (that is, a red and green LED in a single package connected anode-to-cathode to two common leads) to the CLOCK terminals. If you use a 5 mm through-hole LED, the leads will be spaced properly for the terminal. Don't solder the LED, just insert the leads and bend them apart to make a temporary connection. The LED should blink alternately red and green in the expected pattern for the firmware in the controller.</p></div>
                                    </li>
                                
                            </ul>
                        
                        <p>
                            
                            
                                <a href="/project/5880/instructions" class="grey-gold-button medium-button show">See all instructions</a>
                            
                        </p>
                    </div>
                
            
            
            <div class="section section-discussions last">
        <h5 id="j-discussions-title" class="j-discussions-title">Discussions</h5>

    <form id="j-discussion-add-top" action="/discussions/add" name="add-comment" method="POST" class="skip-global-form j-discussion-add hide">
        <div class="textarea-holder">
            <textarea placeholder="Add your comment" name="comment" class="editable input-comment"></textarea>
        </div>
        <input type="hidden" name="categoryId" value="5880" />
        <input type="hidden" name="category" value="project" />
        <input type="hidden" name="_csrf" value="eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s" />
        <input type="hidden" name="replyTo" value="0" />
        <input type="submit" class="grey-gold-button medium-button" value="Post comment" />
    </form>

    <div id="discussion-list">
        
<p>
    <div class="signup-holder textarea-holder">
        <textarea placeholder="Sign in or become a member to leave your comment" name="comment" class="editable input-comment"></textarea>
    </div>
    <a href="#" class="login-button grey-gold-button medium-button half show">Sign in/up to comment</a>
</p>
<div class="modal-content-holder login-modal" id="login-modal">
    <div class="submissions-close modal-cancel"></div>
    <div class="signup-holder">
        <h2>Become a member</h2>
        <p>In order to follow projects & hackers or give skulls
        <br />you need to create an account.</p>
        <form action="/signup" method="POST">
            <fieldset class="form-left">
                <input type="text" class="input-field" placeholder="Enter your email address" required name="email"  />
                <input type="password" class="input-field" placeholder="Pick a secure password" required name="password"  />
            </fieldset>
            <fieldset class="form-right">
              <button class="gold-gold-button signup" type="submit">Sign up</button>
          </fieldset>
          <input type="hidden" name="_csrf" value="eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s" />
          <input class="input-field" placeholder="Invitation Code" required name="invitation_code" value="5Ad0ix2-b96J" type="hidden" />
        </form>
        <a id="login-modal-signin" href="/signin">Already a member?</a>
    </div>
</div>








<script type="text/javascript">

    var pageIndex = 0;


</script>
    </div>

    

</div>



        </div>

    </div>

    
        <div class="container">
            <div class="section-recommendations">
                <h2>Similar projects</h2>
                
                    

<div class="project-item   ">

    
        <ul class="submissions-icons">
            
                
                    <li>
                        <a href="/submissions/prize2014/list" class="submission-icon submission-icon-1">
                            Official Hackaday Prize Entry
                        </a>
                    </li>
                
            
        </ul>
    

    <a href="/project/964-d-daq" class="item-link">
        <div title="D-DAQ by Michael O&#39;Brien" class="project-item-cover"
                
             style="background-image:url(https://cdn.hackaday.io/images/resize/600x600/3270241407734505235.jpg)"
                
                >

        </div>

        
                <div class="project-item-stats">
                    
                    
                        <span class="icon-view-count" title="View Count">12.9k</span>
                    
                    <span class="icon-comment-with-hover" title="Comments">27</span>
                    <span class="icon-view" title="Followers">96</span>
                    
                        <span class="icon-skull" title="Skulls">33</span>
                    
                </div>
         

        <div class="project-item-title hasBadge">
            automotive parameter &amp; performance monitor &amp; logger
        </div>
    </a>
    <div class="project-item-headline">
        <span class="project-owner hide">Project Owner</span>
        <span class="project-owner hide">Contributor</span>
        <h3><a href="/project/964-d-daq" title="D-DAQ">D-DAQ</a></h3>
        <p>by <a href="/hacker/6737">Michael O&#39;Brien</a></p>
    </div>
</div>
                
                    

<div class="project-item m-last-child  ">

    
        <ul class="submissions-icons">
            
                
            
                
                    <li>
                        <a href="/submissions/prize2015/list" class="submission-icon submission-icon-5">
                            The 2015 Hackaday Prize
                        </a>
                    </li>
                
            
        </ul>
    

    <a href="/project/4993-dual-channel-battery-chargeranalyzer" class="item-link">
        <div title="Dual Channel Battery Charger/Analyzer by K.C. Lee" class="project-item-cover"
                
             style="background-image:url(https://cdn.hackaday.io/images/resize/600x600/3023141436813457550.png)"
                
                >

        </div>

        
                <div class="project-item-stats">
                    
                    
                        <span class="icon-view-count" title="View Count">4.4k</span>
                    
                    <span class="icon-comment-with-hover" title="Comments">4</span>
                    <span class="icon-view" title="Followers">61</span>
                    
                        <span class="icon-skull" title="Skulls">15</span>
                    
                </div>
         

        <div class="project-item-title hasBadge">
            This is an efficient dual channel battery charger/analyzer for maintaining rechargeable batteries with programmable parameters and logging.
        </div>
    </a>
    <div class="project-item-headline">
        <span class="project-owner hide">Project Owner</span>
        <span class="project-owner hide">Contributor</span>
        <h3><a href="/project/4993-dual-channel-battery-chargeranalyzer" title="Dual Channel Battery Charger/Analyzer">Dual Channel Battery Charger/Analyzer</a></h3>
        <p>by <a href="/hacker/10708">K.C. Lee</a></p>
    </div>
</div>
                
                    

<div class="project-item  b-last-child ">

    
        <ul class="submissions-icons">
            
                
            
                
                    <li>
                        <a href="/submissions/prize2015/list" class="submission-icon submission-icon-5">
                            The 2015 Hackaday Prize
                        </a>
                    </li>
                
            
        </ul>
    

    <a href="/project/6490-a-versatile-labtool" class="item-link">
        <div title="A Versatile Labtool by Jithin" class="project-item-cover"
                
             style="background-image:url(https://cdn.hackaday.io/images/resize/600x600/6800161439363231190.jpg)"
                
                >

        </div>

        
                <div class="project-item-stats">
                    
                    
                        <span class="icon-view-count" title="View Count">2.1k</span>
                    
                    <span class="icon-comment-with-hover" title="Comments">0</span>
                    <span class="icon-view" title="Followers">25</span>
                    
                        <span class="icon-skull" title="Skulls">14</span>
                    
                </div>
         

        <div class="project-item-title hasBadge">
            A cost effective data acquisition tool with reasonable accuracy. Equipped with a Python Library and several Apps.
        </div>
    </a>
    <div class="project-item-headline">
        <span class="project-owner hide">Project Owner</span>
        <span class="project-owner hide">Contributor</span>
        <h3><a href="/project/6490-a-versatile-labtool" title="A Versatile Labtool">A Versatile Labtool</a></h3>
        <p>by <a href="/hacker/35701">Jithin</a></p>
    </div>
</div>
                
            </div>

        </div>
    

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_project&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />
    <div class="j-modal-confirmation modal-background"></div>
<div class="j-modal-confirmation modal-content-holder">
    <p class="align-center" id="modal-message"></p>
    <p class="align-center"><a class="medium-button gold-gold-button delete-project-button" id="modal-yes" href="">Yes, delete it</a> <a class="medium-button grey-gold-button cancel-button" id="modal-cancel">Cancel</a> </p>
</div>

    
    
    
    
    
    
    
    
    
    

    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evYhvPcTNHjcVmLti9HxMVov4N%2FG0Vb08G3dKHr8dVQWzXej5t18RehizqZ8wIVJ7qCSmA5v7VaFjCQENYTT0gaQoyhjrODHsQk5JUVvz7t44Dtk%2B11xxmipO4Y%2B9cBwn1IdfK1bYjGht%2Bf1yWZu2SwuQOo6kGY9xwArhHVwpedkUh5kLaSLkPbgFU2aMPMYlr%2FkGi5SGh0159v8zUCbh%2Fx4qqGgiq8xue1QDxwAtojDbMufEMnPeES%2BXUvICUCqPFVF9PsrubQsdtbQAJZsDggl-0.48.6.js"></script>

    <style>
        .mediumInsert-buttons {
            display: none !important;
        }
    </style>

    <div id="submission-popup-back"></div>
    <div id="submission-popup"></div>

    <div id="modal-report-back" class="modal-background"></div>
    <div id="modal-report" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form action="/report/project" class="j-modal-form">
            <h2>Report project as inappropriate</h2>

            <p class="intro-text">
                You are about to report the project "<b>Crazy Clock</b>", please tell us the reason.
            </p>

            <textarea name="comment" class="j-report-comment" placeholder="Why do you report the project as inappropriate"></textarea>

            <input type="hidden" name="_csrf" value="eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s" />
            <input type="hidden" name="projectId" value="5880" />
            <div class="modal-footer">
                <input type="submit" value="Report" class="gold-gold-button"/>
            </div>
            <div class='j-modal-form-message'></div>
        </form>
        <div class='j-modal-message hide'></div>
    </div>



    <div id="modal-contributor-apply-back" class="modal-background"></div>
    <div id="modal-contributor-apply" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form id="contributor-apply-form">
            <h2>Send message</h2>

            <textarea name="message" class="j-report-comment">
Hello,

I really like your project and I think I have skills to help you.
            </textarea>
            <p class="application-success">Your application has been submitted.</p>
            <input type="hidden" name="_csrf" value="eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s" />
            <input type="hidden" name="projectId" value="5880" />

            <div class="modal-footer">
                <input type="submit" value="Send" class="gold-gold-button"/>
            </div>
        </form>

    </div>


    <div id="modal-contributor-remove-back" class="modal-background"></div>
    <div id="modal-contributor-remove" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form id="contributor-remove-form">
            <h2>Remove Contributor</h2>
            <p>
                Are you sure you want to remove yourself as a contributor for this project?
            </p>
            <p>Project owner will be notified upon removal.</p>
            <input type="hidden" name="_csrf" value="eIt1kzsI-bB6u6VmvglSxUnInNW9xme8mq8s" />
            <input type="hidden" name="projectId" value="5880" />
            <input type="hidden" name="remove_contributor_id" id="remove_contributor_id"/>

            <div class="modal-footer">
                <input type="submit" value="Remove" class="gold-gold-button"/>
                <input value="Nevermind" class="gold-gold-button"/>
            </div>
        </form>
    </div>


    <script>
        HIO.projectId = 5880;
    </script>

  </body>
</html>
