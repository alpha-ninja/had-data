<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; PQ60 - EPS &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F4591%2Flogs%3Fpage%3D1">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/4591-pq60-eps">PQ60 - EPS</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">An Electronic Power System in the PocketQube 60 femtosatellite form factor</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/22800-pinski1" title="Visit Profile">Pinski1</a><span>&bull;</span>
                
                5 months ago<span>&bull;</span><a href="/project/4591#discussion-list" title="See Comments">8 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/4591-pq60-eps">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/4591/logs/sort/newest">Newest</option>
                    <option value="/project/4591/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/4591/log/15189-initial-check-in">Initial check in</a></h2>
                            <small class="authorship">5 months ago  &bull;
                                <a class="gray-link" href="/project/4591/log/15189#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-15189"><p>Hey,</p><p>This is my entry to the 2015 Hackaday Prize. A femto satellite  Electronic Power System (EPS).<br></p><p>I came up with the idea to create this board after seeing the QubeCast Max reach the semifinals in the 2014 Hackaday Prize. I wanted to help push the popularity of femto satellites forward. I'm currently doing some re-design work on the PCB layout.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4591/log/16156-updates">Updates</a></h2>
                            <small class="authorship">5 months ago  &bull;
                                <a class="gray-link" href="/project/4591/log/16156#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-16156"><p>It's been quite some time since I last updated this, been a bit busy lately getting my 13.5kg combat robot up and ready for its first competition in mid April. But anyway back to the PQ60 EPS! I have been working on this in the background, namely looking at the new PocketQube (v1.1) spec (available at <a href="http://pq60.info/" target="_blank">http://pq60.info/</a>) and seeing what I need to update on my EPS to bring it into line.</p><p>The big difference between the PocketQube v1.1 spec and v0.2 spec is the pin assignments of the 60 pin connector:</p><ul><li>Ground pins are no long spread out and are next to their respective power supplies</li><li>General Purpose In/Out (GPIO) pins are now grouped together instead of being spaced out</li><li>USB has been completely removed</li><li>Power pins have been grouped together and have detailed current capacities.</li></ul><p>Overall I think these changes are good, they've simplified the pin arrangement massively. I hope to now re-design my board to fulfil the full PQ60 spec and supply the required 800milliAmps on each of the two main power buses as well as the 400milliAmps on each of the six switched buses. However I disagree with the need for switched power buses.</p><p>I agree with the need, it is important that the On Board Computer (OBC) can turn off current consumers, known as load shedding, however I feel that it would be better served by having this managed by a local I2C controlled switch on the load's PCB. This could be done with a dedicated microcontroller that allows for load telemetry/control or even a barely smart load switch like the Texas Instruments <a href="http://www.ti.com/product/tps22994" target="_blank">TPS22994</a> or the Linear Tech <a href="http://www.linear.com/product/LTC1710" target="_blank">LTC1710</a> both take up ~10mm2 of board space and ~20microAmps.</p><p>In addition to the spec related update I also went through the footprints to check that I hadn't made a mistake which would make the first boards really hard to get working. I had, nuts! My inductor footprint for the Linear Tech <a href="http://www.linear.com/product/LTC3105" target="_blank">LT3105</a> energy harvesters was wrong, really wrong. The correct footprint was much larger and will require a redesign of the EPS.</p><p>Whilst I continue with the changes to the EPS I've been thinking, while EPS is very important, but it's also important to have communications and command processing so I may expand this entry to add a radio board and a computer board for a full PQ60 solution.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4591/log/16435-femto-satellites-a-rough-guide">Femto Satellites - A Rough Guide</a></h2>
                            <small class="authorship">4 months ago  &bull;
                                <a class="gray-link" href="/project/4591/log/16435#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-16435"><p>My goal for this project was to improve the exposure of PocketQube femto-satellites. These are 50mm x 50mm x 50mm satellites that have been very popular in the news for their extremely low cost to orbit. I want to add to the open source <a href="https://hackaday.io/project/1726-qubecast-max" target="_blank">QubeCast Max</a> transmitter/receiver board with another core board that is critical for a PocketQube, the Electronic Power System (EPS). Without an EPS board you cannot generate power to keep your satellite transmitting or carrying out the science that you intend.</p><p>Small satellites were born as a result of an over all industry trend to increase the reliability and longevity of satellites as they cannot be repaired. This lead to larger more expensive satellites that cost more to design, manufacture and launch into space. The increase in costs also meant an increase in the required reliability which mean only parts which had already been flown or proven to work in space could be used in the design and manufacture. This cycle would keep going increasing the cost which would increase the required reliability all to the detriment of innovation. To counteract this small satellites were born, design smaller satellites with shorter lifetimes and thus less required reliability which makes them cheaper to design manufacture and build. They're also cheaper to launch as they could be auxilary payloads on larger satellite launches. The most popular form-factor for these now is the Cube Satellite which is 100mm on each side.</p><p>To continue the cycle PocketQube was born in 2009 in the US as a way of reducing the costs even further down to where most universities could feasibly build, test and launch one. You can read more about them on their Wikipedia page <a href="http://en.wikipedia.org/wiki/PocketQube" target="_blank">here</a>.</p><p>The block diagram below shows a typical PocketQube satellite.</p><p><img src="https://cdn.hackaday.io/images/7698701428851906125.png"></p><p>The core of the satellite is the PQ60 Bus, this is a set of interconnections between all the boards in the satellite. It contains power, communications and GPIOs. It is like the spine of the PocketQube satellite. Which would make the OBC or On Board Computer the brain, this is the primary controller for the satellite, it could be as simple as an Arduino or it could be a micro-processor running Linux. While the hardware for the OBC may not be too complex the software needs to be so as to be fault tolerant to keep the satellite running despite any problems it encounters. The RxTx is the radio for communicating with the ground stations, it's great to have a satellite by the data it produces must be communicated to the ground station or it has no purpose. It will be quite high powered to communicate across the vast distances and need to be quite high frequency to both transmit/receive data efficiently but also escape the Earth's ionosphere. The EPS extracts power from the solar cell arrays and charges a battery, it then provides with power to the rest of the satellite via the PQ60 bus.</p><p>Optional payload boards depend on the mission scenarios, some missions may call for accurate attitude control of the satellite so will include attitude determining sensors as well as actuators. Other payload boards may include secondary radios, secondary EPSs and cameras. The great thing about the PocketQube standard is that they can be easily slotted into the satellite with minimal electronic hardware changes.</p><p>Below is a simplified block diagram of my EPS:</p><p><img src="https://cdn.hackaday.io/images/3882991428851976128.png"></p><p>Up to 4 solar cell arrays are connected to the EPS and 4 Maximum Power Point Trackers (MPPTs) seek to extract the most power from the cells in the most efficient way. The aim is to maximise the amount of power absorbed each orbit.</p><p>The charger then stores this energy in a battery, typically lithium ion to maximise energy per unit weight. The battery will provide power during periods the satellite is not collecting solar energy or eclipse. This is monitored by the telemetry block so the state of charge can be determined, how much energy is left. The charger also monitors the battery and disconnects it from the rest of the satellite if it becomes dangerously low.</p><p>The release switch ensures that the satellite doesn't operate when it is in storage either on the ground or in the launcher.</p><p>There are two main power buses on the PQ60 connector, a regulated and protected +3V3 bus with 3 switched outputs and an unregulated but protected battery voltage bus with 3 switched outputs. The protection is to ensure that nothing draws too much power from the battery during fault conditions. This will limit faults to the board that they originate on. The switches allow for high powered loads to be included, for example the QubeCast Max uses an unregulated switched power bus to power the radio allowing it to be shut down independently should it draw too much power.</p><p>The telemetry block provides data to the OBC about how much power is flowing to different parts of the satellite and allows some control over this. This is very important during faults to allow for diagnostics from the ground.</p><p>I've some further tweaks to my EPS but I hope to be able to show off a more detailed block diagram in future.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4591/log/20539-a-new-version">A new version!</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/4591/log/20539#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20539"><p>So a few months back the PQ60 Standard group published a new PQ60 standard that redefined the board sizes and pin maps. This of course meant I needed to redesign my board so as to maintain comparability.<br></p><p>This time, with specific figures for how much each rail needed to be able to source I could design my EPS to fully met the specification. Of course to control the 6 switched power rails and collate the telemetry I'm adding a micro-controller to the EPS. I'm still somewhat against having separate switch-able rails. I feel that a satellite won't need the 6 switch-able rails and they become wasted pin space. On the other end of the scale the satellite needs more switch-able rails and so needs to come up with a creative way of sourcing new ones.</p><p>Regardless I now need to fit 8 current limiting switches and have 6 of them individually controllable. To fit these 8 switches with 2 levels of current limiting I've chosen the <a href="http://www.ti.com/product/TPS2553">TPS2553</a>. This chip is available in a tiny surface mount package and the current limit can be set with an external resistor.</p><p>I'm keeping the battery charger chip (<a href="http://www.maximintegrated.com/en/products/power/battery-management/MAX8606.html">MAX8606</a>) the same but I've found a TI chip (<a href="http://www.ti.com/product/bq24072">BQ24072</a>)</p><p> that has most of the same  functions. I'm also keeping the Boost-Buck converter (<a href="http://www.ti.com/product/tps63001">TPS63001</a>) the same as it can supply the required current.</p><p>A big change I've made is to move the Maximum Power Point Tracking (MPPT) circuitry to the top of the board. I decided that it would be too hard to solder the complex circuitry on both sides of the PCB. To do this I also combined two of the channels as on a 6 sided satellite only 3 faces can ever be illuminated at once so by connecting opposite faces in parallel more efficient use of the MPPTs can be made.</p><p>The biggest change is to add a micro-controller to the EPS. This causes a lot more work as now code must be written, and tested, and verified etc. But it does allow me to build in better features improving the safety and ease of interfacing. I've chosen the <a href="http://www.freescale.com/webapp/sps/site/prod_summary.jsp?code=KL0">Feescale KL05</a> as it is cost effective, I have some experience of using it and it is <a href="http://mbed.org/">mbed</a> compatible.</p><p>The next step is to actually order the boards &amp; parts and get it made up. Then I will need to start testing it!</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4591/log/22443-populating-issue-a-pcb">Populating Issue A PCB</a></h2>
                            <small class="authorship">8 days ago  &bull;
                                <a class="gray-link" href="/project/4591/log/22443#discussion-list">
                                    2 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22443"><p>And now for a video log!</p><iframe style="width: 500px; height: 281px;" width="500" height="281" src="//www.youtube.com/embed/9HRqeMGQ6j8" frameborder="0" allowfullscreen=""></iframe><p>Things not mentioned in the video:</p><ul><li>I&apos;m going to Chaos Communications Camp (CCC) 2015 in Germany to give a talk on combat robots!</li><li>I&apos;ve got some basic code working on an FRDM KL05 mbed board</li><li>I&apos;m planning to finish populating the board once I get back from CCC and I&apos;ll video the &apos;smoke test&apos;!</li><li>I&apos;ve already identified some large problems, so an Issue B is guaranteed!</li></ul></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 's2Sc3FbA-Q8wIl54kwf4xCYvbW5OKg9V9w_8';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>