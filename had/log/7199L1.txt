<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Shower Metronome &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F7199%2Flogs%3Fpage%3D1">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/7199-shower-metronome">Shower Metronome</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Minimize shower day dreaming, conserve a bit of water.</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/12295-mulcmu" title="Visit Profile">mulcmu</a><span>&bull;</span>
                
                5 days ago<span>&bull;</span><a href="/project/7199#discussion-list" title="See Comments">0 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/7199-shower-metronome">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/7199/logs/sort/newest">Newest</option>
                    <option value="/project/7199/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/7199/log/22837-learnerville">Learnerville</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/22837#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22837"><p>A last minute offer to go to the dirt track race tonight derailed progress.  I did wear a HAD T-shirt.  Despite the wrenches on the logo, I still didn&apos;t blend in with the crowd.<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7199/log/22847-a3144">A3144</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/22847#discussion-list">
                                    1 comment
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22847"><p>Scavenged parts bin for hall effect sensor.  Found a A3144.   Hooked it up to the breadboard.  Seems sensitive to magnet direction.  Also discovered this breadboard LED widget has an open circuit.  Pushing on the LED made it light up with the magnet held in place.  At least this sensor doesn&apos;t latch and require magnet to flip to reset.  It will work for the prototype.</p><p><img src="https://cdn.hackaday.io/images/8870501439613008005.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7199/log/22965-more-a3144">More A3144</a></h2>
                            <small class="authorship">3 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/22965#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22965"><p>Datasheet shows the minimum input voltage as 4.5V.  I had planned to have a single 3.3V supply or even run right from 3V battery.  Tested the sensor on the bench again tonight with 3.3V input power.  Seems to work satisfactorily, the hysterisis between on and off seems to be significantly reduced. </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7199/log/22968-preliminary-diagram">Preliminary Diagram</a></h2>
                            <small class="authorship">3 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/22968#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22968"><img src="https://cdn.hackaday.io/images/322811439686134215.jpg"><p>Texas Instrument MSP430 will be used with LaunchPad to perform the programming.  There should be a few 14 pin DIP modules in the parts bin.</p><p>Allegro A3144 from the parts bin for the hall effect sensor.  These were sourced from Ebay and appear to be obsolete.</p><p>I have some generic beepers in the parts bin and some speakers.  Beeper would be easier to implement.  PWM output from MCU to speaker might allow for better feedback with differnt frequency chirps.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7199/log/23033-enclosure">Enclosure</a></h2>
                            <small class="authorship">3 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/23033#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23033"><p><img src="https://cdn.hackaday.io/images/8261441439724390464.jpg"></p><p>Enclosure for the project located.  Battery compartment is 3 LR44 coin cells.  Speaker already included as well.  Original PCB has epoxy blob logic.  PCB area is pretty small.  Original used a reed switch.<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7199/log/23121-prototype">Prototype</a></h2>
                            <small class="authorship">2 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/23121#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23121"><p>Put a quick test circuit together on a breadboard.</p><p><img src="https://cdn.hackaday.io/images/7729341439757112372.JPG"></p><p>Had some MSP430G2211 in the parts bin so used one of those.  Using code composer studio and LaunchPad to program / debug.  Used Grace to easily configure the pins, P1.6 has internal pull up resistor and the hall effect output.  Pin P1.1 has a 2N3904 NPN with the beeper as a low side switch.  Basic code for testing everything and the initial video:</p><pre class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{
    Grace_init();                   <span class="hljs-comment">// Activate Grace-generated configuration</span>
    
    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)
    {
    	<span class="hljs-keyword">if</span> (P1IN &amp; BIT6)  <span class="hljs-comment">//Pin 1.6 is low whenever magnet is detected</span>
    	{
    		<span class="hljs-comment">//Pin 1.6 is high, turn off beeper</span>
    		P1OUT &amp;= ~(BIT1);  <span class="hljs-comment">//Clear output bit</span>
    	}
    	<span class="hljs-keyword">else</span>
    	{
    		<span class="hljs-comment">//Pin 1.6 is low, turn on beeper</span>
    		P1OUT |= BIT1;  <span class="hljs-comment">//Set output bit</span>

    	}

    }
    
}</pre><br></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7199/log/23157-entry">Entry</a></h2>
                            <small class="authorship">2 days ago  &bull;
                                <a class="gray-link" href="/project/7199/log/23157#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23157"><p>Created and uploaded video of prototype:</p><p><iframe src="//www.youtube.com/embed/UBZyamH-mpA" allowfullscreen="" frameborder="0" height="281" width="500"></iframe>Created system design document:</p><p><a href="https://github.com/mulcmu/ShowerMetronome/blob/master/design%20document.pdf">https://github.com/mulcmu/ShowerMetronome/blob/master/design document.pdf</a><br></p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'VQ2UfE8g-h1tGpG32AI_PAdvibfsVWVoYbNk';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>