<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; 5.5W Diode Laser for CNC &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F6189%2Flogs%3Fpage%3D1">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/6189-55w-diode-laser-for-cnc">5.5W Diode Laser for CNC</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Compact diode laser for CNC, etc.</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/72811-the-lightning-stalker" title="Visit Profile">The Lightning Stalker</a><span>&bull;</span>
                
                2 months ago<span>&bull;</span><a href="/project/6189#discussion-list" title="See Comments">8 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/6189-55w-diode-laser-for-cnc">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/6189/logs/sort/newest">Newest</option>
                    <option value="/project/6189/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/6189/log/21986-code-diagrams">Code, diagrams</a></h2>
                            <small class="authorship">18 days ago  &bull;
                                <a class="gray-link" href="/project/6189/log/21986#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21986"><p>Posting some code and digigrams</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6189/log/21987-controller-schematic">Controller Schematic</a></h2>
                            <small class="authorship">18 days ago  &bull;
                                <a class="gray-link" href="/project/6189/log/21987#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21987"><p><img src="https://cdn.hackaday.io/images/3449061438450010306.png"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6189/log/21988-pic10f200-code">PIC10F200 Code</a></h2>
                            <small class="authorship">18 days ago  &bull;
                                <a class="gray-link" href="/project/6189/log/21988#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21988"><pre class="hljs markdown">;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
;                                                                              *
;    Filename:     Laser_Pantograph.asm                                        *
;    Date:         8/5/2014                                                    *
;    File Version: 1.0                                                         *
;    Author:       The Lightning Stalker                                       *
;    Company:      Lightning Industries                                        *
;    Description:  Implements countdown timer and remote switch for            *
;                    facilitation of compliance with FDA regs.                 *
;                                                                              *
;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
;                                                                              *
;    Revision History:                                                         *
;                                                                              *
;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*

<span class="hljs-header">#define SWITCH      GPIO,GP3        ; Remote switch</span>
<span class="hljs-header">#define COMP        GPIO,GP2        ; Comparator output</span>
<span class="hljs-header">#define PS_ON       shadow,GP0      ; ATX PS_ON</span>
<span class="hljs-header">#define PS_ON_MASK  b&apos;00000001&apos;     ; Bitmask for PS_ON (GP2)</span>
<span class="hljs-header">#define BEEP        shadow,GP1      ; Have a buzzer for some output.</span>
<span class="hljs-header">#define BEEP_MASK   b&apos;00000010&apos;     ; Bitmask to toggle the buzzer</span>
<span class="hljs-header">#define DoIBeep     Beep,0          ; boolean beeping toggle</span>

;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
; Processor Inclusion
;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*

<span class="hljs-header">#include &quot;p10f200.inc&quot;</span>
<span class="hljs-header">#include &quot;Debounce.inc&quot;</span>

; CONFIG
; __config 0xFFEB
 <span class="hljs-emphasis">__CONFIG _</span>WDTE<span class="hljs-emphasis">_OFF &amp; _</span>CP<span class="hljs-emphasis">_OFF &amp; _</span>MCLRE_OFF

;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
; Variable Definitions
;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*

GPR_VAR         UDATA
TimerL          RES 1
TimerH          RES 1
TimerE          RES 1
TimerW          RES 1
Beep            RES 1
shadow          RES 1

;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
; Reset Vector
;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*

RES_VECT  CODE    0x0000            ; processor reset vector
<span class="hljs-code">    GOTO    START                   ; go to beginning of program</span>

;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
; MAIN PROGRAM
;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*

MAIN_PROG CODE                      ; let linker place main program

START

Reset
<span class="hljs-code">    movwf   OSCCAL                  ; load oscillator calibration value</span>
<span class="hljs-code">    bcf     OSCCAL,FOSC4            ; disable FOSC/4 output on pin 3</span>
<span class="hljs-code">    movlw   b&apos;10011111&apos;             ; put Timer0 in timer mode, set pin 3 as GP2</span>
<span class="hljs-code">    option                          ; and enable weak pull-ups</span>


Init
<span class="hljs-code">    movlw   PS_ON_MASK              ; Clear all output (latch)</span>
<span class="hljs-code">    movwf   GPIO                    ; except for GP0, which is inverted PS_ON</span>
<span class="hljs-code">    movwf   shadow                  ; and output register shadow</span>
<span class="hljs-code">    movlw   0xff                    ; Set GP2 &amp; 3 as input, GP0 &amp; 1 as output</span>
<span class="hljs-code">    xorlw   PS_ON_MASK</span>
<span class="hljs-code">    xorlw   BEEP_MASK</span>
<span class="hljs-code">    tris    GPIO                    ; Load TRIS</span>

;goto Main ;<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>REMOVE<span class="hljs-strong">*****</span><span class="hljs-strong">****REMOVE**</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>REMOVE!!!!!
;Sound alarm, light LED, and begin 25 second countdown.
<span class="hljs-code">    movlw   BEEP_MASK</span>
<span class="hljs-code">    xorlw   PS_ON_MASK              ; remember, PS_ON HAS TO stay high!</span>
<span class="hljs-code">    movwf   shadow</span>
<span class="hljs-code">    movwf   GPIO</span>
<span class="hljs-code">    movlw   .6                      ; Sound alarm for one second</span>
<span class="hljs-code">    movwf   TimerE</span>
<span class="hljs-code">    movlw   .19</span>
<span class="hljs-code">    movwf   TimerH</span>
<span class="hljs-code">    movlw   .173</span>
<span class="hljs-code">    movwf   TimerL</span>
Delay1s
<span class="hljs-code">    decfsz  TimerL,f</span>
<span class="hljs-code">    goto    Delay1s</span>

<span class="hljs-code">    decfsz  TimerH,f</span>
<span class="hljs-code">    goto    Delay1s</span>

<span class="hljs-code">    decfsz  TimerE,f</span>
<span class="hljs-code">    goto    Delay1s</span>

<span class="hljs-code">    movlw   PS_ON_MASK</span>
<span class="hljs-code">    movwf   shadow                  ; Everything off</span>
<span class="hljs-code">    movwf   GPIO</span>

<span class="hljs-code">    movlw   .122                    ; Delay another 24 seconds</span>
<span class="hljs-code">    movwf   TimerE</span>
<span class="hljs-code">    movlw   .193</span>
<span class="hljs-code">    movwf   TimerH</span>
<span class="hljs-code">    movlw   .129</span>
<span class="hljs-code">    movwf   TimerL</span>
Delay24s
<span class="hljs-code">    decfsz  TimerL,f</span>
<span class="hljs-code">    goto    Delay24s</span>

<span class="hljs-code">    decfsz  TimerH,f</span>
<span class="hljs-code">    goto    Delay24s</span>

<span class="hljs-code">    decfsz  TimerE,f</span>
<span class="hljs-code">    goto    Delay24s</span>

<span class="hljs-code">    goto    $+1</span>


Main
;Wait for remote signal
<span class="hljs-code">    btfsc   SWITCH                  ; someone pressing the switch?</span>
<span class="hljs-code">    goto    $ + 5                   ; keep going</span>
<span class="hljs-code">    call    SwitchDebounce          ; Debounce it then!</span>
<span class="hljs-code">    xorlw   1                       ; Did it</span>
<span class="hljs-code">    btfss   STATUS,Z                ; bounce?</span>
<span class="hljs-code">    goto    SwitchPressed           ; nope.avi</span>

<span class="hljs-code">    goto    Main</span>


SwitchPressed
<span class="hljs-code">    clrf    shadow                  ; Bring laser online</span>
<span class="hljs-code">    clrf    GPIO</span>

LaserON
<span class="hljs-code">    btfss   SWITCH                  ; Switch still on?</span>
<span class="hljs-code">    goto    LaserON                 ; Yes</span>
<span class="hljs-code">    movlw   PS_ON_MASK              ; No</span>
<span class="hljs-code">    movwf   shadow                  ; Shut the laser off</span>
<span class="hljs-code">    movwf   GPIO</span>
<span class="hljs-code">    goto    Main</span>


<span class="hljs-code">    END                             ; Directive &apos;end of program&apos;</span>
</pre><p>Debounce.inc -</p><pre class="hljs vbscript">;******************************************************************************
;SwitchDebounce - Waits <span class="hljs-keyword">for</span> switch <span class="hljs-keyword">to</span> release <span class="hljs-keyword">and</span> settle
;******************************************************************************
; The SWITCH must be a steady high <span class="hljs-keyword">for</span> <span class="hljs-number">10</span> milliseconds <span class="hljs-keyword">to</span> be considered
; released <span class="hljs-keyword">and</span> debounced. The debounce routine sets a <span class="hljs-number">10</span> mSec <span class="hljs-built_in">timer</span> <span class="hljs-keyword">and</span> looks
; <span class="hljs-keyword">for</span> a high SWITCH input. The <span class="hljs-built_in">timer</span> <span class="hljs-keyword">is</span> reset <span class="hljs-keyword">to</span> <span class="hljs-number">10</span> mSec <span class="hljs-keyword">for</span> every occurance of
; a low SWITCH input.
;
; Debounce <span class="hljs-built_in">timer</span> constants (TenMSH <span class="hljs-keyword">and</span> TenMSL) are a <span class="hljs-keyword">function</span> of the
; instruction execution <span class="hljs-built_in">time</span> <span class="hljs-keyword">and</span> number of instructions <span class="hljs-keyword">in</span> <span class="hljs-keyword">each</span> <span class="hljs-keyword">loop</span>. Debounce
; <span class="hljs-built_in">time</span> <span class="hljs-keyword">for</span> this example <span class="hljs-keyword">is</span>:
; <span class="hljs-built_in">Timer</span> overhead + TenMSH * [outer <span class="hljs-keyword">loop</span> <span class="hljs-built_in">time</span> + (TenMSL * inner <span class="hljs-keyword">loop</span> <span class="hljs-built_in">time</span>)]
; <span class="hljs-keyword">or</span> [<span class="hljs-number">2</span> + TenMSH * (<span class="hljs-number">5</span> + (TenMSL * <span class="hljs-number">5</span>))]*(<span class="hljs-number">4</span>/fosc)= <span class="hljs-number">.010</span>
;
; Arbitrarily choosing <span class="hljs-number">99</span> <span class="hljs-keyword">for</span> TenMSL we solve <span class="hljs-keyword">for</span> TenMSH
; <span class="hljs-number">2</span> + TenMSH * (<span class="hljs-number">5</span> + (<span class="hljs-number">99</span> * <span class="hljs-number">5</span>)) = <span class="hljs-number">10</span>,<span class="hljs-number">000</span>
; TenMSH = <span class="hljs-number">9998</span>/<span class="hljs-number">500</span> ~ <span class="hljs-number">20</span>

#define TenMSH 		<span class="hljs-number">.20</span>
#define TenMSL		<span class="hljs-number">.99</span>


DEBOUNCE_VAR    UDATA
CountH          RES <span class="hljs-number">1</span>   ; debounce counter MS byte
CountL          RES <span class="hljs-number">1</span>   ; debounce counter LS byte


DEBOUNCE CODE
SwitchDebounce

	movlw	TenMSH		; <span class="hljs-keyword">set</span> outer <span class="hljs-built_in">timer</span> <span class="hljs-keyword">loop</span> count
	movwf	CountH		; outer <span class="hljs-keyword">loop</span> overhead <span class="hljs-keyword">is</span> <span class="hljs-number">2</span> instructions

;========== outer <span class="hljs-keyword">loop</span> [TenMSH * <span class="hljs-number">5</span> instruction cycles*(Inner <span class="hljs-keyword">loop</span> <span class="hljs-built_in">time</span>)] ======
SDA10
	movlw	TenMSL		; <span class="hljs-keyword">set</span> inner <span class="hljs-built_in">timer</span> <span class="hljs-keyword">loop</span>
	movwf	CountL
;----------------- inner <span class="hljs-keyword">loop</span> (TenMSL * <span class="hljs-number">5</span> instruction cycles) -----------------
SDA20
	btfsc	SWITCH	; test SWITCH input
	retlw <span class="hljs-number">1</span>         ; SWITCH was high - return nonzero status

	decfsz	CountL,f	; inner <span class="hljs-keyword">loop</span> countdown
	<span class="hljs-keyword">goto</span>	SDA20		; test SWITCH <span class="hljs-keyword">while</span> counting

;-------------------------------- inner <span class="hljs-keyword">loop</span> ----------------------------------

	decfsz	CountH,f	; outer <span class="hljs-keyword">loop</span> countdown
	<span class="hljs-keyword">goto</span>	SDA10		; reset inner <span class="hljs-keyword">loop</span> after <span class="hljs-keyword">each</span> outer <span class="hljs-keyword">loop</span> count

;================================ outer <span class="hljs-keyword">loop</span> ==================================

	retlw <span class="hljs-number">0</span> 		; full countdown <span class="hljs-keyword">and</span> no bounces achieved - <span class="hljs-keyword">exit</span>
</pre></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6189/log/21994-co2-vs-diode">CO2 vs Diode</a></h2>
                            <small class="authorship">18 days ago  &bull;
                                <a class="gray-link" href="/project/6189/log/21994#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21994"><p>Diode lasers have much higher divergence and lower output than the CO2 lasers we usually see in cutting machines. To compensate, we must mount the diode very close to the work. Luckily a laser diode is small enough that won&apos;t be a problem.</p><p>Why not use a CO2 laser then?  CO2 lasers have problems of their own.  They are bulky, require high voltage and a water cooling loop.  Water and electricity are mixing very close together.  They are also thin glass and very fragile.  Many do not survive a trip through the mail system.  Internal misalignment and power fade are also very common.  So why are we still using them?  It comes down to power density, absorption, and beam quality.  CO2 is still the cheapest solution for laser metal cutting.</p><p>But for a hobbyist interested in etching and light cutting of thin materials (not metals unless very thin), diode lasers still have an advantage.</p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'gwf7tsme-a6hAo5JepoHzXhxBE4Mx_Zt6ch8';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>