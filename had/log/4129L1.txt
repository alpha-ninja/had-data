<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Function Generator &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F4129%2Flogs%3Fpage%3D1">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/4129-function-generator">Function Generator</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Simple function generator using an AVR, built from parts I have lying around</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/4501-the-big-one" title="Visit Profile">The Big One</a><span>&bull;</span>
                
                7 months ago<span>&bull;</span><a href="/project/4129#discussion-list" title="See Comments">2 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/4129-function-generator">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/4129/logs/sort/newest">Newest</option>
                    <option value="/project/4129/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/4129/log/13454-initial-commit">Initial Commit</a></h2>
                            <small class="authorship">7 months ago  &bull;
                                <a class="gray-link" href="/project/4129/log/13454#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-13454"><p>First project log... not much to say here.  I have finished the breadboard prototyping, and all looks good.  I am currently in the process of moving to perfboard and making an enclosure on the scroll saw.  Pictures, schematics, and code will be forthcoming as soon as I get things organized.  </p><p>Please stand by!<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4129/log/13488-breadboard-video">Breadboard Video</a></h2>
                            <small class="authorship">7 months ago  &bull;
                                <a class="gray-link" href="/project/4129/log/13488#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-13488"><p>Here's a video of the breadboard prototype, prior to moving it to a perf board.</p><p><iframe width="500" height="281" src="//www.youtube.com/embed/dTkiOi7ViGw" frameborder="0" allowfullscreen=""></iframe><span></span><br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4129/log/13501-magic-smoke">Magic Smoke</a></h2>
                            <small class="authorship">7 months ago  &bull;
                                <a class="gray-link" href="/project/4129/log/13501#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-13501"><p>Who'd have thunk it... if you plug your +/- 12v supply in backwards, the magic smoke gets out of the op amp!</p><p>I am lucky to not have lost other components (most notably the LDO regulator or the already-damaged AVR that I wanted to try using rather than throw it away).  I have now added some diodes on the +/- input lines to protect against reverse polarity supply.</p><p>(Edit: turns out that it did destroy the LDO as well, it just took a bit longer until it completely gave up the ghost.  The AVR is still hanging in there, though...)</p><p>I have some different colored cables on order, so hopefully this won't happen again. :-)  </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4129/log/13541-a-few-feature-changes">A few feature changes</a></h2>
                            <small class="authorship">7 months ago  &bull;
                                <a class="gray-link" href="/project/4129/log/13541#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-13541"><p>Over the last couple of days, I have made a bunch of enhancements to this project:</p><ul><li>Added a three pin header to the front of the box (right over top of the PWM banana plug output) so that you can plug a servo directly into the function generator for testing.</li><li><span></span>Added a Square (Slow) digital mode to complement the Square (Fast) mode. The slow mode uses the same digital output that the fast one does, but is 1/256 the frequency. (The high speed square starts at 10MHz and goes down to 39.062kHz; the slow square starts at 39.062kHz and goes down to 152Hz). These two modes are meant for very high accuracy square waveforms.</li><li>Renamed the DDS Square wave to "Square (Analog)" to differentiate it from the other two digital square outputs.</li><li>Add protection diodes to prevent issues from plugging in the power supply backwards</li><li>Fix some UI bugs (incrementing speed when holding buttons, garbage chars on the LCD, etc)</li><li>Shaved a few CPU cycles off of TIMER1_OVF ISR by using GPIOR2 instead of push / pop for saving SREG</li><li>Implemented TIMER1_COMPA in assembly so that we don't need to do the standard push register preamble (play safe, kids!)</li></ul><div>I still need to figure out a good way to label the input / output jacks.  I am thinking about cutout vinyl letters (think custom stickers), but am open to suggestions.  (My first choice would have been a laser cut / etched box, but having it done as a service costs too much and obtaining my own laser cutter is even more expensive.  Eventually I can see myself going this route, but not in the near future).  Any suggestions on other options would be most appreciated.</div></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4129/log/13548-user-interface">User Interface</a></h2>
                            <small class="authorship">7 months ago  &bull;
                                <a class="gray-link" href="/project/4129/log/13548#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-13548"><p>The user interface is pretty simple:</p><ol><li>There are four power jacks (to get the full range of +/- 5v output on the digital signal, you should run it with a dual supply of something between +/- 6v to +/- 12v).  The second ground port allows you to chain to a breadboard in case your power supply does not have multiple ground ports (mine does not).</li><li>There are three outputs: digital, PWM, and analog.  The digital output is for the fast and slow square waves.  The PWM output (and its accompanying servo header) are for the servo test mode (and eventually will be for the general PWM mode, when I get around to programming it).  The analog output is for the various analog waveforms.</li><li>There are two switches.  The one beside the digital output  enables or disables the opamp buffer for the digital signal.  (At least with the op amp that I am using, you get a lot of slew if the frequency is faster than about 10kHz.)  The switch beside the analog output changes the waveform range from 0 - 5v to -5 - 5v.</li><li>The red button is 'Mode'.  Use it to switch between the various waveform options.  Hold it down to start waveform generation, and hold it down again to stop waveform generation.  You cannot switch to another waveform while the current one is running.</li><li>The other two buttons change the frequency up and down.  Hold them down to go faster.  You can change frequencies while the waveform is active, and the change takes effect immediately.</li></ol><p><img src="https://cdn.hackaday.io/images/9785221422679582823.JPG"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4129/log/13709-voltage-output-mode">Voltage Output Mode</a></h2>
                            <small class="authorship">7 months ago  &bull;
                                <a class="gray-link" href="/project/4129/log/13709#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-13709"><p>I was working on my <a href="http://hackaday.io/project/4154-bench-power-supply" target="_blank">power supply design</a> today, and found myself in need of a variable voltage supply (to simulate the output of a DAC driven by a microcontroller, which will eventually allow for variable voltage and maximum current setpoints).  Well, wait a second here... I already have a DAC!</p><p>The new mode (creatively called "Voltage Output"), simply writes an 8 bit value to the DAC, and lets it output a voltage.  Since the analog channel can have a range of -5 to 5V or 0 to 5V, I show both values (i.e. "-2.93V / +1.08V).  Depending on the position of the range switch, the output will be one or the other of these two values.</p><p><img src="https://cdn.hackaday.io/images/140921423110699584.JPG"></p><p>(In this picture the multimeter is measuring the post-op amp voltage, not the input voltage, which is why it shows -11.22 instead of +1.08)</p><p>I have calibrated it in the source code with actual values found in my system.  The min / max values are therefore dead on; in between things are not perfect to two decimal places, but it is generally accurate to one decimal place.  (I assume that it is due to non linearities in the DAC and op amp that cause the differences; regardless, it is perfectly fine for what I need, and best of all it cost nothing more than an hour of programming time).</p><p>Cheers</p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = '50FgByh1-CC2gAgKz9g8LPep8FqmOMhIO9rA';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>