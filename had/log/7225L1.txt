<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Low Cost X-Ray Systems for Developing Nations &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F7225%2Flogs%3Fpage%3D1">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/7225-low-cost-x-ray-systems-for-developing-nations">Low Cost X-Ray Systems for Developing Nations</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">This is the result of 3,500 man-hours of labor and love, but we need your help to push it forward, HAD community</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/86716-adam-munich" title="Visit Profile">Adam Munich</a><span>&bull;</span>
                
                5 days ago<span>&bull;</span><a href="/project/7225#discussion-list" title="See Comments">6 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/7225-low-cost-x-ray-systems-for-developing-nations">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/7225/logs/sort/newest">Newest</option>
                    <option value="/project/7225/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/7225/log/22811-march-2014-designs-and-a-proposal">March 2014 - Designs and a Proposal</a></h2>
                            <small class="authorship">5 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22811#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22811"><p>When I was 15, for reasons I&apos;m still not yet sure of, I let some folks in an IRC channel convince me it was a good idea to design a battery powered x-ray system. I accepted the challenge, and over the course of the next year, learned all that was necessary to build such a device.</p><p>Then, I built one. Composed mostly of parts from old power supplies, televisions, and what I could buy on ebay, it wasn&apos;t the prettiest x-ray source, but, it did in fact work.</p><p>-</p><p><strong>X-Ray Mk. 1</strong></p><p><img src="https://cdn.hackaday.io/images/793221439581237792.jpg" width="1147" height="695" style="width: 1147px; height: 695px;"></p><p><img src="https://cdn.hackaday.io/images/2766671439585420392.jpg" width="1216" height="540" style="width: 1216px; height: 540px;">-</p><p>But, didn&apos;t do a whole lot afterward with it.</p><p>In March of 2014, after finishing up a new <a href="http://hack.rit.edu" target="_blank">hackerspace project at RIT</a>, I learned of a WHO study that reported <strong>only 1/3 of the world&apos;s population has access to medical radiography</strong>. For a century-old technology this seemed absolutely absurd, and so, I took interest in solving that obscure, yet very real, problem.</p><p>Over the course of a month or so, I drew some artwork detailing what an ideal x-ray solution could look like, both inside and out. I did my best to design things piratically, given the current state of power electronics and x-ray technology.</p><p>-</p><p><strong>Power Source Front</strong></p><p><img src="https://cdn.hackaday.io/images/1410931439586091833.png"></p><p>-</p><p><strong>Power Source Back</strong></p><p><img src="https://cdn.hackaday.io/images/132911439586163551.png"></p>-<p><strong>X-ray Emitter 1</strong></p><p><img src="https://cdn.hackaday.io/images/5274591439586184802.png"></p>-<p><strong>X-ray Emitter 2</strong></p><p><img src="https://cdn.hackaday.io/images/8303921439586200916.png"></p><p><strong>-</strong></p><p><strong>X-ray Emitter 3</strong></p><p><img src="https://cdn.hackaday.io/images/309751439586216511.png"></p><p>-</p><p><strong>X-ray Detector 1</strong></p><p><img src="https://cdn.hackaday.io/images/4482951439586233683.png"></p><p><strong>- </strong></p><p><strong>X-ray Detector 2</strong></p><p><img src="https://cdn.hackaday.io/images/771171439586279181.png"></p><p>-</p><p><strong>User Interface </strong></p><p><img src="https://cdn.hackaday.io/images/9767411439586309465.PNG"></p><p>-</p>Following this, I put together a proposal which described in detail the proposed machine, how persons would operate the device, and, about how much it would cost. I was hoping that someone might take interest in working with me, to build it.<p><img src="https://cdn.hackaday.io/images/3796621439585916733.PNG" width="102" height="135" style="width: 102px; height: 135px; opacity: 0.5;"></p><p><a href="https://drive.google.com/open?id=0BwIWrZZX8IW6bkdOeFZtQThWcDg">Synopsis of the device</a> </p><p>-</p><p>What were the results of this proposal? </p><p>Unfortunately, a whole lot of raised eyebrows, &quot;nice idea kid&quot; comments, and nothing more.</p><p>At the time, I thought this meant that I hadn&apos;t done enough research into the subject, or, explained exactly why a 19 year old student would be capable of designing such a device. And so, I went on to do more research, to build a more convincing case that this was possible...</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22815-may-2014-writing-a-detailed-technical-proposal-and-tossing-away-my-old-life">May 2014 - Writing a detailed technical proposal and tossing away my old life</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22815#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22815"><p>t the end of March, (and early april), I was under the impression that <a href="https://hackaday.io/project/7225-mobile-x-ray-systems-for-developing-nations/log/22811-march-2014-designs-and-a-proposal">I had failed to build a convincing case</a> that it&apos;s possible to design a low-cost mobile x-ray system capable of being used for human diagnostics. </p><p>At the time, it appeared further research was needed to build a more convincing argument. </p><p>So, being a university student at the time, what seemed like an acceptable option was to write a &quot;thesis&quot; of sorts, with a problem statement, research, and detailed designs of some x-ray system components which would be integrated in such a machine. For kicks, I decided to illustrate much of this document, such that it wouldn&apos;t be a boring read.</p><p>For about a month I worked all night on this, and at the end of may, had something quite detailed, with many illustrations.</p><p><img src="https://cdn.hackaday.io/images/7882431439589830780.JPG"></p><p>For reasons of bandwidth, I can&apos;t host the 400Mb file for y&apos;all. </p><p>However, here are some fantastic tidbits that are worth sharing! </p><pre>  _   _                 _                                    
 | | | | _____      __ | |_ ___   __  __     _ __ __ _ _   _ 
 | |_| |/ _ \ \ /\ / / | __/ _ \  \ \/ /____| &apos;__/ _` | | | |
 |  _  | (_) \ V  V /  | || (_) |  &gt;  &lt;_____| | | (_| | |_| |
 |_| |_|\___/ \_/\_/    \__\___/  /_/\_\    |_|  \__,_|\__, |
                                                       |___/ </pre><p>Below is a comic that describes how a project such as this x-ray source would proceed. To some, who have many engineering projects under their belt they may find it a bit humorous (and too true).</p><p>-</p><p><strong>Step 1: Engineering Stage 1 of the power train </strong></p><p><img src="https://cdn.hackaday.io/images/291281439590426656.png"></p><p>-</p><p><strong>Step 2: Engineering stage 2 of the <strong>power train</strong> </strong></p><p><img src="https://cdn.hackaday.io/images/9288101439590509930.png"></p>-<p><strong>Step 3: Engineering stage 3 of the <strong>power train</strong> </strong></p><p><img src="https://cdn.hackaday.io/images/1092241439590614584.png"></p><p>-</p><p><strong>Step 4: Engineering a modern austin ring transformer </strong></p><p><img src="https://cdn.hackaday.io/images/5620991439590665416.png"></p><p><strong>-</strong></p><p><strong>Step 4: Lithium-ion battery shenanigans </strong></p><p><img src="https://cdn.hackaday.io/images/4138871439590813850.png"></p><p><strong>-</strong></p><p><strong>Step 5: Digital controls design</strong></p><p><img src="https://cdn.hackaday.io/images/9927951439590874996.png"></p><p><strong>-</strong></p><p><strong>Step 6: X-ray dosimetry</strong></p><p><img src="https://cdn.hackaday.io/images/3848201439590936390.png"></p><p><strong>-</strong></p><p><strong>Step 7: Prototyping an x-ray tube designed for this purpose</strong></p><p><img src="https://cdn.hackaday.io/images/257671439787971315.png"></p><p><strong></strong></p><pre>  _       _   _           _                 _     
 (_)___  | |_| |__   __ _| |_   _ __   ___ | |_   
 | / __| | __| &apos;_ \ / _` | __| | &apos;_ \ / _ \| __|  
 | \__ \ | |_| | | | (_| | |_  | | | | (_) | |_   
 |_|___/  \__|_| |_|\__,_|\__| |_| |_|\___/ \__|_ 
   __ ___      _____  ___  ___  _ __ ___   __|__ \
  / _` \ \ /\ / / _ \/ __|/ _ \| &apos;_ ` _ \ / _ \/ /
 | (_| |\ V  V /  __/\__ \ (_) | | | | | |  __/_| 
  \__,_| \_/\_/ \___||___/\___/|_| |_| |_|\___(_) 
                                                  </pre><p>Some parts of this are worth explaining further.<br></p><p>-</p><p><strong>Austin ring transformer:</strong><br></p><p>When operating an x-ray tube, it&apos;s often the case that you do so in a manner that is &quot;center grounded&quot; so to speak. The anode receives +V, the cathode -V, and, any insulation used only needs to withstand V, and not 2V.</p><p>Unfortunately, this means you must provide an isolated 3V source for the tube&apos;s heated cathode, which must withstand -V plus some safety margin. Typically this is done with an &quot;<a href="https://en.wikipedia.org/wiki/Austin_transformer" target="_blank">austin ring</a>&quot; transformer, but those are big and heavy, so, this is my switch-mode replacement. :-D</p><p><img src="https://cdn.hackaday.io/images/97511439606235950.PNG"></p><p>-</p><p><strong>High voltage source:</strong></p><p>This would be the switch mode power supply topology used inside the x-ray source. It consists of a lithium ion battery stack, boosted to a few hundred volts by a polyphase boost converter, then boosted further using a series-resonant H bridge inverter. Note, the CDE capacitor in series with the H bridge&apos;s load, is chosen such that it cancels out the transformer&apos;s leakage indutctance, and provides an overall lower impedance for the power supply.</p><p>This is then fed into a voltage multiplier, which provides the extreme potentials needed for the x-ray tube. </p><p><img src="https://cdn.hackaday.io/images/8928591439606789687.png"></p><p>-</p><p>For kicks, I emailed this comic to The Woz, and received a nice compliment :-)</p><p><img src="https://cdn.hackaday.io/images/4587951439606151542.jpg"></p><p>-</p><p>But, after showing this work to many folks in Rochester, NY, I soon realized that I wasn&apos;t going to get very far there. Despite being a healthcare powerhouse, ROC isn&apos;t quite the right place for people to talk about hardware technology, especially so, given Kodak and Xerox are both on their way out. </p><p>So... I dropped out of university, and bought a trailer. </p><p><img src="https://cdn.hackaday.io/images/4447481439607190323.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22842-june-2014-a-month-of-invention">June 2014 - A month of invention</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22842#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22842"><p>I crashed at a friend&apos;s place when I arrived in California, and, set up a messy workshop in their garage. </p><p>At this point, I had tossed away my old life, my university studies, in a choice that would make some people&apos;s parents disown them. But, what is success, if you don&apos;t first give yourself an opportunity to fail greatly?</p><img src="https://cdn.hackaday.io/images/1366011439607633873.jpg"><hr><p>Here, I worked diligently for a month. In order to ensure that this x-ray source would be low cost, and provide the extreme powers needed for sharp radiographs of living objects, I had to redesign the x-ray tube such that I could take high resolution photographs without any moving parts inside.<br></p><p>To do so, I added electron optics to the tube, designed in such a way that I could have variable control over the x-rays&apos; convergence, and gate the electron flow to allow for pulsed beams of x-rays to be emitted.</p><p><img src="https://cdn.hackaday.io/images/6901111439608311910.png"></p><p>Which, would allow me to take bright x-ray exposures in the following manner, using some simple Fourier mathematics:</p><p><img src="https://cdn.hackaday.io/images/2156161439608736685.png"></p><p>After spending nearly 2 weeks reading everything USPTO.gov had to offer, I learned all that was necessary to write a patent, and filed one for this work. Personally, I hate patents, and believe the system is very broken.<br></p><p>Unfortunately however, it people still require them, if you&apos;re to be taken seriously. </p><hr><p>Following this, I convinced a few friends to tag along in this journey, put together a business proposal,</p><p><img src="https://cdn.hackaday.io/images/3667521439609409871.jpg"></p><p>... and hit the road again.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22843-july-august-2014-months-of-rejection-in-san-francisco">July, August 2014 - Months of rejection in San Francisco</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22843#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22843"><p>During this month, I sought out, and spoke with potential investors for my x-ray project. At the time I figured, &quot;oh boy, this will be easy! We&apos;re doing real science, not building dog walking apps&quot;.</p><hr><p>Most of these meetings went something like this;<br></p><ul><li>We&apos;d be happy to meet with you!&quot;</li><li>--- We meet, and explain the project)</li><li>&quot;Sounds great! How many customers or users do you have?&quot;</li><li>--- I say zero, and explain it will take a few years to develop a product like this.</li><li>&quot;Oh. Well, do you have a prototype&quot;</li><li>--- I explain, no, but I have schematics and have built things like this in the past.</li><li>&quot;That&apos;s exciting. Please keep us informed&quot;</li></ul><p>It took some time to realize that &quot;please keep us informed&quot; is actually a &quot;no&quot;. </p><hr><p>After many more meetings like this, I started to get the impression that <em><strong>no one really cares if you have an invention.</strong></em><br></p><p>Further,</p><p><strong><em>People love to say things that make you feel good, but mislead you, and often cause more harm than if they had just been direct.</em></strong></p><p>Further still, </p><p><em><strong>People are very quick to make short term decisions, and very bad at understanding benefit in long-term thinking.</strong></em></p><p>And further still, </p><p><em><strong>When you&apos;re 20, it&apos;s hard to be taken seriously. </strong></em></p><hr><p>I had teammates abandon me at this point, their faith lost in my ability to lead this project. </p><p>Suffice it to say, at the end of august I wasn&apos;t in the best of spirits.<br></p><p><img src="https://cdn.hackaday.io/images/9729031439610823304.PNG"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22848-september-2014-designing-a-prototype-source-pt-1">September 2014 - Designing a prototype source pt. 1</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22848#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22848"><p>At this point, I wasn&apos;t feeling too hot. After 2 months of straight &quot;no&apos;s&quot;, something clearly had to change if I wanted to achieve my long-term goal of bringing medical x-ray imaging to everyone. I felt that I needed something more convincing to win people over, a prototype of sorts. </p><p>Now, to assume that I could design the product I described with the resources I had at the time (a hackerspace, myself, some cad programs) would have been foolish. </p><p>So, I set a lower bar for my prototype model: a <strong>200W, backpack x-ray source.</strong></p><p><img src="https://cdn.hackaday.io/images/9161551439612208811.png"></p><p>I set a goal to have this designed by December. </p><p>To do so, I worked 14 hours a day, every day, for 3 months, until this was done. I let family and friends fall off my priority list, and eventually became very, very depressed, yet still kept on working anyway. In retrospect, <strong>this was a terrible decision</strong>.</p><p><strong><br></strong></p><hr><p>September was a month of systems design. Particularly, planning out how I could design such a 200W source with a minimum number of parts, and a maximized ratio of off-the-shelf components. After 3 days, I had something that looked like it could work.</p><p><img src="https://cdn.hackaday.io/images/7827041439612643510.png"></p><p>The system contains as few parts as practical, to provide;</p><ul><li>Lithium ion battery charging.</li><li>Lithium ion battery management.</li><li>Battery safety.</li><li>Closed loop high voltage inverter control.</li><li>Closed loop cathode control. </li><li>Remote control.</li><li>Power management for all parts. </li></ul><p>Which in summation, would be enough to build a 200W x-ray system.</p><hr><p>I decided at this point, that I should probably design my own transformer for the machine. There didn&apos;t seem to be any good ones readily available, so, I chose a core from TSC ferrite international that seemed large enough (based on past experience) to handle 200W swimmingly. </p><p>When designing a high voltage transformer, it&apos;s important to make sure you can get the highest winding ratio practical, without saturating the transformer&apos;s core due to too much flux. This is so, because at high frequencies capacitive losses matter a lot, and to ensure that all of your energy isn&apos;t trickled away, you use as few turns as possible. </p><p><span></span></p><p><img src="https://cdn.hackaday.io/images/6874661439613931799.PNG"></p><p>I chose 8 turns, to 800 for a 1:10 ratio. Given the core&apos;s cross sectional area and material, I was limited to a saturation flux of about 200mT, which worked out to about 30 amperes into the primary coil, with a sizable safety margin.</p><p>It&apos;s worth noting that, to accommodate so many windings you must break the transformer bobbin up into sectors, each with sizable insulation from other parts of the transformer. Failing to do this will ensure dielectric breakdown of your wire!</p><p>For those of you who haven&apos;t learned transformer design, there is a nice video available to brush up on <a href="http://hackaday.com/2014/10/14/retrotechtacular-core-competencies/" target="_blank">your core competencies</a> :-)</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22852-october-2014-designing-a-prototype-source-pt-2">October 2014 - Designing a prototype source pt. 2</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22852#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22852"><p>To house all the electronics, I needed a plastic shell. Actually, several plastic shells; one for the high voltage oil tank, one to hold an x-ray tube, one to hold aluminum filters, one to hold the high voltage oil tank, a handle to hold everything... it goes on!</p><p>To design these, I broke out my favorite CAD suite: Autodesk Inventor. I also broke out the caffeine, and spent some 14 days staring into inventor, to design the following *injection moldable :D* parts</p><p>-</p><p><strong>A model of my chosen x-ray tube:</strong></p><img src="https://cdn.hackaday.io/images/4845421439614433741.png"><p>-</p><p><strong>A shell to hold the tube, and a lead jacket around it:</strong><strong></strong></p><p><img src="https://cdn.hackaday.io/images/6249121439614612622.png"></p><p>-</p><p><strong>An oil tank, to hold the tube, the shell, and its wrapping:</strong></p><p><img src="https://cdn.hackaday.io/images/7411401439614693461.png"></p><p>-</p><p><strong>A lid for the oil tank, and a rubber chamber to allow for thermal expansion:</strong></p><p><img src="https://cdn.hackaday.io/images/2270881439614775744.png"></p><p>-</p><p><strong>Aluminum filters of different thicknesses, and a disk to hold them in place:</strong></p><p><img src="https://cdn.hackaday.io/images/4508651439614909828.png"></p><p>-</p><p><strong>A shell to hold the oil tank, and other parts:</strong></p><p><img src="https://cdn.hackaday.io/images/6058201439614969617.png"></p><p>-</p><p><strong>Sides, and a handle to allow for easy carrying. </strong></p><p><img src="https://cdn.hackaday.io/images/2535451439615086996.png"></p><p>- </p><p><strong>An LCD, and PCBs to hold components, buttons, and the voltage multiplier:</strong></p><p><img src="https://cdn.hackaday.io/images/1156331439615276546.png"></p><p>-</p><p><strong>And finally, a top shell and a rubber flippity-flap to cover the power receptacle:</strong></p><p><img src="https://cdn.hackaday.io/images/647091439615352699.PNG"></p><p><strong><br></strong></p><hr><p><strong></strong></p><pre>______           _        ______ _             
| ___ \         | |       | ___ (_)            
| |_/ / __ _  __| | __ _  | |_/ /_ _ __   __ _ 
| ___ \/ _` |/ _` |/ _` | | ___ \ | &apos;_ \ / _` |
| |_/ / (_| | (_| | (_| | | |_/ / | | | | (_| |
\____/ \__,_|\__,_|\__,_| \____/|_|_| |_|\__, |
                                          __/ |
                                         |___/ </pre><p><img src="https://cdn.hackaday.io/images/8010721439615467392.png"></p><p><strong><br></strong></p><hr><p>Then came the 3D printing, the long, torturous 3D printing. </p><p><img src="https://cdn.hackaday.io/images/6629781439615799976.jpg"></p><p>Some people have trouble with parts peeling off, but often, I have the exact opposite problem. x_x</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22856-november-2014-designing-a-prototype-source-pt-3">November 2014 - Designing a prototype source pt. 3</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22856#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22856"><p>Around the end of October, I finished up the design of all the plastic components which would house the electronics of a 200W x-ray system. It was now time to design those electronics!<br></p><p>Back in September, I had an idea of how I should go about doing this. The system would have to have, among other things, </p><ul><li>A means of charging lithium ion batteries</li><li>A means of monitoring and protecting those batteries</li><li>A user interface</li><li>A radio for remote operation</li><li>A boost converter capable of 300W pulses</li><li>An H bridge </li><li>A power transformer </li><li>A voltage multiplier</li><li>A voltage source for the cathode</li><li>Safety features!</li></ul><p>After careful re-evaluation of my older schematic, I deemed it unsuitable for the job at hand. Particularly, because it would take &quot;too much tweaking&quot; to get operating reliably, given that, the STM32 would be doing almost all of the work. This might seem counter-intuitive to some, but the job just felt simpler to do with op amps instead.</p><hr><p>Revision 1: &quot;Hey this could work&quot;</p><p>Over the course of a week, I chose low-cost parts and tossed them onto the board, in a way that felt like they&apos;d work without much incident. Like most of my projects, I didn&apos;t bother drawing a schematic, and instead just <em>went with the signal flow</em>, so to speak. </p><p>The analog electronics are all done with stand-alone parts, and, to synchronize everything and provide a UI, I chose to use a Teensy 3.1 for this prototype. I did so, to allow me to use the fantastic OpenGLCD library, and save me the effort of writing a frame-buffer and object-oriented menu structure.</p><p>I managed to get it all done on a 2 layer PCB :-).</p><p><img src="https://cdn.hackaday.io/images/3589681439617145063.PNG"></p><p><img src="https://cdn.hackaday.io/images/3271721439660827418.jpg"></p><p><img src="https://cdn.hackaday.io/images/2762041439617236899.jpg"></p><p><img src="https://cdn.hackaday.io/images/3614551439617250832.jpg"></p><p>-</p><p>After receiving a copy of this board from Bay Area Circuits, I promptly put it together, only to discover that... it mostly worked! There were a <em>few </em>bugs however, and those were; </p><ol><li>Far too much switch bounce for the UI buttons, which are fed though a 7-3 multiplexer before entering the controller. Software filtering proved to be incapable of handling this.</li><li>An unreliable cathode heater power supply, which would fail to start up on occasion due to the nonlinear resistance of a cold -&gt; hot cathode transition.</li><li>Issues with what proved to be a rather useless coulomb counter.</li><li>A few noise issues here and there. </li></ol><p>-</p><p><img src="https://cdn.hackaday.io/images/7460981439660803167.PNG"></p><p>-</p><p>Board 2 solved these issues by adding filtering, better ground structures, an improved cathode power supply, and an IO expander to allow for some finer control of the analog beasts scattered about. </p><p>I also added a NAND gate, which hard-resets the PCB by pressing two buttons simultaneously on the machine.</p><p>-</p><p><img src="https://cdn.hackaday.io/images/565671439617582273.PNG"></p><p>-</p><p>However, it was not without its own problems.</p><ul><li>The coulomb counter still couldn&apos;t make sense of the noise while charging. </li><li>The LCD panel sometimes would get strange white pixels in random places. </li><li>The x-ray machine <strong>could fail in such a way that the beam could get stuck on. </strong></li></ul><p>I found the latter out the hard way, and had to cut wires next to a live x-ray tube (how fun). </p><p>Evidently, if the main micro-controller freezes, it&apos;s possible for pins to get stuck in certain configurations that ensure the power electronics are still operational, which. is. bad.</p><p>-</p><p>Board 3 solved these issues with a watch-doge timer, 3.3 to 5V buffers for the LCD panel, and a completely scrapped coulomb counter. </p><p>I added a fuse as well, after another incident caught everything on my board, but the bluetooth radio on fire.  The radio simply got hot enough to melt itself off the pads, but curiously, still worked afterwards. </p><p><img src="https://cdn.hackaday.io/images/1995601439618042614.jpg"></p><p>-</p><p>But alas, there was one more problem, and a rather obscure one too.</p><p>To generate my PWM train for the H bridge, I used a rather old IC, which had a duty cycle limitation of 45%. I didn&apos;t expect this to be much of a problem, but, to my dismay, the inability to switch at 50% duty cycle allowed for spurious oscillations to happen during portions of the x-ray burst. To fix this, I swapped the UC3524 IC for a more modern PWM controller.</p><p>And added LEDs to the buttons because reasons. </p><p><img src="https://cdn.hackaday.io/images/6224901439618337342.PNG"></p><p>The 4th time was the charm :-)</p><hr><p><strong>So, what&apos;s on the board?</strong></p><p><img src="https://cdn.hackaday.io/images/4835871439618920603.png"></p><p>In no particular order...</p><ol><li>A current mode, or voltage mode (selectable) boost converter for charging the lithium batteries.</li><li>Buffers for driving the LCD panel, and an LED driver for the backlight.</li><li>UI button filters and multiplexer</li><li>Battery management DAQ and analog switch</li><li>Power rails, watchdog and standby power circuitry </li><li>Bluetooth radio</li><li>IO things to control the power electronics</li><li>A buck converter for the tube&apos;s cathode</li><li>A giant boost converter for the H bridge</li><li>The few-hundred-watt H bridge</li><li>A voltage multiplier</li><li>Buttons and LEDs</li><li>Feedback filtering to monitor the HV power supply</li></ol><hr><p>Board files: </p><p><a href="https://drive.google.com/file/d/0BwIWrZZX8IW6U2trR2JNYU9ZRzA/view?usp=sharing">https://drive.google.com/file/d/0BwIWrZZX8IW6U2trR2JNYU9ZRzA/view?usp=sharing</a><br></p><p>Parts list: </p><p><img src="https://cdn.hackaday.io/images/9749691439621798592.png"></p><p>Have fun!</p><hr><p><strong><strong></strong></strong></p><p><strong></strong></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22908-december-2014-testing-verification-documentation">December 2014 - Testing, verification, documentation</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22908#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22908"><p>At the end of November, I just about had all the electronics designed and working reliably. My code had been written, it seemed to work well, and overall things were looking bright. However, it was now time to assemble everything I neglected, including the high voltage oil tank.</p><p>Why an oil tank?</p><p>To run an x-ray tube, you need a very substantial voltage: anywhere from 60 to 80 kiloVolts is not uncommon! At these voltages air is unfortunately a pretty poor insulator, and will break down readily to the detriment of your high voltage components. Oil on the other hand, tends to be a pretty good insulator. </p><p>At first, I tried taking baby oil from the local grocer, and pumping it down under vacuum to drive out all of the water. </p><p>-</p><p><img src="https://cdn.hackaday.io/images/7098401439658987108.jpg"></p><p>-</p><p>For some time this proved to be sufficient, however, after a while I noticed some sparks in the (leaky) oil tank. Clearly, I needed real dielectric oil!</p><p>Unfortunately, just going out and buying dielectric oil isn&apos;t the easiest thing to do. It&apos;s sold only in 55 gallon drums, and, to buy any less of it means you&apos;re going to need a friend with such a drum. That was not something I had, but, after about 20 phone calls to companies around the bay area, I found a motor repair shop which was willing to let me fill up a jar of Shell Diala AX. </p><p>The specs of this oil are amazing! </p><p><img src="https://cdn.hackaday.io/images/9426021439659415617.PNG"></p><p><img src="https://cdn.hackaday.io/images/2782301439659447671.PNG"></p><p>It&apos;s not often you see &quot;water&quot; measured in units of PPM.</p><p>Using this oil solved the sparking issue, and covering the 3D printed oil tank in several layers of epoxy fixed the leaks. </p><p><img src="https://cdn.hackaday.io/images/7494611439659731026.jpg"></p><p>-</p><p>In a way that&apos;s quite pretty, if a bit lumpy. </p><p>Following this, I had my first real x-ray beams. Interestingly enough, on a phosphor screen, they were bright enough to see in a semi-lit room with the unaided eye. </p><p>-</p><p><img src="https://cdn.hackaday.io/images/7190181439660941607.PNG"></p><p>-</p><p>To capture x-ray images, I attached a lens to an image intensifying tube, and, placed that in front of a Logitech webcam. With a mirror, this assembly could view the image from a phosphor screen without picking up too much noise. </p><p>-</p><p><img src="https://cdn.hackaday.io/images/1810451439660635582.jpg"></p><p>- </p><p>And, how did it turn out?</p><p>-</p><p><img src="https://cdn.hackaday.io/images/2098671439661001838.png"></p><p>- </p><p>A little noisy, but clearly, working!</p><p><strong>Somewhat.</strong></p><p>Every so often, I encountered the strangest problem where the machine would simply turn off during an x-ray exposure. This sometimes was preceded by what I can best describe as &quot;static shock sounds&quot;. Furthermore, when the x-ray machine&apos;s lid was off, it wouldn&apos;t have this issue. This puzzled me for a bit, as I had bypass capacitors everywhere, and my oscilloscope didn&apos;t suggest there was any noise in the circuit crazy enough to turn it off. </p><p>As one would have it, the problem turned out to be </p><p><em>Electro-<strong>static</strong> noise from the high voltage oil tank, coupling to the LCD panel.</em><br></p><p>Really. It was the E-Field. </p><p>-</p><p><img src="https://cdn.hackaday.io/images/6162451439661584031.png"></p><p>-</p><p>Copper foil fixed it. Crazy, huh?</p><hr><p>To teach people how to use the x-ray source, and to serve as a short &quot;how to&quot; on radiography, I made a handbook to go along with the machine (which is now lost, for reasons to be described later).</p><p>-</p><p><img src="https://cdn.hackaday.io/images/3858821439662251706.PNG"></p><p>-</p><p>And, <a href="https://drive.google.com/file/d/0BwIWrZZX8IW6c051MVBIYm9GOVE/view?usp=sharing" target="_blank">a datasheet that describes all of its functions</a>!</p><p>-</p><p><img src="https://cdn.hackaday.io/images/2256491439662354672.PNG"></p><p><img src="https://cdn.hackaday.io/images/7379711439662369684.PNG"></p><p>-</p><p>At this point, what I had built was starting to look pretty dang cool!</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22915-january-2015-wrapping-up-the-prototype-and-repairing-bond-wires-by-hand">January 2015 - Wrapping up the prototype and repairing bond wires by hand</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22915#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22915"><p>January had rolled around, and it was time to wrap up my prototype. Literally :-)</p><p>I built a box from glossy paper prints, cut cardboard, and about a day&apos;s worth of frustration. I did my best to make it look as pretty as possible, and, as functional as you&apos;d expect a box to be.</p><p>-</p><p><img src="https://cdn.hackaday.io/images/3351911439663656861.jpg"></p><p><img src="https://cdn.hackaday.io/images/7310741439663113694.jpg"></p><p><img src="https://cdn.hackaday.io/images/7910061439663691130.jpg"></p><p>-</p><p>In retrospect, I&apos;m not sure why I did design a box and user manual for this machine. I had gotten so caught-up in building things, that I failed to see any opportunity cost in building unnecessary stuff!</p><hr><p>Now, at this point, I wasn&apos;t too sure of the quality of the x-ray beam I was producing. I didn&apos;t have any x-ray image sensors that could do a better job than my logitech webcam, but, it was plain to see that the beam was <em>intense. </em>But, was it <em>coherent?<br><br></em><span class="redactor-invisible-space">To answer that question, I bought a semi-working dental x-ray sensor. It consists of a CMOS photodiode array glued to a fiber optic plate, itself glued to a scintillation screen which converts x-ray photons into blue ones. Any image displayed on this screen will be coupled to the CMOS sensor array via the fiber optic plate (which increases resolution by making light rays parallel), for recording. </span></p><p><img src="https://cdn.hackaday.io/images/559251439664226231.jpg"></p><p><span class="redactor-invisible-space">Gotta love the marketing speak.</span></p><p><span class="redactor-invisible-space">Unfortunately these sensors cost a great nickel and penny; far too much for me to afford. I ended up purchasing a broken one, with the hope that there might be something I can do to fix it. </span></p><p><span class="redactor-invisible-space">To my dismay, the problem turned out to be one of broken bond wires. </span></p><p><span class="redactor-invisible-space">-</span></p><p><img src="https://cdn.hackaday.io/images/7236491439664325723.jpg"></p><p>-</p><p>Fortunately though, under close inspection it appeared that only a few were actually broken; the rest were just bent at all odd angles. </p><p>So, how did I fix them?</p><p>-</p><p><img src="https://cdn.hackaday.io/images/5159381439664780246.jpg"></p><p>-</p><p>By wiring a sewing needle to a metcal iron, wetting it, and very carefully soldering the bond wires back in place after moving them to the correct position with another needle. </p><p>This might be news to many folks, but, a healthy human hand is capable of <strong>micrometer</strong> positioning! The only thing that limits your ability to move that precisely is your eyesight, however, a stereo microscope can readily solve that problem. I don&apos;t have any photos of the repair process, but, when all was said and done, it took about 5 careful hours to complete. </p><hr><p>So, how were the results?</p><p>-</p><p><img src="https://cdn.hackaday.io/images/3583841439665033613.jpg"></p><p>-</p><p>Amazing, to say the least. The above photo is one looking through a cheap calculator. Note, that the 35 micron-wide bond wires are visible inside the main IC! At this energy, (50keV), silicon, and the rubber buttons are wholly transparent. </p><p>- </p><p>The following picture is one of an SD card.</p><p>-</p><p><img src="https://cdn.hackaday.io/images/9519491439665348955.png"></p><p>-</p><p>And this one, of a micro-SD card. </p><p>-</p><p><img src="https://cdn.hackaday.io/images/6602761439665395609.png"></p><p>-</p><p>To say I was floored by how beautiful these radiographs were, would be an understatement.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7225/log/22917-february-2015-losing-everything-in-a-burglary-fighting-depression-and-staring-into-an-abyss">February 2015 - Losing everything in a burglary, fighting depression, and staring into an abyss</a></h2>
                            <small class="authorship">4 days ago  &bull;
                                <a class="gray-link" href="/project/7225/log/22917#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22917"><p>At the end of January, I had built something incredible. A 200 watt, backpack x-ray source, and accessories, capable of taking <strong>80 exposures</strong> on a battery charge, and with a beam resolution great enough to <em>see the bond wires in an IC.</em><span class="redactor-invisible-space"> </span></p><p>How amazing!</p><p>-<br></p><p><span class="redactor-invisible-space"><img src="https://cdn.hackaday.io/images/1512831439665911860.png"></span></p><p><img src="https://cdn.hackaday.io/images/7213091439666195058.jpg"></p><p><strong>- </strong></p><p>On February 2, after working 14 hour days, for 4 months straight, it was time to take a break. I backed up my files on a hard drive, an SD card, and a CD, put everything in a box, and drove to the YMCA for an evening of rest. </p><p>When I came back, I was greeted with a smashed automobile, and glass scattered about the parking lot. The box was gone, my computer was gone. Even the flash drive in the center console. </p><h2>I lost all my work. </h2><h2>Everything. </h2><p>I go home, and go to sleep. </p><hr><p>The next day, I surveyed the damage to see what could be recovered. </p><p>Unfortunately, not a whole lot. My online backups were 2 months old, I had no cad models saved, no circuit designs, no documents... nothing. In haste, I printed up posters, and taped them all over Oakland. Maybe someone would spot the machine? Maybe...?</p><p>-</p><p>A few days passed and reality started to set in. As it did, my mood darkened like it never had prior, and, at the end of Feb 7th, I found myself staring into an abyss. I had left my old life, all of my friends, lost my teammates, worked incessantly for months, and now had nothing at all to show for it.</p><p><img src="https://cdn.hackaday.io/images/8866091439666871151.jpg"></p><p>After some time I eventually thought, <em>what a boring way to go.</em></p><p>I go home, and go to sleep. </p><hr><p>At this point, I wasn&apos;t feeling the best. <em>&quot;There is so much work that needs to be done now&quot;</em>, was all I could think about. In fervor, I spent 2 sleepless weeks rebuilding <em>everything</em> from memory. </p><p>A new cad model. New code. New PCBs, New everything.  Some days, I even forgot to eat.</p><p>-</p><p><img src="https://cdn.hackaday.io/images/3115471439668665787.PNG"></p><p>-</p><p>But, life just kept getting darker. Eventually, I set everything aside and just... thought. </p><p>It started to set in, that perhaps I was going about life wrong. If I could put 120% into something, and have nothing become of it, what&apos;s the point? Why bother?</p><p>Then it clicked.</p><p>We all know money doesn&apos;t bring happiness. Work doesn&apos;t make people happy. Even accomplishment only brings about fleeting jubilance. </p><p><span></span>What brings profound joy is <strong>people</strong>. The time you spend with them, how you spend it with them, and the memories and relationships you build with them. </p><p>Some of the most fond memories I had were of the time I spent with people, not just with electronics.</p><p>-</p><p><span></span></p><p><img src="https://cdn.hackaday.io/images/1780111439668521182.jpg"></p><p>-</p><p>I set down my soldering iron, and played the bass guitar with some folks at Sudo Room. </p><hr><p>At the end of February, I received an email. </p><p>-</p><p><img src="https://cdn.hackaday.io/images/1081361439667492675.jpg"></p><p>-</p><p>An old man at a nursing home wants to return the x-ray machine for recycling. Perhaps that user manual wasn&apos;t a waste of time after all.</p><hr><p><em>You just can&apos;t make this shit up.</em></p></div>
                            </div>
                        </li>
                    
                </ul>

                
                <div class="pagination">
                    
                    
                    <a href="?page=2" class="grey-gold-button next-button show">Next</a>
                    
                </div>
                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'lHAhAMIn-K6YMsv1KetuxpjN1ZXXqoDvgs20';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>