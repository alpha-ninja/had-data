<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Chocometer &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F4642%2Flogs%3Fpage%3D1">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/4642-chocometer">Chocometer</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Chocometer is an open source near infrared sensor aiming glucose measurements without pain.</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/11605-marcelclaro" title="Visit Profile">marcelclaro</a><span>&bull;</span>
                
                5 months ago<span>&bull;</span><a href="/project/4642#discussion-list" title="See Comments">19 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/4642-chocometer">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/4642/logs/sort/newest">Newest</option>
                    <option value="/project/4642/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/4642/log/16069-3d-printed-parts">3D printed parts</a></h2>
                            <small class="authorship">5 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/16069#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-16069"><p>1st design of LEDs and diode support, a clip for earlobe or thumb:</p><img src="https://cdn.hackaday.io/images/3723051428132022978.jpg"><p>The space was overstimed, so I'm able to put only 4 LEDs. Problaby I will choose 2 of 1550nm, 1 of 940nm and 1 of 850nm.</p><p><img src="https://cdn.hackaday.io/images/2251471428133515341.JPG"></p><p>I'm just waiting the power source of my new Prusa to print this.<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4642/log/16570-custom-adc-ready">Custom ADC ready!</a></h2>
                            <small class="authorship">4 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/16570#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-16570"><p>The PCB from OSHPark arrived some days ago and I finished the solder. I used a conventional solder iron, so it takes some time! :)</p><img src="https://cdn.hackaday.io/images/6377751429152009667.JPG"><img src="https://cdn.hackaday.io/images/9077821429151965629.jpg"><p>I did some tests and the electronics works fine! I will post more details in the next few days.</p><p>But, bad luck! The x-axis stepper motor drive from the 3D printer (I'm using a printrboard) bugged few minutes before the first print, so, I need to wait a replacement from ebay. A RAMPS 1.4 board with extra Pololu.</p><p>Since the reproductibility of measurement is very important, I will wait for a proper diode and led support for the real tests <br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4642/log/17010-3d-printed-parts-2">3D printed parts (2)</a></h2>
                            <small class="authorship">4 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/17010#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-17010"><p>I finally printed the LEDs and diode support, and it worked fine.</p><p>I will solder this and try to extract some data in the next days if I can (some busy days are comming).</p><img src="https://cdn.hackaday.io/images/823481430099447769.JPG"><img src="https://cdn.hackaday.io/images/8520901430099712213.JPG"><p><img src="https://cdn.hackaday.io/images/804101430099433074.JPG"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4642/log/18076-advances">Advances</a></h2>
                            <small class="authorship">3 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/18076#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-18076"><p>I did some test with the InGaAs photodiode and 940nm LED. <img src="https://cdn.hackaday.io/images/5654911431887437169.JPG"></p><p>Due to large area (and capacitance) of InGaAs diode, I had some instabilities in the oscillator. I corrected part of the problem adding capacitors to voltage sources and voltage reference. However, sometimes few seconds are necessary before the circuit starts to oscillate right. The next PCB version will correct this, I think... by adding more capacitance, individual voltage regulators, etc.</p><p>Here I show some measurements with ambient light only (The flourencent lamp have a very very low 800-1700nm emission) varying light position, facing or not facing to the lamp.<br></p><p><img src="https://cdn.hackaday.io/images/7861691431887587221.jpg"></p><p>When I turn on the 940nm LED, with 50mA (~50mW) the ADC output goes to ~123000. With earlobe between LED and photodiode the output goes to ~16000. So, a earlobe absorbs 92% of light with 940nm.</p><p>The conclusions:</p><p>- The ambient/background plus dark current  is very low in comparison to the work conditions.</p><p>- The circuit is very sensitive and could be better using different settings (smaller 3.3-vref, bigger integration time).</p><p>- The ADC max value is enourmous (max output = 4 bi) and, with integration time of 1 sec, I used only a small part (150k) of its maximum, so, I can use integration time of days!! I think it will be enough to get the necessary precision.</p><p>- The earlobe absorbs 92% of 940 nm light.<br></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4642/log/18387-checking-pulse-oscillations">Checking pulse oscillations</a></h2>
                            <small class="authorship">3 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/18387#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-18387"><p>Here is a check for pulse detection in 940nm when a put the Diode+LED through finger tip.</p><p>As you can see it's work fine!<img src="https://cdn.hackaday.io/images/2560961432410203650.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4642/log/18388-data-mining">Data mining</a></h2>
                            <small class="authorship">3 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/18388#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-18388"><p>Today I start to colect the raw data with 5s integration time.</p><p>In the first columns I read the ambient+LED emission without any absorber, next with absorber (the earlobe), next the calculated transmission and finally the glucose level by a Optium Xceed glucometer.</p><p><img src="https://cdn.hackaday.io/images/3353631432411303974.png"></p><p>I did 5 measurements in 5 differentes earlobe position (I always need to take of from the earlobe to measure the values without earlobe).<br></p><p>I plan to do it for the next days while I design a definitive and portable version of this hardware. As I win a LightBlue Bean, is a good idea to use it to get the data from my phone. </p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/4642/log/19144-walking">walking...</a></h2>
                            <small class="authorship">2 months ago  &bull;
                                <a class="gray-link" href="/project/4642/log/19144#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-19144"><p>First, Thanks all for the support and the blog mention.</p><p> I was out of home in the  last weeks, and I will be busy for the next two weeks also. So, I had a little progress and few opportunities to answer the comments (the bad and good ones).</p><p>The hardware still running, but, since I'm out of home most of time, I did few measuments. Because of that, I think it will be important to make the portable hardware soon as possible. However, the Lightblue Blue  still at customs.</p><p>Within the small data that I already have, I tried some regression algorithms, one of the best is the <a href="http://en.wikipedia.org/wiki/Self-organizing_map">Self-organizing map</a>. I will study it and try to use this algorithm in the next weeks to do some previsions and try to see if it works. As a self-leaning algorithm the previsions would become better as the time advances. Until now I used <a href="http://orange.biolab.si/">orange</a> to do the data visualization and regressions.</p><p>I plan to do some changes in the next hardware versions. It will be portable and as I'm not totally happy with the noise level, I will try to improve it. First, I will try to put the photodiode and the ADC in the same board without cables, and with a metalic shield.</p><p>I also brought some laser diodes. While the LED has emissions with a width of 150nm, the laser diode has only 5-10nm. I brought 650, 808 and 1610nm laser diodes. With a narrow emission, I think it will be more  selective to the glucose (and 1610nm is better than 1550nm in theory)</p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'd6XRLr3n-c8AbtInrUyA3JLk_cG-MtPmS49A';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>