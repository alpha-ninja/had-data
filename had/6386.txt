<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>uSenseCam &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    


        <meta name="description" content="Open source multispectral array camera for vegetation analysis for UAV.">
        <link rel="canonical" href="http://hackaday.io/project/6386-usensecam" />



    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
        <script type="text/javascript">
        function getCommentIdFromUrl() {
            if(window.location.hash) {
                var hash = window.location.hash.substring(1);
                var commentId = parseInt(hash.replace('j-discussion-', ''));
                if (commentId) {
                    return commentId;
                }
            }
            return null;
        }

        var commentId = getCommentIdFromUrl();
        if (commentId) {
            var url = window.location.href;
            if (url.indexOf('?') > -1) {
                url = url.substring(0, url.indexOf('?'));
            }
            if (url.indexOf('#') > -1) {
                url = url.substring(0, url.indexOf('#'));
            }
            url += '/discussion-' + commentId;
            window.location.href = url;
        }
    </script>
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@hackadayio">
    <meta name="twitter:title" content="uSenseCam">
    
        <meta name="twitter:description" content="The aims of the project is to create an small and practical multispectral array cameras for UAV. This system is composed by 2 to 6 CMOS sensors. Each sensor use an specific wavelength filter to build a multi-spectral image. 

The spectral response of the sensor would be from 400 nm. to 950 nm. The system provides the possibility to select an specific wavelength range by changing the band-pass filter for each sensor. 
The specification are: 

- Connection via micro usb for calibration (Focus,white balance). 
- Simultaneous shooting (array cameras). 
- Sd card image saving. 
- Custom bandpass filter. 
- CS mount lens. 
- At least 2MP. 
- Analog live video streaming. 
- Size for one camera: 35mm x 35mm x 50mm (without lens.) 
- Weight for one camera: 120 gr.(without lens and filter). ">
    
    
        <meta name="twitter:image" content="https://cdn.hackaday.io/images/resize/600x600/5072551434857391677.jpg">
    

    <!-- Open Graph data -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="uSenseCam">
    <meta property="og:url" content="http://hackaday.io/project/6386-usensecam">
    
        <meta property="og:description" content="The aims of the project is to create an small and practical multispectral array cameras for UAV. This system is composed by 2 to 6 CMOS sensors. Each sensor use an specific wavelength filter to build a multi-spectral image. 

The spectral response of the sensor would be from 400 nm. to 950 nm. The system provides the possibility to select an specific wavelength range by changing the band-pass filter for each sensor. 
The specification are: 

- Connection via micro usb for calibration (Focus,white balance). 
- Simultaneous shooting (array cameras). 
- Sd card image saving. 
- Custom bandpass filter. 
- CS mount lens. 
- At least 2MP. 
- Analog live video streaming. 
- Size for one camera: 35mm x 35mm x 50mm (without lens.) 
- Weight for one camera: 120 gr.(without lens and filter). ">
    
    
        <meta property="og:image" content="https://cdn.hackaday.io/images/resize/600x600/5072551434857391677.jpg">
    

    <script>
        var HIO = {};
    </script>

</head>
<body class="project-detail ">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F6386-usensecam">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    

    
        <div class="page-basic-info-static guest-message-signup">
            
                <h2>Does this project spark your interest?</h2>
                <p class="page-basic-info-text">Become a member to follow this project and don't miss any updates</p>

            

            <div class="signup-holder">
                <form method="POST" action="/signup">
                    <input type="hidden" name="_csrf" value="gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk" />
                    <input type="text" class="input-field input-email" placeholder="Your email address"  name="email"  /><input type="password" class="input-field input-password" placeholder="Password"  name="password" /><button class="black-gold-button signup" type="submit">Become a member</button>
                    <input class="input-field" placeholder="Invitation Code" required name="invitation_code" value="5Ad0ix2-b96J" type="hidden" />
                </form>
            </div>

        </div>
    


    

    <div class="header-photo" >
        <div class="overlay"></div>
    </div>

    <div class="headline">
        <div class="container">
            

            <h2><a href="/project/6386-usensecam">uSenseCam</a></h2>
            <p class="description">Open source multispectral array camera for vegetation analysis for UAV.</p>

            

            
                <div class="author">
                    <a href="/hacker/76232">
                        <img src="https://cdn.hackaday.io/images/resize/100x100/9748241434858168812.png" />
                        
                            <div class="author-details">
                                <div class="author-name">SouthMade</div>
                            </div>
                        
                    </a>
                </div>
            
        </div>
    </div>

    <div class="container">
        <div class="content-left">

            
                <ul class="submissions-icons">
                    
                        
                            <li>
                                <a href="/submissions/prize2015/list" class="submission-icon submission-icon-5">
                                    The 2015 Hackaday Prize
                                </a>
                            </li>
                        
                        
                            <script>
                                HIO.forPrize = true;
                            </script>
                        
                    
                </ul>
            

            
                <a href="/project/6386/gallery#522a57a68233b4e70b190dfdae36e24b" id="project-image" class="image-holder" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/5072551434857391677.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/5072551434857391677.jpg">
                </a>
            

            <div class="thumbs-holder">
                
                        <a href="/project/6386/gallery#522a57a68233b4e70b190dfdae36e24b" class="image-holder thumb" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/5072551434857391677.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/5072551434857391677.jpg">
                    </a>
                
                        <a href="/project/6386/gallery#ff36ca0e2ba6ba6100fc551269cb766a" class="image-holder thumb" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/9775261434857399252.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/9775261434857399252.jpg">
                    </a>
                
                        <a href="/project/6386/gallery#c9a7e4657982ecb46d5d3f2b7729535e" class="image-holder thumb thumb-last" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/4952331434857406850.jpg)" data-image="https://cdn.hackaday.io/images/resize/600x600/4952331434857406850.jpg">
                    </a>
                
            </div>

            
                <div class="view-gallery-holder">
                    <a href="/project/6386/gallery">
                        <div class="view-gallery grey-gold-button very-small-button">View Gallery</div>
                    </a>
                </div>
            

            

            

            

            

                <div class="project-following-container ">
                    <a href="javascript:void(0)" data-href="/project/6386/event/unfollow" class="gold-gold-button unfollow text-changing-button" data-before="<span class='icon-checkmark-gray'>Following</span>" data-after="Unfollow?"><span class="icon-checkmark-gray">Following</span></a>
                    <a href="javascript:void(0)" data-href="/project/6386/event/follow" class="gold-gold-button follow">Follow project</a>
                </div>
                
                

                <div id="similars">
                    <div class="similars-header">
                        Similar projects worth following
                        <a href="javascript:void(0)" class="submissions-close"></a>
                    </div>
                </div>

                
                    <div class="project-skulling-container ">
                        <a href="javascript:void(0)" data-href="/project/6386/event/unskull" class="gold-gold-button unskulled text-changing-button" data-before="<span class='icon-skull'>You</span>" data-after="Unskull?"><span class="icon-skull">You</span></a>
                        <a href="javascript:void(0)" data-href="/project/6386/event/skull" class="gold-gold-button skulled"><span class="icon-skull">Give a</span></a>
                    </div>
                

            

            
            

            <div class="section section-project-stats">
                
                    <span class="icon-view-count" title="View Count">2.5k</span>
                
                <a>
                    <span class="icon-comment-with-hover oi-font-color-grey" title="Comments" id="comment_count">0</span>
                </a>
                
                    <a href="/hackers/all/project/6386/following">
                
                    <span class="icon-view oi-font-color-grey" title="Followers" id="follower_count">30</span>
                
                    </a>
                

                
                    
                        <a href="/hackers/all/project/6386/likers">
                    
                            <span class="icon-skull oi-font-color-grey" title="Skulls" id="like_count">14</span>
                    
                        </a>
                    
                
            </div>

            
                <div class="section section-team">
                    <h5>
                        
                            Team
                        
                    </h5>

                    <ul>
                        
                            
                        
                            
                                <li>
                                    <img src="https://avatars.githubusercontent.com/u/11901727?v=3" class="team-photo"/>
                                    <a class="team-link" href="/hacker/68037-nicolas-magne-tang">Nicolas Magne Tang</a>

                                    

                                    
                                </li>
                            
                        
                            
                                <li>
                                    <img src="https://avatars.githubusercontent.com/u/11935598?v=3" class="team-photo"/>
                                    <a class="team-link" href="/hacker/68696-jose-barreiros">Jose Barreiros</a>

                                    

                                    
                                </li>
                            
                        
                            
                                <li>
                                    <img src="https://cdn.hackaday.io/images/resize/100x100/9748241434858168812.png" class="team-photo"/>
                                    <a class="team-link" href="/hacker/76232-southmade">SouthMade</a>

                                    

                                    
                                </li>
                            
                        
                    </ul>

                    <div class="error-message hide" id="team-error"><p></p></div>

                    
                    <input type="hidden" name="HADPrizeSubmission" value="true"/>
                        
                            <a href="javascript:void(0)"
                               
                                    class="login-button"
                               
                            >Request to join this project</a>
                        
                    

                </div>
            

            

            


            
                
                    <div class="section section-tags">
                        
                            <div class="special-tags">
                                <a href="/projects/tag/hardware" class="tag tag-hardware">hardware</a>
                            </div>
                        
                            <div class="special-tags">
                                <a href="/projects/tag/ongoing%20project" class="tag tag-ongoing">ongoing project</a>
                            </div>
                        
                        
                            <a href="/projects/tag/led" class="tag">led</a>
                        
                            <a href="/projects/tag/camera" class="tag">camera</a>
                        
                            <a href="/projects/tag/Embedded" class="tag">Embedded</a>
                        
                            <a href="/projects/tag/open" class="tag">open</a>
                        
                            <a href="/projects/tag/UAV" class="tag">UAV</a>
                        
                            <a href="/projects/tag/2015HackadayPrize" class="tag">2015HackadayPrize</a>
                        
                            <a href="/projects/tag/Southmade" class="tag">Southmade</a>
                        
                            <a href="/projects/tag/multi-spectral" class="tag">multi-spectral</a>
                        
                    </div>
                
            

            <div class="section section-share">
                <h5>
                    
                        Enjoy this project?
                    
                </h5>
                
                <a href="https://twitter.com/intent/tweet?url=http://hackaday.io/project/6386-usensecam&text=uSenseCam by southmade&related=hackadayio&via=hackadayio" target="_blank" class="icon-twitter icon-twitter-notext gray-link">Share on twitter</a> &nbsp; <a href="https://www.facebook.com/sharer/sharer.php?u=http://hackaday.io/project/6386-usensecam" target="_blank" class="icon-facebook icon-facebook-notext gray-link">Share on Facebook</a> &nbsp; <a href="https://plus.google.com/share?url=http://hackaday.io/project/6386-usensecam&h1=en-US" target="_blank" class="icon-google icon-google-notext gray-link">Share on Google+</a>
            </div>

            
            

            
                <div class="section section-submissions-lists">
                    <h5>This project is submitted for</h5>
                    <ul>
                        
                            <li><a href="/submissions/prize2015/list">The 2015 Hackaday Prize</a></li>
                        
                    </ul>
                </div>
            

            <div class="section section-project-time">
                <p class="project-time">
                    This project was
                        
                            created on 06/21/2015
                            
                                 and last updated a month ago.
                            
                        
                </p>
            </div>

            

        </div>

        <div class="content-right">

            
                <div class="section section-description">
                    <h5>Description</h5>
                    <div class="description">The aims of the project is to create an small and practical multispectral array cameras for UAV. This system is composed by 2 to 6 CMOS sensors. Each sensor use an specific wavelength filter to build a multi-spectral image. <br /><br />The spectral response of the sensor would be from 400 nm. to 950 nm. The system provides the possibility to select an specific wavelength range by changing the band-pass filter for each sensor. <br />The specification are: <br /><br />- Connection via micro usb for calibration (Focus,white balance). <br />- Simultaneous shooting (array cameras). <br />- Sd card image saving. <br />- Custom bandpass filter. <br />- CS mount lens. <br />- At least 2MP. <br />- Analog live video streaming. <br />- Size for one camera: 35mm x 35mm x 50mm (without lens.) <br />- Weight for one camera: 120 gr.(without lens and filter). </div>
                </div>
            

            
                <div class="section section-details">
                    <h5>
                        
                            Details
                        
                    </h5>
                    

                    
                        <div class="post-content details-content">
                            <p><p>uSenseCam would monitor the plants reflectance of visible and near-infrared radiation.</p><p>Farmers would use aerial multispectral images taken by uSenseCam to monitor the plant growth and other functions helped by vegetation indices . The future application will be biology, forestry, environmental research, surveillance, and infrastructure inspection.</p><p>The chosen bands are based on <a href="http://geo.arc.nasa.gov/sge/landsat/l7.html" target="_blank">LandSat 7</a>.</p>
                                
                            </p>
                        </div>
                    
                    <div class="detail-btns">
                    
                            
                    
                    </div>
                </div>

            

            
                
                    <div class="section section-components">
                        <h5>
                            
                                Components
                            
                        </h5>
                        
                            <ul class="section-component-list">
                                
                                    
    <li class="component-50379">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Raspberry Pi (In future would be replaced with Oduino-W)
            <span class="component-description">FIRST APPROACH</span>
       </span>
    </li>

    <li class="component-50380">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            USB Camera with Aptina AR0130 Sensor
            <span class="component-description">FIRST APPROACH</span>
       </span>
    </li>

    <li class="component-50381">
        <span class="component-number">2</span>
        <span class="component-x">×</span>
        <span class="component-content">
            I2C micro SD Reader
            <span class="component-description">FIRST APPROACH / SECOND APPROACH</span>
       </span>
    </li>

    <li class="component-50382">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            SMT32 F4 Dev Board (In future will be replace with Teensy 3.1)
            <span class="component-description">SECOND APPROACH</span>
       </span>
    </li>

    <li class="component-50383">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            MT9D111 Camera Module
            <span class="component-description">SECOND APPROACH</span>
       </span>
    </li>

                                
                            </ul>
                        <p>
                            
                            
                        </p>
                    </div>
                
            

            
                <div class="section section-buildlogs">

                    <h5>Project logs</h5>
                    
                    <ul class="buillogs-list post-content details-content">
                    
                        <li>
                            <h2><a href="/project/6386/log/20807-aptina-ar0130-has-arrived">Aptina AR0130 has arrived</a></h2>
                            <small class="authorship">a month ago  &bull;
                            <a class="gray-link" href="/project/6386/log/20807#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p><img src="https://cdn.hackaday.io/images/3607071436590175185.jpg"></p><p><img src="https://cdn.hackaday.io/images/7788481436590292770.png"></p><p>We plan to use Aptina AR0130 USB Camera for testing the UVC drivers on Raspberry also because it has a great spectral response, we're going to do some NIR photo tests.</p>
                                
                            </p>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6386/log/20630-first-approach">First Approach</a></h2>
                            <small class="authorship">a month ago  &bull;
                            <a class="gray-link" href="/project/6386/log/20630#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p><img src="https://cdn.hackaday.io/images/9943321436587299195.jpg"></p><p>The first approach goal is interfacing an USB camera with Raspberry Pi, triggering the camera with a button, saving a photo and finally do these tasks with an auto-run program on startup.</p><p>In the following project logs I'll post details on the development process.</p>
                                
                            </p>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6386/log/20618-checking-mt9d111-communication">Checking MT9D111 communication</a></h2>
                            <small class="authorship">a month ago  &bull;
                            <a class="gray-link" href="/project/6386/log/20618#discussion-list">
                                3 comments
                            </a>
                            </small>
                            <p><p><img src="https://cdn.hackaday.io/images/7625561436587204858.JPG"></p><p><img src="https://cdn.hackaday.io/images/392461436587238006.JPG"></p><p>For checking the MT9D111 two wire interface I started wiring the camera module to an Arduino Nano.   Then, I programmed the Arduino based on the 16 Bit Register Read and Write Examples in page 9 to 11 of the Developer Guide.  </p><p>Wiring:<br></p><p><strong>MT9D111 ------           Arduino</strong></p><p><span class="redactor-invisible-space">GND ------------ GND</span></p><p><span class="redactor-invisible-space">XCLK ----------- D9</span></p><p><span class="redactor-invisible-space">VCC ------------ 5V</span></p><p><span class="redactor-invisible-space">GND ------------ GND</span></p><p><span class="redactor-invisible-space">SCL ------------- A5</span></p><p><span class="redactor-invisible-space">SDA ------------- A4</span></p><p>After a few hours trying to generate the 8Mhz clock on Arduino, I realize that timer1 could perform that task without compromising other functions such as delay() and millis(). </p><p>Finally, the results were successful, Arduino could write and read registers in MT9D111 Camera Module with these two custom functions:</p><p>write_reg(register_address, page, data_msb, data_lsb)<br></p><p>read_reg(register_address);<span class="redactor-invisible-space"><br></span></p><pre class="hljs cpp">/*Author: Jose BarreirosDate: 01/June/2015This code is Arduino Nano compatible, the READ CODE is based on the work of Anthony Balducci:https://github.com/anthonybalducci/MT9D111-Teensy-3.1/blob/master/MT9D111_16-bit_Register_Read_Example.inoUseful note from Anthony Balducci code:"The MTD9111 Developer Guide states that 0xBA and 0xBB are the default read/write addresses respectively.   However, it is important to note, while converting 0xBA and 0xBA to binary at first 'appears' to give us   two distinct addresses:      (Write) 0xBA --&gt; 10111010   (Read)  0xBB --&gt; 10111011      The two values only different in their LSB (least significant bit), or in this case, the first value on the   'right'. The '0' / '1' in this position is what specifies the write (0) or read (1) condition accordingly.   In the Arduino language the LSB read/write portion is already built into the Wire.write / Wire.read commands,   thus the original register addressess specified must be truncated by the read/write bit to seven bits, leaving    us with 1011101 --&gt; Ox5D in both cases."*/#include &lt;Wire.h&gt;#include &lt;avr/io.h&gt;#include &lt;util/delay.h&gt;#include &lt;TimerOne.h&gt;#include &lt;avr/interrupt.h&gt;#define TMR1 0  //Timer1 used for 8Mhz PWM Outputvoid setup(){ delay(500);  //Initial delay Wire.begin(); // join i2c bus as master Serial.begin(9600); Serial.println("MT9D111 Camera Module + Arduino Nano"); Serial.println("Read and Write 16-bit register value example"); Serial.println("*  Read expected value = 0x1519 from Register 0x00"); Serial.println("*  Write value = 0xA5F0 to Register 0x20:1"); Serial.println();//Generating 8MHZ PWN on pin9 pinMode(9, OUTPUT); // output pin for OCR2B TCCR1B |= (1 &lt;&lt; CS10);  //selecting prescaler 0b001 (Tclk/1) TCCR1B &amp;= ~((1&lt;&lt;CS12) | (1&lt;&lt;CS11));    // turn off CS12 and CS11 bits TCCR1A |= ((1&lt;&lt;WGM11) | (1&lt;&lt;WGM10));  //Configure timer 1 for TOP mode (with TOP = OCR1A) TCCR1B |= ((1&lt;&lt;WGM13) | (1&lt;&lt;WGM12)); TCCR1A |= (1 &lt;&lt; COM1A0); // Enable timer 1 Compare Output channel A in toggle mode  TCCR1A &amp;= ~(1 &lt;&lt; COM1A1); TCNT1 = 0; OCR1A = TMR1; init1(); //perform code just 1 time}void loop(){}void init1(){int16_t a;  delay(500);  //wait until start    Serial.print("Read result from register 0x00");  a=read_reg(0);   Serial.println();    Serial.print("0x");  Serial.println(a, HEX);  //print result    Serial.println();    Serial.print("Read original data from register 0x20:1");  a=read_reg(32);  Serial.println();  Serial.print("0x");  Serial.println(a, HEX);  //print result    Serial.println();   //Enable this part for writing register  // Serial.print("Writing 0xA5F0 in register 0x20:1");//    Serial.println(); // write_reg(32,1,165,240);    // Serial.print("Read new value from register 0x20:1");  //a=read_reg(32);    // Serial.println();  //Serial.print("0x");  //Serial.println(a, HEX);  //print result     //Serial.println();}void write_reg(int direccion, int page, int data_msb, int data_lsb){  delay(5);  //5ms  Wire.beginTransmission(93); // transmit to device 93, Camera Module  Wire.write(240);   //page register address    Wire.write(0);     Wire.write(page);   //select...</pre>
                                
                                    <a class="readmore" href="/project/6386/log/20618-checking-mt9d111-communication">Read more &raquo;</a>
                                
                            </p>
                        </li>
                    
                    </ul>
                    <p class="log-btns">
                        
                        
                            <a href="/project/6386/logs" class="grey-gold-button medium-button show">
                            
                                View all 5 project logs
                            
                            </a>
                        
                    </p>
                </div>
            

            
                
            
            
            <div class="section section-discussions last">
        <h5 id="j-discussions-title" class="j-discussions-title">Discussions</h5>

    <form id="j-discussion-add-top" action="/discussions/add" name="add-comment" method="POST" class="skip-global-form j-discussion-add hide">
        <div class="textarea-holder">
            <textarea placeholder="Add your comment" name="comment" class="editable input-comment"></textarea>
        </div>
        <input type="hidden" name="categoryId" value="6386" />
        <input type="hidden" name="category" value="project" />
        <input type="hidden" name="_csrf" value="gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk" />
        <input type="hidden" name="replyTo" value="0" />
        <input type="submit" class="grey-gold-button medium-button" value="Post comment" />
    </form>

    <div id="discussion-list">
        
<p>
    <div class="signup-holder textarea-holder">
        <textarea placeholder="Sign in or become a member to leave your comment" name="comment" class="editable input-comment"></textarea>
    </div>
    <a href="#" class="login-button grey-gold-button medium-button half show">Sign in/up to comment</a>
</p>
<div class="modal-content-holder login-modal" id="login-modal">
    <div class="submissions-close modal-cancel"></div>
    <div class="signup-holder">
        <h2>Become a member</h2>
        <p>In order to follow projects & hackers or give skulls
        <br />you need to create an account.</p>
        <form action="/signup" method="POST">
            <fieldset class="form-left">
                <input type="text" class="input-field" placeholder="Enter your email address" required name="email"  />
                <input type="password" class="input-field" placeholder="Pick a secure password" required name="password"  />
            </fieldset>
            <fieldset class="form-right">
              <button class="gold-gold-button signup" type="submit">Sign up</button>
          </fieldset>
          <input type="hidden" name="_csrf" value="gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk" />
          <input class="input-field" placeholder="Invitation Code" required name="invitation_code" value="5Ad0ix2-b96J" type="hidden" />
        </form>
        <a id="login-modal-signin" href="/signin">Already a member?</a>
    </div>
</div>








<script type="text/javascript">

    var pageIndex = 0;


</script>
    </div>

    

</div>



        </div>

    </div>

    
        <div class="container">
            <div class="section-recommendations">
                <h2>Similar projects</h2>
                
                    

<div class="project-item   ">

    
        <ul class="submissions-icons">
            
                
            
        </ul>
    

    <a href="/project/3464-radiolocation-using-pocket-size-transceiver" class="item-link">
        <div title="Radiolocation using Pocket Size Transceiver by Eric Herbers" class="project-item-cover"
                
             style="background-image:url(https://cdn.hackaday.io/images/resize/600x600/4803721420258673095.jpg)"
                
                >

        </div>

        
                <div class="project-item-stats">
                    
                    
                        <span class="icon-view-count" title="View Count">5.1k</span>
                    
                    <span class="icon-comment-with-hover" title="Comments">21</span>
                    <span class="icon-view" title="Followers">129</span>
                    
                        <span class="icon-skull" title="Skulls">31</span>
                    
                </div>
         

        <div class="project-item-title ">
            Let your home automation know which room you&#39;re in, your car to know if you&#39;re nearby or any other need to detect proximity over a range.
        </div>
    </a>
    <div class="project-item-headline">
        <span class="project-owner hide">Project Owner</span>
        <span class="project-owner hide">Contributor</span>
        <h3><a href="/project/3464-radiolocation-using-pocket-size-transceiver" title="Radiolocation using Pocket Size Transceiver">Radiolocation using Pocket Size Transceiver</a></h3>
        <p>by <a href="/hacker/13900">Eric Herbers</a></p>
    </div>
</div>
                
                    

<div class="project-item m-last-child  ">

    

    <a href="/project/84-paul-c-buff-einstein-ieee-802154-transceiver" class="item-link">
        <div title="Paul C Buff - Einstein, IEEE 802.15.4 transceiver by jgarland" class="project-item-cover"
                
             style="background-image:url(https://cdn.hackaday.io/images/resize/600x600/2020251392663852369.jpg)"
                
                >

        </div>

        
                <div class="project-item-stats">
                    
                    
                        <span class="icon-view-count" title="View Count">1.5k</span>
                    
                    <span class="icon-comment-with-hover" title="Comments">2</span>
                    <span class="icon-view" title="Followers">25</span>
                    
                        <span class="icon-skull" title="Skulls">7</span>
                    
                </div>
         

        <div class="project-item-title ">
            I want to build a 2.4Ghz IEEE 802.15.4 (ZigBee) module for my Paul C Buff - Einstein lights
        </div>
    </a>
    <div class="project-item-headline">
        <span class="project-owner hide">Project Owner</span>
        <span class="project-owner hide">Contributor</span>
        <h3><a href="/project/84-paul-c-buff-einstein-ieee-802154-transceiver" title="Paul C Buff - Einstein, IEEE 802.15.4 transceiver">Paul C Buff - Einstein, IEEE 802.15.4 transceiver</a></h3>
        <p>by <a href="/hacker/219">jgarland</a></p>
    </div>
</div>
                
                    

<div class="project-item  b-last-child ">

    
        <ul class="submissions-icons">
            
                
            
        </ul>
    

    <a href="/project/3471-trinket-serial-analog-terminal" class="item-link">
        <div title="Trinket serial &amp; analog terminal by TJ" class="project-item-cover"
                
             style="background-image:url(https://cdn.hackaday.io/images/resize/600x600/217531418752066539.jpg)"
                
                >

        </div>

        
                <div class="project-item-stats">
                    
                    
                        <span class="icon-view-count" title="View Count">962</span>
                    
                    <span class="icon-comment-with-hover" title="Comments">5</span>
                    <span class="icon-view" title="Followers">39</span>
                    
                        <span class="icon-skull" title="Skulls">3</span>
                    
                </div>
         

        <div class="project-item-title ">
            A pocket sized serial and analog monitor
        </div>
    </a>
    <div class="project-item-headline">
        <span class="project-owner hide">Project Owner</span>
        <span class="project-owner hide">Contributor</span>
        <h3><a href="/project/3471-trinket-serial-analog-terminal" title="Trinket serial &amp; analog terminal">Trinket serial &amp; analog terminal</a></h3>
        <p>by <a href="/hacker/3972">TJ</a></p>
    </div>
</div>
                
            </div>

        </div>
    

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_project&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />
    <div class="j-modal-confirmation modal-background"></div>
<div class="j-modal-confirmation modal-content-holder">
    <p class="align-center" id="modal-message"></p>
    <p class="align-center"><a class="medium-button gold-gold-button delete-project-button" id="modal-yes" href="">Yes, delete it</a> <a class="medium-button grey-gold-button cancel-button" id="modal-cancel">Cancel</a> </p>
</div>

    
    
    
    
    
    
    
    
    
    

    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evYhvPcTNHjcVmLti9HxMVov4N%2FG0Vb08G3dKHr8dVQWzXej5t18RehizqZ8wIVJ7qCSmA5v7VaFjCQENYTT0gaQoyhjrODHsQk5JUVvz7t44Dtk%2B11xxmipO4Y%2B9cBwn1IdfK1bYjGht%2Bf1yWZu2SwuQOo6kGY9xwArhHVwpedkUh5kLaSLkPbgFU2aMPMYlr%2FkGi5SGh0159v8zUCbh%2Fx4qqGgiq8xue1QDxwAtojDbMufEMnPeES%2BXUvICUCqPFVF9PsrubQsdtbQAJZsDggl-0.48.6.js"></script>

    <style>
        .mediumInsert-buttons {
            display: none !important;
        }
    </style>

    <div id="submission-popup-back"></div>
    <div id="submission-popup"></div>

    <div id="modal-report-back" class="modal-background"></div>
    <div id="modal-report" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form action="/report/project" class="j-modal-form">
            <h2>Report project as inappropriate</h2>

            <p class="intro-text">
                You are about to report the project "<b>uSenseCam</b>", please tell us the reason.
            </p>

            <textarea name="comment" class="j-report-comment" placeholder="Why do you report the project as inappropriate"></textarea>

            <input type="hidden" name="_csrf" value="gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk" />
            <input type="hidden" name="projectId" value="6386" />
            <div class="modal-footer">
                <input type="submit" value="Report" class="gold-gold-button"/>
            </div>
            <div class='j-modal-form-message'></div>
        </form>
        <div class='j-modal-message hide'></div>
    </div>



    <div id="modal-contributor-apply-back" class="modal-background"></div>
    <div id="modal-contributor-apply" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form id="contributor-apply-form">
            <h2>Send message</h2>

            <textarea name="message" class="j-report-comment">
Hello,

I really like your project and I think I have skills to help you.
            </textarea>
            <p class="application-success">Your application has been submitted.</p>
            <input type="hidden" name="_csrf" value="gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk" />
            <input type="hidden" name="projectId" value="6386" />

            <div class="modal-footer">
                <input type="submit" value="Send" class="gold-gold-button"/>
            </div>
        </form>

    </div>


    <div id="modal-contributor-remove-back" class="modal-background"></div>
    <div id="modal-contributor-remove" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form id="contributor-remove-form">
            <h2>Remove Contributor</h2>
            <p>
                Are you sure you want to remove yourself as a contributor for this project?
            </p>
            <p>Project owner will be notified upon removal.</p>
            <input type="hidden" name="_csrf" value="gbrTaPPM-a9ELUhBnB3zUoHfaP6K5p5Wl2Jk" />
            <input type="hidden" name="projectId" value="6386" />
            <input type="hidden" name="remove_contributor_id" id="remove_contributor_id"/>

            <div class="modal-footer">
                <input type="submit" value="Remove" class="gold-gold-button"/>
                <input value="Nevermind" class="gold-gold-button"/>
            </div>
        </form>
    </div>


    <script>
        HIO.projectId = 6386;
    </script>

  </body>
</html>
