<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Eye of Horus, Open Source Eye Tracking Assistance &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F6638%2Flogs">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/6638-eye-of-horus-open-source-eye-tracking-assistance">Eye of Horus, Open Source Eye Tracking Assistance</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Interacting with objects just looking at them has always been a dream for humans.</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/78958-makeroni-labs" title="Visit Profile">Makeroni Labs</a><span>&bull;</span>
                
                a month ago<span>&bull;</span><a href="/project/6638#discussion-list" title="See Comments">0 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/6638-eye-of-horus-open-source-eye-tracking-assistance">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/6638/logs/sort/newest">Newest</option>
                    <option value="/project/6638/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/6638/log/20469-hardware-design">Hardware design</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/6638/log/20469#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20469">    <p>The hardware development efforts were split in two different branches:</p>    <p>1) Design and fabrication of the 3D printed case and frame.</p>    <p>2) Design and assembly of the required electronic components.</p>          <h1>3D Printing</h1>    <p>The casing was designed to integrate the electronic components of the system. It consists of several 3D printed pieces to hold and position the camera, the infrared lights and allocate the electronics and batteries. The complete 3D model can be viewed online in the following link.</p>    <p>We started with a simple design that has been improved to the current version:</p>      <p>Version 1: The first goal was to design and fabricate a case which could be fitted as an accessory of the Google Glass. A replica was 3D printed as we did not have an actual product. The casing consists of a small box containing the battery and the processor connected through an USB wire to the camera. An articulated tube which ends in the camera holder and the infrared lights allows the system to be mobile and frame the eye pupil.</p>      <p>Version 2: In the second version, which is the end of this prototype, the molding of the glasses is independent and functional without the need of the Google Glass. The look and the fastening system of the electronic components have been improved in this second version.</p><p><strong><br></strong></p><strong>          </strong><h1>Electronic design</h1>    <h2>Eye Tracking device</h2>  <p>This part corresponds to the wireless system that captures and analyzes the eye pupil images under infrared illumination.</p>    <p>During the development process, several iterations have been made improving the prototype features and finally designing a printed circuit board (PCB) that could be manufactured with a low cost.</p>            <ul><li><strong>Prototype 1:</strong> A first prototype was built over the table with no case to test hardware and software.</li></ul>    <p>The parts used in the different prototypes are common:</p>    <ol><li>VoCore v1.0: VoCore is a coin-sized Linux computer with wireless capabilities. It is also able to work as a fully functional router. It runs OpenWrt on top of Linux and contains 32MB SDRAM, 8MB SPI Flash and using 360MHz MIPS processor.</li><li>Power circuit: It includes a system DC/DC which supply 5V to the circuit thanks to a lithium battery</li><li>Camera: an small size USB endoscope camera was disassembled to remove the infrared blocking filter and replace it with a band pass filter with the oposite effect. This task was complicated due to the small size of the optical elements.</li><li>IR leds: infrared leds are responsible to illuminate the eye. The pupil is an aqueous medium that absorbs this light and results in a dark spot clearly visible in the images.</li><li>Bandpass filter: a lens that filters the non-infrared frequencies of light emphasize the monochrome effect and prevents ambient light from affecting the system.</li></ol>          <ul><li><strong>Prototype 2:</strong> Once the basic software and hardware was validated, a second version was developed to complete and integrate the system using the 3D printing models of the first version of the casing.</li></ul>    <p>The system was modified to overcome the following hardware problems:</p>    <ol><li>Remove the electronic noise emitted by WiFi shield that affects data transmission in the camera wire.</li><li>Correct the placement, orientation and intensity of the infrared LEDs for a correct eye pupil illumination.</li></ol>    <p>All electronics components of the prototype were replicated in the second version to get a better finish of the product.</p>    <p>The assembly is the result of the first model of the product. It could be an addition to Google Glass using its front camera like a data gathering system of the physical world.</p>          <ul><li><strong>Prototype 3: </strong>On this part, a printed circuit board was designed based on the information obtained from the previous prototypes. It would allows a low cost and replicable electronic device.</li></ul>    <p>This is a open source project, so all schematics are available. Anyone can download, edit and manufacture the device.</p>          <h2>Light beacon device</h2>    <p>A prototype was designed using infrared flashlight pulses with adjustable frequency. This light, only visible in the front camera thanks to a band-pass filter, allow to differentiate the targeted devices</p>    <p>The system also integrates a bluetooth low energy (BLE) module which can receive requests from other devices. In our case, a computer linked with other BLE module is in charge of sending the turn on/off request when the main device indicates that the user is in front of the object and the eye tracking reveals that is looking at the beacon (in the example it would be a light lamp).</p>    <p>The integrated components in this prototypes are:</p>    <ol><li>Serial Bluetooth 4.0 BLE Module: responsible for the communication of BLE with PC.</li><li>Relay control module: to control a device connected to the network.</li><li>Arduino Pro mini: the main microcontroller in charge of communicating with other modules and components.</li><li>Infrared LED: responsible for carrying out the lighting flash.</li></ol><br></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6638/log/20470-software-implementation">Software Implementation</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/6638/log/20470#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20470">    <p>Our final goal is to obtain an autonomous device but during the weekend the software development was divided in two blocks: server and client. Server software is running inside the Eye of Horus while the client is running on a laptop computer.</p>          <h1>Server</h1>    <p>This part of the software is executed in the VoCore module, a coin sized linux computer suitable for many applications. This module acts as a server running OpenWrt, a Linux distribution for embedded devices.</p>    <p>The server software is in charge of:</p>    <ul><li>Capturing the video captured by the camera</li><li>Streaming the data over WiFi using a lightweight webserver</li></ul>        <h1>Client</h1>    <p>This part is in charge of:</p>    <ul><li>Receiving the video stream</li><li>Processing the images of the eye in order to detect the center of the pupil</li><li>Provide a user interface to calibrate the system</li><li>Control the mouse in the laptop computer according to the coordinates dictated by the eye</li></ul>    <p>The video stream in the client was processed in real time using HTML5. A segmentation library was developed from scratch to threshold the images and analyze its morphology to detect the pupil and compute its center of mass.</p>    <p>At this point, the user has a mouse controlled by his eye and can interact with any 3rd party software installed in the computer.</p>    <p>A demo of the client sofware recognizing the center of the pupil can be seen in our website. You can play with the range selectors in order to see how it affects the recognition and reach optimal calibration when only the pupil is highlighted. The system will consider the center of gravity of the highlighted area as the coordinates where the eye is pointing. Calibration is very important and it may depend of the illumination. Thats the reason why the Eye of Horus has 4 leds illuminating the area of the eye. The pupil detection system has proven to be quite robust with the illumination provided by the device.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6638/log/20471-prototype-v2-designs">Prototype V2 Designs</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/6638/log/20471#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20471"><img style="display: block; margin: auto;" alt="" src="https://cdn.hackaday.io/images/4281011436102235458.jpg"><p><img src="https://cdn.hackaday.io/images/3945431436102280067.jpg"></p><p><img src="https://cdn.hackaday.io/images/4349391436102312622.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6638/log/21678-eoh-demos">EoH demos</a></h2>
                            <small class="authorship">21 days ago  &bull;
                                <a class="gray-link" href="/project/6638/log/21678#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21678"><p><strong><strong></strong></strong></p><h1><strong><strong>DEMOS</strong></strong></h1><p><strong><strong>Here you can find some examples of use:</strong></strong></p><p><strong><strong><a href="https://vimeo.com/125373219">Eye of Horus - Open Source Eye Assistance</a> </strong></strong></p><p><strong><strong><a href="https://vimeo.com/125396508">Eye of Horus Demo 1</a> </strong></strong></p><p><strong><strong><a href="https://vimeo.com/125396713">Eye of Horus Demo 2</a> </strong></strong></p><p><strong><strong><a href="https://vimeo.com/125396803">Eye of Horus Demo 3</a> </strong></strong></p><p><strong><strong><a href="https://vimeo.com/125396891">Eye of Horus Demo 4</a> </strong></strong></p><h1><strong><strong>FUTURE</strong></strong></h1><p><strong><strong>The most important part of this project is the viability and 
profitability. We believe this project is highly sustainable. We can 
create a crowdfunding campaign using all the documentation.</strong></strong></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/6638/log/21679-about-us">About us</a></h2>
                            <small class="authorship">21 days ago  &bull;
                                <a class="gray-link" href="/project/6638/log/21679#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21679"><p><strong><strong></strong></strong></p><h1><strong><strong>ABOUT US</strong></strong></h1><p><strong><strong>The four members of the team have different technological backgrounds
 as electronic engineering, physics and computer science but we all 
share passion for making all kind of inventions mixing any available 
technology.</strong></strong></p><p><strong><strong>We are all members of <a href="http://makeronilabs.com">MAKERONI LABS</a>, a non profit that was born in Zaragoza in 2012 following the MAKER movement that is currently shaking the world.</strong></strong></p><p><strong><strong>Its main purposes are:</strong></strong></p><ul><li><strong><strong>-Promote a collaborative workspace for the development of new technologies.</strong></strong></li><li><strong><strong>-Promote the dissemination of new technologies; both projects developed by members of the association, as other people. </strong></strong></li></ul><p><strong><strong>To fulfill these purposes are working on:</strong></strong></p><ul><li><strong><strong>-Create and maintain a physical or virtual, collaborative work space.</strong></strong></li><li><strong><strong>-Promote and coordinate the development of technological projects for companies and individuals, by members of the association.</strong></strong></li><li><strong><strong>-Promote the capacities of members of the association in competitions, talks and exhibitions.</strong></strong></li><li><strong><strong>-Conduct outreach to the diffusion of new technologies activities.</strong></strong></li></ul></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = '43S99HTE-jrR2mEWm--mIKba2Rq5v1-CyUPU';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>