<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>OSCAR: Omni Service Cooperative Assistant Robot &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    


        <meta name="description" content=" A project aimed at developing a humanoid ballbot platform.">
        <link rel="canonical" href="http://hackaday.io/project/7284-oscar-omni-service-cooperative-assistant-robot" />



    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
        <script type="text/javascript">
        function getCommentIdFromUrl() {
            if(window.location.hash) {
                var hash = window.location.hash.substring(1);
                var commentId = parseInt(hash.replace('j-discussion-', ''));
                if (commentId) {
                    return commentId;
                }
            }
            return null;
        }

        var commentId = getCommentIdFromUrl();
        if (commentId) {
            var url = window.location.href;
            if (url.indexOf('?') > -1) {
                url = url.substring(0, url.indexOf('?'));
            }
            if (url.indexOf('#') > -1) {
                url = url.substring(0, url.indexOf('#'));
            }
            url += '/discussion-' + commentId;
            window.location.href = url;
        }
    </script>
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@hackadayio">
    <meta name="twitter:title" content="OSCAR: Omni Service Cooperative Assistant Robot">
    
        <meta name="twitter:description" content="This project represents our first attempt at a build in field of social robotics. A social robot is an autonomous robot that can interact with humans in various contexts while following the social behavior applicable to that contexts. Before we get into the finer nuances of social behaviors and interactions, we need a robotic base. A natural choice that comes mind is a humanoid robot. Another aspect of robotics that we are fascinated with is that of dynamically stable robots. Nothing typify this concept more than a ballbot. So for this build, we plan to challenge ourselves by trying to design, construct and test a ball balancing humanoid robot.

As a sideline, our project idea also foots the bill for the requirements for a local (Singapore) contest, Tech Factor Challenge, to build a robotic waiter.

A brief video introduction can be found here:
https://www.youtube.com/watch?v=BtobfMgeqv8">
    
    
        <meta name="twitter:image" content="https://cdn.hackaday.io/images/resize/600x600/9919501439789414834.JPG">
    

    <!-- Open Graph data -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="OSCAR: Omni Service Cooperative Assistant Robot">
    <meta property="og:url" content="http://hackaday.io/project/7284-oscar-omni-service-cooperative-assistant-robot">
    
        <meta property="og:description" content="This project represents our first attempt at a build in field of social robotics. A social robot is an autonomous robot that can interact with humans in various contexts while following the social behavior applicable to that contexts. Before we get into the finer nuances of social behaviors and interactions, we need a robotic base. A natural choice that comes mind is a humanoid robot. Another aspect of robotics that we are fascinated with is that of dynamically stable robots. Nothing typify this concept more than a ballbot. So for this build, we plan to challenge ourselves by trying to design, construct and test a ball balancing humanoid robot.

As a sideline, our project idea also foots the bill for the requirements for a local (Singapore) contest, Tech Factor Challenge, to build a robotic waiter.

A brief video introduction can be found here:
https://www.youtube.com/watch?v=BtobfMgeqv8">
    
    
        <meta property="og:image" content="https://cdn.hackaday.io/images/resize/600x600/9919501439789414834.JPG">
    

    <script>
        var HIO = {};
    </script>

</head>
<body class="project-detail ">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F7284-oscar-omni-service-cooperative-assistant-robot">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    

    
        <div class="page-basic-info-static guest-message-signup">
            
                <h2>Does this project spark your interest?</h2>
                <p class="page-basic-info-text">Become a member to follow this project and don't miss any updates</p>

            

            <div class="signup-holder">
                <form method="POST" action="/signup">
                    <input type="hidden" name="_csrf" value="zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE" />
                    <input type="text" class="input-field input-email" placeholder="Your email address"  name="email"  /><input type="password" class="input-field input-password" placeholder="Password"  name="password" /><button class="black-gold-button signup" type="submit">Become a member</button>
                    <input class="input-field" placeholder="Invitation Code" required name="invitation_code" value="5Ad0ix2-b96J" type="hidden" />
                </form>
            </div>

        </div>
    


    

    <div class="header-photo" >
        <div class="overlay"></div>
    </div>

    <div class="headline">
        <div class="container">
            

            <h2><a href="/project/7284-oscar-omni-service-cooperative-assistant-robot">OSCAR: Omni Service Cooperative Assistant Robot</a></h2>
            <p class="description"> A project aimed at developing a humanoid ballbot platform.</p>

            

            
                <div class="author">
                    <a href="/hacker/12744">
                        <img src="//gravatar.com/avatar/f20e44c02a92779af220856ed6fa9687?d=https://hackaday.io/img/default-avatar.png&amp;r=x&amp;s=100" />
                        
                            <div class="author-details">
                                <div class="author-name">Poh Hou Shun</div>
                            </div>
                        
                    </a>
                </div>
            
        </div>
    </div>

    <div class="container">
        <div class="content-left">

            
                <ul class="submissions-icons">
                    
                        
                            <li>
                                <a href="/submissions/prize2015/list" class="submission-icon submission-icon-5">
                                    The 2015 Hackaday Prize
                                </a>
                            </li>
                        
                        
                            <script>
                                HIO.forPrize = true;
                            </script>
                        
                    
                        
                        
                    
                </ul>
            

            
                <a href="/project/7284/gallery#9561417577a55fe61c179b434b22c613" id="project-image" class="image-holder" style="background-image: url(https://cdn.hackaday.io/images/resize/600x600/9919501439789414834.JPG)" data-image="https://cdn.hackaday.io/images/resize/600x600/9919501439789414834.JPG">
                </a>
            

            <div class="thumbs-holder">
                
            </div>

            
                <div class="view-gallery-holder">
                    <a href="/project/7284/gallery">
                        <div class="view-gallery grey-gold-button very-small-button">View Gallery</div>
                    </a>
                </div>
            

            

            

            

            

                <div class="project-following-container ">
                    <a href="javascript:void(0)" data-href="/project/7284/event/unfollow" class="gold-gold-button unfollow text-changing-button" data-before="<span class='icon-checkmark-gray'>Following</span>" data-after="Unfollow?"><span class="icon-checkmark-gray">Following</span></a>
                    <a href="javascript:void(0)" data-href="/project/7284/event/follow" class="gold-gold-button follow">Follow project</a>
                </div>
                
                

                <div id="similars">
                    <div class="similars-header">
                        Similar projects worth following
                        <a href="javascript:void(0)" class="submissions-close"></a>
                    </div>
                </div>

                
                    <div class="project-skulling-container ">
                        <a href="javascript:void(0)" data-href="/project/7284/event/unskull" class="gold-gold-button unskulled text-changing-button" data-before="<span class='icon-skull'>You</span>" data-after="Unskull?"><span class="icon-skull">You</span></a>
                        <a href="javascript:void(0)" data-href="/project/7284/event/skull" class="gold-gold-button skulled"><span class="icon-skull">Give a</span></a>
                    </div>
                

            

            
            

            <div class="section section-project-stats">
                
                <a>
                    <span class="icon-comment-with-hover oi-font-color-grey" title="Comments" id="comment_count">0</span>
                </a>
                
                    <span class="icon-view oi-font-color-grey" title="Followers" id="follower_count">0</span>
                

                
                    
                            <span class="icon-skull oi-font-color-grey" title="Skulls" id="like_count">0</span>
                    
                
            </div>

            
                <div class="section section-team">
                    <h5>
                        
                            Team
                        
                    </h5>

                    <ul>
                        
                            
                                <li>
                                    <img src="//gravatar.com/avatar/f20e44c02a92779af220856ed6fa9687?d=https://hackaday.io/img/default-avatar.png&amp;r=x&amp;s=100" class="team-photo"/>
                                    <a class="team-link" href="/hacker/12744-poh-hou-shun">Poh Hou Shun</a>

                                    

                                    
                                </li>
                            
                        
                    </ul>

                    <div class="error-message hide" id="team-error"><p></p></div>

                    
                    <input type="hidden" name="HADPrizeSubmission" value="true"/>
                        
                            <a href="javascript:void(0)"
                               
                                    class="login-button"
                               
                            >Request to join this project</a>
                        
                    

                </div>
            

            

            


            
                
                    <div class="section section-tags">
                        
                            <div class="special-tags">
                                <a href="/projects/tag/hardware" class="tag tag-hardware">hardware</a>
                            </div>
                        
                            <div class="special-tags">
                                <a href="/projects/tag/ongoing%20project" class="tag tag-ongoing">ongoing project</a>
                            </div>
                        
                        
                            <a href="/projects/tag/arduino" class="tag">arduino</a>
                        
                            <a href="/projects/tag/2015HackadayPrize" class="tag">2015HackadayPrize</a>
                        
                            <a href="/projects/tag/ball" class="tag">ball</a>
                        
                            <a href="/projects/tag/balancing" class="tag">balancing</a>
                        
                    </div>
                
            

            <div class="section section-share">
                <h5>
                    
                        Enjoy this project?
                    
                </h5>
                
                <a href="https://twitter.com/intent/tweet?url=http://hackaday.io/project/7284-oscar-omni-service-cooperative-assistant-robot&text=OSCAR%3A%20Omni%20Service%20Cooperative%20Assistant%20Robot by poh-hou-shun&related=hackadayio&via=hackadayio" target="_blank" class="icon-twitter icon-twitter-notext gray-link">Share on twitter</a> &nbsp; <a href="https://www.facebook.com/sharer/sharer.php?u=http://hackaday.io/project/7284-oscar-omni-service-cooperative-assistant-robot" target="_blank" class="icon-facebook icon-facebook-notext gray-link">Share on Facebook</a> &nbsp; <a href="https://plus.google.com/share?url=http://hackaday.io/project/7284-oscar-omni-service-cooperative-assistant-robot&h1=en-US" target="_blank" class="icon-google icon-google-notext gray-link">Share on Google+</a>
            </div>

            
            

            
                <div class="section section-submissions-lists">
                    <h5>This project is submitted for</h5>
                    <ul>
                        
                            <li><a href="/submissions/prize2015/list">The 2015 Hackaday Prize</a></li>
                        
                            <li><a href="/submissions/bestproduct/list">Best Product</a></li>
                        
                    </ul>
                </div>
            

            <div class="section section-project-time">
                <p class="project-time">
                    This project was
                        
                            created on 08/17/2015
                            
                                 and last updated 10 hours ago.
                            
                        
                </p>
            </div>

            

        </div>

        <div class="content-right">

            
                <div class="section section-description">
                    <h5>Description</h5>
                    <div class="description">This project represents our first attempt at a build in field of social robotics. A social robot is an autonomous robot that can interact with humans in various contexts while following the social behavior applicable to that contexts. Before we get into the finer nuances of social behaviors and interactions, we need a robotic base. A natural choice that comes mind is a humanoid robot. Another aspect of robotics that we are fascinated with is that of dynamically stable robots. Nothing typify this concept more than a ballbot. So for this build, we plan to challenge ourselves by trying to design, construct and test a ball balancing humanoid robot.<br /><br />As a sideline, our project idea also foots the bill for the requirements for a local (Singapore) contest, Tech Factor Challenge, to build a robotic waiter.<br /><br />A brief video introduction can be found here:<br /><a href='https://www.youtube.com/watch?v=BtobfMgeqv8' target="_blank">https://www.youtube.com/watch?v=BtobfMgeqv8</a></div>
                </div>
            

            
                <div class="section section-details">
                    <h5>
                        
                            Details
                        
                    </h5>
                    

                    
                        <div class="post-content details-content">
                            <p><p>For this project, we considered various technical and design considerations:<br></p><p>1. Form Factor</p><p><img>In such a service oriented industry like the restaurant industry, a close and personal touch is essential. It makes the diners feel welcomed and at ease, thus providing a conducive and pleasant dining experience. Many form factors for the robotic waiter are possible that will carry out the day to day operations of a restaurant equally well. However, to be in line with our earlier point, our team thinks that a humanoid robotic waiter, although harder to implement, will best approximate the interpersonal interaction between a human waiterand a diner. We also note that with current technology, we are not able to come up with a facsimile of a real person with complete fidelity in terms of outwards appearance and movement, thereby introducing a &apos;creepy&apos; factor in the robot if we attempt to do so. Thus we have chosen to go part way on this and came up with the humanoid design (shown in figure on the right) for OSCAR. With this design we think that the customer will experience almost the same level of interaction as with a human waiter, without constantly needing to come to term with the humanistic characteristic of the robot, because the outward appearance clearly suggest it is not a human.</p><p><img src="https://cdn.hackaday.io/images/9850641439806648766.JPG"></p><p>2. Locomotion, Navigation, and Collision Avoidance<br></p><p>When we think of waiters, we think of people in uniform, gracefully negotiating the narrow spaces between tables while skillfully balancing a number of items their hand as they serve the diners. Traditional statically stable (remains stable without the need for any active feedback) robots require large bases, thus a big footprint to remain stable. Due to this reason, they are not optimized for the small confines of the walking spaces in between tables or within the kitchen. Their movement are sometimes slow and not as fluid as that of human locomotion. Dynamically stable (require active feedback mechanism to remain stable) robots are more suited to this purpose. They have the advantage of having a small base thus footprint and are very maneuverable as a result of their dynamic stability.</p><p>Our team have opted for less common ball-drive configuration shown on the right for OSCAR. The concept of the ball drive is deceptively simple. It consists of three omni wheels (wheels with rollers on their circumference to allow for side way motion) driven by motors which are mounted at an angle to each other. Synchronized movement of the three wheels drive the ball roller allowing for motion in any direction (thus the omni in OSCAR) and even turning in it&apos;s own footprint. Attitude of OSCAR will be measured by the IMU. With this information together with the feedback from the rotary encoders, the computer can precisely make the necessary adjustment to maintain OSCAR&apos;s balance when stationary or moving.</p><p>We have design a set of stabilizing struts to prevent OSCAR from toppling when dormant. As a measure of safety, these struts are spring loaded and can be deployed in an instant in an event of a fault condition which will cause OSCAR to become unbalanced.</p><p>As the interior of a restaurant is relatively fixed and well defined, a map of it can be created and stored in OSCAR. Using map together with the laser range finder (the black range finder window is shown at the lower part of the torso) and head mounted stereoscopic cameras (behind the led face display), OSCAR can perform autonomous navigation and collision avoidance without the need for any markers. </p><p><img src="https://cdn.hackaday.io/images/3655011439806697331.JPG"></p><p>3. Power Source</p><p>The power source for OSCAR is a series of high capacity lithium ion batteries mounted at the top of the electronics package (see figure below) to provide a high center of gravity. Charging will be done wirelessly with a charging base, eliminating of the need for any external contacts. OSCAR will be able to automonously navigate and dock itself for charging when the batteries are running low.</p><p><img src="https://cdn.hackaday.io/images/6766261439806734029.JPG"></p><p>4. Interactivity<br></p><p>Orders taking and answering to the diners&apos;...</p>
                                
                                    <a class="readmore" href="/post/23288">Read more &raquo;</a>
                                
                            </p>
                        </div>
                    
                    <div class="detail-btns">
                    
                            
                                <span><a href="/post/23288" class="grey-gold-button medium-button show">See all details</a></span>
                            
                    
                    </div>
                </div>

            

            
                
                    <div class="section section-components">
                        <h5>
                            
                                Components
                            
                        </h5>
                        
                            <ul class="section-component-list">
                                
                                    
    <li class="component-59854">
        <span class="component-number">3</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Holomonic Wheels
            <span class="component-description">100mm diameter holonomic wheels, capable of two perpendicular direction of travel to 'sit' on the ball.</span>
       </span>
    </li>

    <li class="component-59855">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Bowling Ball
            <span class="component-description">A bowling ball for the drive. All the dimensions of the robot will be designed in accordance to this.</span>
       </span>
    </li>

    <li class="component-59856">
        <span class="component-number">3</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Stepper Motor
            <span class="component-description">3 beefiest stepper motors we can find: 125 oz.in (200 steps/rev). We will first try this before switching to geared DC motors, as these don't require feedback</span>
       </span>
    </li>

    <li class="component-59857">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Stepper Controller
            <span class="component-description">At the onset, we will use the quadstepper controller from Sparksfun. These are often used in 3D printers as they have four channels. The stepping pulses need to be  generated outside the board, but this should'nt be a problem.</span>
       </span>
    </li>

    <li class="component-59858">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            IMU
            <span class="component-description">The IMU will be used for balancing purposes. Additionally, it will be used for head-locking purpose.</span>
       </span>
    </li>

    <li class="component-59859">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Structure Components
            <span class="component-description">The initial design will be based on think acrylic sheets, which can be laser cut easily,</span>
       </span>
    </li>

    <li class="component-59860">
        <span class="component-number">1</span>
        <span class="component-x">×</span>
        <span class="component-content">
            Rplidar
            <span class="component-description">Saw this in an electronic store here, think it is a good additional for this project  to be used as a SLAM sensor for the robot.</span>
       </span>
    </li>

                                
                            </ul>
                        <p>
                            
                            
                        </p>
                    </div>
                
            

            
                <div class="section section-buildlogs">

                    <h5>Project logs</h5>
                    
                    <ul class="buillogs-list post-content details-content">
                    
                        <li>
                            <h2><a href="/project/7284/log/23429-firmware-for-the-stepper-controller">Firmware for the Stepper Controller</a></h2>
                            <small class="authorship">11 hours ago  &bull;
                            <a class="gray-link" href="/project/7284/log/23429#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p><span class="hljs-comment">We now begin coding the firmware for the stepper controller. Our conceptual leap was to realize that the code for driving the three stepper motors is the same as that driving a three holomonic robotic base. Basically the intended motion is resolved into three direction 120 degrees apart. The resolved motion is then translated into the motion of the three stepper motors. There are codes for handling mixing of linear and rotational motion. <span class="redactor-invisible-space"><span class="redactor-invisible-space">Lastly, there are some codes for implementing the balancing and head-locking, but these are commented out for initial tests.</span></span></span></p><p><span class="hljs-comment"><span class="redactor-invisible-space"><span class="redactor-invisible-space"><br></span></span></span></p><p><span class="hljs-comment"><span class="redactor-invisible-space"><span class="redactor-invisible-space"></span></span></span></p><pre class="hljs cpp"><span class="hljs-comment">//***************************************************************************************************************</span><span class="hljs-comment">/* Ballbot Firmware V1  Copyright (c) 2014 Space Trek Systems. http://www.spacetreksystems.com/  */</span><span class="hljs-comment">//***************************************************************************************************************</span><span class="hljs-comment">// header files</span><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> &quot;EasyTransferI2C.h&quot;</span><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> &lt;PID_v1.h&gt;</span><span class="hljs-comment">//#include &lt;TimerOne.h&gt;</span><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> &lt;TimerThree.h&gt;</span><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> &lt;TimerFour.h&gt;</span><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> &lt;TimerFive.h&gt;</span><span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> &lt;Wire.h&gt;</span><span class="hljs-comment">//***************************************************************************************************************</span><span class="hljs-comment">//communication with reciever module</span><span class="hljs-comment">//create object</span>EasyTransferI2C ET; <span class="hljs-keyword">struct</span> RECEIVE_DATA_STRUCTURE{  <span class="hljs-comment">//put your variable definitions here for the data you want to send</span>  <span class="hljs-comment">//THIS MUST BE EXACTLY THE SAME ON THE OTHER ARDUINO</span>  <span class="hljs-keyword">double</span> Xspeedtrans;  <span class="hljs-keyword">double</span> Yspeedtrans;  <span class="hljs-keyword">double</span> Rotationtrans;};<span class="hljs-comment">//give a name to the group of data</span>RECEIVE_DATA_STRUCTURE senddata;<span class="hljs-comment">//define slave i2c address</span><span class="hljs-preprocessor">#<span class="hljs-keyword">define</span> I2C_SLAVE_ADDRESS 9</span><span class="hljs-comment">//***************************************************************************************************************</span><span class="hljs-comment">//imu definition</span><span class="hljs-comment">/* MinIMU-9-Arduino-AHRS Pololu MinIMU-9 + Arduino AHRS (Attitude and Heading Reference System)  Copyright (c) 2011 Pololu Corporation. http://www.pololu.com/  MinIMU-9-Arduino-AHRS is based on sf9domahrs by Doug Weibel and Jose Julio: http://code.google.com/p/sf9domahrs/  sf9domahrs is based on ArduIMU v1.5 by Jordi Munoz and William Premerlani, Jose Julio and Doug Weibel: http://code.google.com/p/ardu-imu/  MinIMU-9-Arduino-AHRS is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  MinIMU-9-Arduino-AHRS is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.  You should have received a copy of the GNU Lesser General Public License along with MinIMU-9-Arduino-AHRS. If not, see .  */</span><span class="hljs-comment">// Uncomment the below line to use this axis definition: </span><span class="hljs-comment">// X axis pointing forward</span><span class="hljs-comment">// Y axis pointing to the right </span><span class="hljs-comment">// and Z axis pointing down.</span><span class="hljs-comment">// Positive pitch : nose up</span><span class="hljs-comment">// Positive roll : right wing down</span><span class="hljs-comment">// Positive yaw : clockwise</span><span class="hljs-keyword">int</span> SENSOR_SIGN[<span class="hljs-number">9</span>] = {  <span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>}; <span class="hljs-comment">//Correct directions x,y,z - gyro, accelerometer, magnetometer</span><span class="hljs-comment">// Uncomment the below line to use this axis definition: </span><span class="hljs-comment">// X axis pointing forward</span><span class="hljs-comment">// Y axis pointing to the left </span><span class="hljs-comment">// and Z axis pointing up.</span><span class="hljs-comment">// Positive pitch : nose down</span><span class="hljs-comment">// Positive roll : right wing down</span><span class="hljs-comment">// Positive yaw : counterclockwise</span><span class="hljs-comment">//int SENSOR_SIGN[9] = {1,-1,-1,-1,1,1,1,-1,-1}; //Correct directions x,y,z - gyro, accelerometer, magnetometer</span><span class="hljs-comment">// tested with Arduino Uno with ATmega328 and Arduino Duemilanove with ATMega168</span><span class="hljs-comment">// LSM303 accelerometer: 8 g sensitivity</span><span class="hljs-comment">// 3.9 mg/digit; 1 g = 256</span><span class="hljs-preprocessor">#<span class="hljs-keyword">define</span> GRAVITY 256  <span class="hljs-comment">//this equivalent to 1G in the raw data coming from the accelerometer </span></span>  <span class="hljs-preprocessor">#<span class="hljs-keyword">define</span> ToRad(x) ((x)*0.01745329252)  <span class="hljs-comment">// *pi/180</span></span> <span class="hljs-preprocessor">#<span class="hljs-keyword">define</span> ToDeg(x) ((x)*57.2957795131)  <span class="hljs-comment">// *180/pi</span></span>  <span class="hljs-comment">// L3G4200D gyro: 2000 dps full scale</span> <span class="hljs-comment">// 70 mdps/digit; 1 dps = 0.07</span> <span class="hljs-preprocessor">#<span class="hljs-keyword">define...</span></span></pre>
                                
                                    <a class="readmore" href="/project/7284/log/23429-firmware-for-the-stepper-controller">Read more &raquo;</a>
                                
                            </p>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7284/log/23417-stepper-controller-electonics">Stepper Controller Electonics</a></h2>
                            <small class="authorship">11 hours ago  &bull;
                            <a class="gray-link" href="/project/7284/log/23417#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p>The controlling the stepper, we used the quadstepper board from Sparksfun. Heatsinks were placed on the controller chip to prevent overheating.</p><p><img src="https://cdn.hackaday.io/images/4066591439833033403.jpg"></p><p>This is controlled solely by an Arduino Mega which generate the stepping pulses. An Arduino Mega was chosen because it has enough hardware timer for generating the stepping pulses. Another Arduino Uno serve to decode the PWM signal from an RC receiver. The decode signals are then sent to the Arduino Mega via I2C, so that the stepper motors can be remotely controller. An interface board is fabricated to tie all the components together. After alot of botching, the circuit finally works.</p><p><img src="https://cdn.hackaday.io/images/3685081439833258956.jpg"></p><p><img src="https://cdn.hackaday.io/images/9555761439833326011.jpg"></p><p><img src="https://cdn.hackaday.io/images/3731441439833362388.jpg"></p>
                                
                            </p>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7284/log/23364-ball-balancing-test-base-fabrication-and-assembly">Ball Balancing Test Base Fabrication and Assembly</a></h2>
                            <small class="authorship">12 hours ago  &bull;
                            <a class="gray-link" href="/project/7284/log/23364#discussion-list">
                                0 comments
                            </a>
                            </small>
                            <p><p>The designs for the balancing test base were done in Solidworks and exported to .dxf files. These were then brought out for laser cutting.  Instead of acrylic, plexiglas (also a type of acrylic) was used. We found that plexiglas is more flexible and stands up the rigor of drilling without cracking.<img src="https://cdn.hackaday.io/images/9605641439830105904.jpg"></p><p>With all the pieces back from the laser cutter, we begin the ardous task of drilling all the holes for securing the mount for the stepper motor. Holes of 3.5mm diameter were drilled and tapped for M4 screws. </p><p><img src="https://cdn.hackaday.io/images/4808531439831648077.jpg"></p><p><img src="https://cdn.hackaday.io/images/2180421439831669972.jpg"></p><p><img src="https://cdn.hackaday.io/images/7153991439831693341.jpg"></p><p>The spacers were cut to the appropriate length using a lathe. The central hole in the wheel hub for the holomonic wheels where also enlarged to 1/4&quot; to accommodate the stepper motor shaft. The wheels were then installed onto the motor shaft.<br></p><p><img src="https://cdn.hackaday.io/images/9350341439831559826.jpg"></p><p><img src="https://cdn.hackaday.io/images/9625761439831579694.jpg"></p><p>Finally all the parts were assembled.</p><p><img src="https://cdn.hackaday.io/images/1390011439831748640.jpg"></p><p><img src="https://cdn.hackaday.io/images/5753081439831836437.jpg"></p>
                                
                            </p>
                        </li>
                    
                    </ul>
                    <p class="log-btns">
                        
                        
                            <a href="/project/7284/logs" class="grey-gold-button medium-button show">
                            
                                View all 4 project logs
                            
                            </a>
                        
                    </p>
                </div>
            

            
                
            
            
            <div class="section section-discussions last">
        <h5 id="j-discussions-title" class="j-discussions-title">Discussions</h5>

    <form id="j-discussion-add-top" action="/discussions/add" name="add-comment" method="POST" class="skip-global-form j-discussion-add hide">
        <div class="textarea-holder">
            <textarea placeholder="Add your comment" name="comment" class="editable input-comment"></textarea>
        </div>
        <input type="hidden" name="categoryId" value="7284" />
        <input type="hidden" name="category" value="project" />
        <input type="hidden" name="_csrf" value="zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE" />
        <input type="hidden" name="replyTo" value="0" />
        <input type="submit" class="grey-gold-button medium-button" value="Post comment" />
    </form>

    <div id="discussion-list">
        
<p>
    <div class="signup-holder textarea-holder">
        <textarea placeholder="Sign in or become a member to leave your comment" name="comment" class="editable input-comment"></textarea>
    </div>
    <a href="#" class="login-button grey-gold-button medium-button half show">Sign in/up to comment</a>
</p>
<div class="modal-content-holder login-modal" id="login-modal">
    <div class="submissions-close modal-cancel"></div>
    <div class="signup-holder">
        <h2>Become a member</h2>
        <p>In order to follow projects & hackers or give skulls
        <br />you need to create an account.</p>
        <form action="/signup" method="POST">
            <fieldset class="form-left">
                <input type="text" class="input-field" placeholder="Enter your email address" required name="email"  />
                <input type="password" class="input-field" placeholder="Pick a secure password" required name="password"  />
            </fieldset>
            <fieldset class="form-right">
              <button class="gold-gold-button signup" type="submit">Sign up</button>
          </fieldset>
          <input type="hidden" name="_csrf" value="zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE" />
          <input class="input-field" placeholder="Invitation Code" required name="invitation_code" value="5Ad0ix2-b96J" type="hidden" />
        </form>
        <a id="login-modal-signin" href="/signin">Already a member?</a>
    </div>
</div>








<script type="text/javascript">

    var pageIndex = 0;


</script>
    </div>

    

</div>



        </div>

    </div>

    

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_project&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />
    <div class="j-modal-confirmation modal-background"></div>
<div class="j-modal-confirmation modal-content-holder">
    <p class="align-center" id="modal-message"></p>
    <p class="align-center"><a class="medium-button gold-gold-button delete-project-button" id="modal-yes" href="">Yes, delete it</a> <a class="medium-button grey-gold-button cancel-button" id="modal-cancel">Cancel</a> </p>
</div>

    
    
    
    
    
    
    
    
    
    

    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evYhvPcTNHjcVmLti9HxMVov4N%2FG0Vb08G3dKHr8dVQWzXej5t18RehizqZ8wIVJ7qCSmA5v7VaFjCQENYTT0gaQoyhjrODHsQk5JUVvz7t44Dtk%2B11xxmipO4Y%2B9cBwn1IdfK1bYjGht%2Bf1yWZu2SwuQOo6kGY9xwArhHVwpedkUh5kLaSLkPbgFU2aMPMYlr%2FkGi5SGh0159v8zUCbh%2Fx4qqGgiq8xue1QDxwAtojDbMufEMnPeES%2BXUvICUCqPFVF9PsrubQsdtbQAJZsDggl-0.48.6.js"></script>

    <style>
        .mediumInsert-buttons {
            display: none !important;
        }
    </style>

    <div id="submission-popup-back"></div>
    <div id="submission-popup"></div>

    <div id="modal-report-back" class="modal-background"></div>
    <div id="modal-report" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form action="/report/project" class="j-modal-form">
            <h2>Report project as inappropriate</h2>

            <p class="intro-text">
                You are about to report the project "<b>OSCAR: Omni Service Cooperative Assistant Robot</b>", please tell us the reason.
            </p>

            <textarea name="comment" class="j-report-comment" placeholder="Why do you report the project as inappropriate"></textarea>

            <input type="hidden" name="_csrf" value="zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE" />
            <input type="hidden" name="projectId" value="7284" />
            <div class="modal-footer">
                <input type="submit" value="Report" class="gold-gold-button"/>
            </div>
            <div class='j-modal-form-message'></div>
        </form>
        <div class='j-modal-message hide'></div>
    </div>



    <div id="modal-contributor-apply-back" class="modal-background"></div>
    <div id="modal-contributor-apply" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form id="contributor-apply-form">
            <h2>Send message</h2>

            <textarea name="message" class="j-report-comment">
Hello,

I really like your project and I think I have skills to help you.
            </textarea>
            <p class="application-success">Your application has been submitted.</p>
            <input type="hidden" name="_csrf" value="zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE" />
            <input type="hidden" name="projectId" value="7284" />

            <div class="modal-footer">
                <input type="submit" value="Send" class="gold-gold-button"/>
            </div>
        </form>

    </div>


    <div id="modal-contributor-remove-back" class="modal-background"></div>
    <div id="modal-contributor-remove" class="modal-content-holder container">
        <a href="javascript:void(0);" class="modal-close"></a>
        <form id="contributor-remove-form">
            <h2>Remove Contributor</h2>
            <p>
                Are you sure you want to remove yourself as a contributor for this project?
            </p>
            <p>Project owner will be notified upon removal.</p>
            <input type="hidden" name="_csrf" value="zvs3j8AC-9FFqLjDLZYYwvWKRt3bCxQ6sOvE" />
            <input type="hidden" name="projectId" value="7284" />
            <input type="hidden" name="remove_contributor_id" id="remove_contributor_id"/>

            <div class="modal-footer">
                <input type="submit" value="Remove" class="gold-gold-button"/>
                <input value="Nevermind" class="gold-gold-button"/>
            </div>
        </form>
    </div>


    <script>
        HIO.projectId = 7284;
    </script>

  </body>
</html>
