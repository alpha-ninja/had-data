<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Path Lighting for Walker &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F7304%2Flogs">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/7304-path-lighting-for-walker">Path Lighting for Walker</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">A lighting rig that attaches to walkers to assist users to see where they are going in the dark. </p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/143-scubabear" title="Visit Profile">scubabear</a><span>&bull;</span>
                
                20 hours ago<span>&bull;</span><a href="/project/7304#discussion-list" title="See Comments">0 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/7304-path-lighting-for-walker">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/7304/logs/sort/newest">Newest</option>
                    <option value="/project/7304/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/7304/log/23291-part-the-first">Part the First</a></h2>
                            <small class="authorship">20 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23291#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23291"><p>I&apos;ve made hundreds of circuit boards over the past 27 years for electronics special effects movies over the years, so I figured I probably had something that would work.  I wanted essentially a timer with a MOSFET to switch 12V through PWM.  I had recently finished something for a movie coming out later in 2015 and I had a bunch of PCBs left over form it, and I realized I could use one of these little boards with almost no modification.</p><img src="https://cdn.hackaday.io/images/3009941439806236312.jpg"><p>This board has two MOSFET outputs for two different LED control channels.  One of my design goals for this was to have the battery last as long as possible without recharging, but since I was using 12V LED strip and a 5V PIC processor, sleeping the processor wouldn&apos;t be good enough as the 5V regulator would always draw some current.</p><p>The solution I came up with was to use one output for the LED tape, and use the other output to switch a relay to open the circuit from the battery pack completely.  Then all the pushbutton switch would have to do is close the circuit across the relay contact--the &#xB5;C would activate, turn on the relay coil, and then the pushbutton switch could be released.  The &#xB5;C would fade up the LEDs, time their on duration, fade the LEDs off, and then turn off the relay coil to save the battery.  This approach worked really well, and the reed relay coil only draws a mere 11mA.</p><p><img src="https://cdn.hackaday.io/images/8439121439806712741.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7304/log/23292-part-the-second">Part the Second</a></h2>
                            <small class="authorship">19 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23292#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23292"><p>Next up was the LED tape selection.  I wanted to use waterproof tape, because I learned from building the <a href="https://hackaday.io/project/56-dr-manhattan-suit-for-watchmen" target="_blank">LED lightsuit for Dr Manhattan on the <em>Watchmen</em></a> movie that unprotected LED strip is easily damaged.  Waterproof LED tape wasn&apos;t available back in 2007 when we did that movie (back then blue LED tape was over $100 a roll!), but silicone-sealed LED tape is easily available from Amazon, and I had a partial reel of it left over from something I did for <a href="http://magiccastle.org"><em>The Magic Castle</em></a> a few years ago:</p><p><img src="https://cdn.hackaday.io/images/6346181439807082750.jpg"></p><p>I cut a piece to the proper length to fit the front bar of the walker, and then stripped away the silicone an inch in so I could solder the wires onto it (a <a href="http://www.amazon.com/MG-Chemicals-835-P-Rosin-Flux/dp/B0080X79HG/ref=sr_1_1?ie=UTF8&amp;qid=1439838582&amp;sr=8-1&amp;keywords=rosin+flux+pen" target="_blank">rosin flux pen</a> is invaluable for this!) and then heat shrink the whole thing to protect the junction.</p><p>Tape with silicone cut away:</p><p><img src="https://cdn.hackaday.io/images/2228741439807245821.jpg"></p><p>Wires soldered:</p><p><img src="https://cdn.hackaday.io/images/4267331439807314691.jpg"></p><p>Heat shrinked:</p><p><img src="https://cdn.hackaday.io/images/9835411439807375324.jpg"></p><p>And installed on the walker&apos;s front bar:</p><p><img src="https://cdn.hackaday.io/images/559501439807449641.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7304/log/23294-part-the-third">Part the Third</a></h2>
                            <small class="authorship">19 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23294#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23294"><p>Amazon has a 12V lithium ion battery pack I&apos;d used on other projects before; it comes with a charger and the price ($24) is pretty decent to get it next day. (Aliexpress has better pricing, but it can take weeks to get stuff from China).</p><p><img src="https://cdn.hackaday.io/images/4634751439807692794.jpg"></p><p>For this application though, the battery pack required a bit of hacking.  First off, there&apos;s a switch on the battery pack that must be on for the unit to operate, and that switch must also be in the on position to charge it.  Not intuitive, in my opinion.  It also has a battery gauge that reads out the charge level.</p><p><img src="https://cdn.hackaday.io/images/4168471439807889945.jpg"></p><p>That LED level indicator is handy, but it is on all the time the battery pack is on.  That would drain the battery pretty quick.  So I opened up the pack, wired the rocker switch out of the circuit, and put the charge indicator on a momentary switch so it could be used to gauge the charge only when someone is actually looking to check the level.</p><p><img src="https://cdn.hackaday.io/images/2580941439808172535.jpg"></p><p>Switch bypassed and momentary switch installed:</p><p><img src="https://cdn.hackaday.io/images/537041439808240261.jpg"></p><p>Reassembled:</p><p><img src="https://cdn.hackaday.io/images/8038371439808296142.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7304/log/23296-part-the-fourth">Part the Fourth</a></h2>
                            <small class="authorship">19 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23296#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23296"><p>I also wanted to use jacks everywhere so it could be easily removed and serviced if necessary.  I hard-wired the power plug (red/black wire with hot glue strain relief) that would connect to the battery pack, and used two jacks for the LED tape feed and the switch connection:</p><p><img src="https://cdn.hackaday.io/images/5680571439808543003.jpg"></p><p>Although both of the jacks appear to be the same, the LED tape one is 2.5mm center and the switch is 2.1mm center, so they cannot be mistakenly interchanged.</p><p>The power pack and the project box I used were exactly the same size.  Some thin Velcro holds the two boxes together.</p><p><img src="https://cdn.hackaday.io/images/7916081439808728417.jpg"></p><p>And all the works conveniently fit inside the walker&apos;s utility pouch: battery pack, lighting controller, and battery charger:</p><p><img src="https://cdn.hackaday.io/images/7719441439808872352.jpg"></p><p>All that was left was to make the button.  Again I used some heat shrink to protect the wire &amp; connection, and attached it up by the right side handgrip:</p><p><img src="https://cdn.hackaday.io/images/1834801439808989019.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7304/log/23297-part-the-fifth">Part the Fifth</a></h2>
                            <small class="authorship">19 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23297#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23297"><p>And here&apos;s the finished piece:</p><p><img src="https://cdn.hackaday.io/images/7179221439809197089.jpg"></p><p><img src="https://cdn.hackaday.io/images/5546771439809243537.jpg"></p><p>And lastly, my curious pussycat looks on to see what I&apos;ve been up to this past weekend...</p><p><img src="https://cdn.hackaday.io/images/9991551439809308765.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7304/log/23450-part-the-code">Part the Code</a></h2>
                            <small class="authorship">11 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23450#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23450"><p>Way back on <em>Star Trek: First Contact</em> I started using Microengineering Labs PICBASIC PRO compiler.  I used PICBASIC to write the code for the Borg suits and the spacesuit lighting in that film... That was 19 years ago, and I still use it for simple projects because it is very fast for me to develop in.  Here is the very simple program to operate the lighting here:</p><pre>&apos;written for PICBASICPRO V3
&apos;author Alan McFarland
&apos;August 16, 2015
&apos;simple program to operate lighting for Harlan&apos;s walker
&apos;uses PIC12F1501

DEFINE OSC 16		&apos;define the clock speed so PICBASIC knows
OSCCON = $FF		&apos;set speed to 16MHz

&apos;******************************************************************************
&apos;  SETUP 
&apos;******************************************************************************	
	
	ADCON1 = %00001111			&apos;port a is all digital IO 
    tape    con 3				&apos;output pin to LED tape
    relay	var porta.2			&apos;output port to control relay 
    pwmrate con 20000			&apos;pwm freq
    faderate con 10				&apos;delay in PWM loop to control duration of rate change
    level   var byte     
	count0          var word  
    
begin:
high relay				&apos;as soon as the &#xB5;C wakes up, turn on the relay to latch the power
hpwm tape,0, pwmrate
pause 250				&apos;let settle
    
trigger:
for count0 = 0 to 255
    gosub fetch					&apos;read in the sine value from the lookup table   
    hpwm tape,level, pwmrate	&apos;send to hardware PWM &amp; fade up to full
    pause faderate
next

for count0 = 1 to 50			&apos;with a 2.3 second nap, this keeps light on for 115 sec
    NAP 7      ;nap for 2.3 seconds
next

for count0 = 0 to 255
    gosub fetch					&apos;read in the sine value from the lookup table
    hpwm tape, 255 - level, pwmrate	&apos;reverse the value since we are fading down
    pause faderate + 20				&apos;make it longer to provide notice that its shutting off
next

low relay	&apos;this will turn off power to the board

END 
       
fetch:
    lookup count0,[0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,3,_
    3,3,4,4,4,5,5,6,6,7,7,8,8,9,9,10,11,11,12,13,13,14,15,16,16,_
    17,18,19,20,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,_
    42,43,44,45,46,48,49,50,51,53,54,55,56,58,59,60,62,63,64,66,67,69,70,71,73,_
    74,76,77,79,80,81,83,84,86,87,89,90,92,93,95,96,98,99,101,103,104,106,107,109,110,_
    112,113,115,117,118,120,121,123,124,126,128,_
    128,129,131,132,134,135,137,138,140,142,143,145,146,148,149,151,152,154,156,157,159,160,162,163,165,_
    166,168,169,171,172,174,175,176,178,179,181,182,184,185,186,188,189,191,192,193,195,196,197,199,200,_
    201,202,204,205,206,207,209,210,211,212,213,215,216,217,218,219,220,221,222,223,224,225,226,227,228,_
    229,230,231,232,233,234,235,235,236,237,238,239,239,240,241,242,242,243,244,244,245,246,246,247,247,_
    248,248,249,249,250,250,251,251,251,252,252,252,253,253,253,253,254,254,254,254,254,255,255,255,255,_
    255,255,255], level
    return
</pre><br></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/7304/log/23454-part-the-schematic">Part the Schematic</a></h2>
                            <small class="authorship">11 hours ago  &bull;
                                <a class="gray-link" href="/project/7304/log/23454#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23454"><p>The electronics could hardly be an simpler; I used a board from a previous project and modded it slightly as described in the earlier logs.  Here is the effective schematic:</p><p><img src="https://cdn.hackaday.io/images/4110641439836444282.jpg"></p><p>This board has two programming headers because this PCB needed to be able to be programmed from either the PICKIT3 or MELABs&apos; own programmer.  It complicates the visual of the schematic a bit, but it sure helped when initially programming the boards for the movie project that I made them for originally.</p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'I0a5d2dO-VuRaFPjHFG2R5xalU-7JY1iGqQI';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>