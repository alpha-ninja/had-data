<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" ng-app="buildlogApp"> <!--<![endif]-->
<head>
    
    <title>Project logs &bull; Teensy Super Audio Board &bull; Hackaday.io</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="//cdn.hackaday.io/css/style.css?version=0.48.6" />
    <script type="text/javascript" src="//use.typekit.net/ymb0lgk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body class="logs">

    <!--
############################################################################################
############################################################################################
############################################################################################
#####################Kt;tL#######################################Kti,E######################
#######################;   .###################################G    E#######################
#######################K    f##################################    ;########################
########################Wj   E###############################K:  .W#########################
##########################.  :E##############################:  .L##########################
#########################D    f##############################.   .##########################
########################,     ;##############################     :E#######K################
################f######K      ,##############################      ,######Lt################
################  W###W       i##############################       t####j t################
################:  E#L.        f###########################L.        f#Ki .E################
################j  ;E.          j##########################.         .G;  i#################
#################L               i#######################K                ##################
#################W                E#####################K;               ;##################
###################:               .###################D               :f###################
#####################DLfGD           G####WEEEEKW####W           ;GffGK#####################
##########################i         iD##Kfi    :jKW##D          iE##########################
###########################W      ,G##f            jE#E;       j############################
############################L     D##D              ,##K       W############################
#############################D:  G#W                  K#E,   G##############################
###############################;i#L                    j## ,E###############################
###############################KK#.                     ##iE################################
#################################j                      ;K##################################
################################W                        ,##################################
################################E                         ##################################
###############################Ki                         D#################################
###############################E.                         L#################################
###############################f    iD##W;       D###D    :#################################
###############################i   i######K     K#####K;   #################################
###############################;  .E#######     #######D   #################################
###############################;  L########     ########   #################################
###############################i  G#######K     K#######   #################################
###############################j  L#####E,       fE#####   #################################
###############################D  .E##j            .t##E  ;#################################
###############################E:  ;##.              #Wt  j#################################
################################G   ;t      tWi      t    E#################################
#############################KL##           K#K;          #K:K##############################
#############################i ##:          ###t         j#f ;K#############################
############################:  G#K          #E#L        L##    D############################
###########################D   ;W#:         #;#L        W#K    .############################
#####################KKEKK      :##L        ; ..      :D##.      fKEEK######################
###################t.            ;##G:               ,##E,             tD###################
##################G               E##E               i##;               :###################
#################D                W##W    iL    E.    ###D                ##################
################W,               G###W    tG    K.    ####:               K#################
################;  LW;         ,E#####:  ;W#    #G   f#####;         ;KG  :K################
################  D###E       ;########WW####WW####WW#######W       :####: j################
################ ,#####:      ;##############################       G####E i################
################K#######.     ;##############################      L######WG################
########################f     i##############################     j#########################
#########################W   .D##############################.   i##########################
#########################E   G###############################D   ,##########################
########################G:   #################################j   G#########################
#######################f    K##################################j    W#######################
#####################Kt :iE#####################################KL:  K######################
############################################################################################
############################################################################################
############################################################################################
-->

<div class="header" id="header">
    <div class="container">
        <h1 class="logo">
            <a href="/" title="Hackaday.io Home" class="home" onclick="CT(this, 'Menu', 'Home'); return false;"></a>
            <a href="/" title="Hackaday.io Home" class="brand" onclick="CT(this, 'Menu', 'Home'); return false;">Hack a Day</a>
        </h1>

        <a href="javascript:void(0);" class="responsive-menu">Menu</a>

        <ul class="nav" role="navigation">
            <li><a href="/projects" class="">Projects</a></li>
            <li><a href="/lists" class="">Lists</a></li>
            <li><a href="/stack" class="">Stack</a></li>
            <li class="dropdown more-nav j-more-open">
                <a href="javascript:void(0)" class="dropdown-link icon-dropdown">More</a>
                <ul role="menu" class="dropdown-menu more-menu" id="j-more">
                    <li><a href="http://hackaday.com/blog/" target="_blank">Blog</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/hackerspaces">Hackerspaces</a></li>
                    <li><a href="/hackers">Profiles</a></li>
                    <li><a href="/contests">Contests</a></li>
                    <li><a href="/prize" target="_blank">The Hackaday Prize</a></li>
                    <li><a href="/submissions/prize2015/list">2015 Prize Entries</a></li>
                </ul>
            </li>
            <li class="menu-last-child">
                <div class="search-holder show">
                    <form id="search-form" action="/search" onsubmit="return submitSearch();" method="GET">
                        <input type="text" placeholder="Search" name="term" class="input-search j-add-search" id="j-add-search" value="" autocomplete="off" pattern=".{3,}" required title="3 characters minimum" />
                        <input type="submit" class="search-button" />
                    </form>
                </div>
            </li>
        </ul>

        

            <ul class="nav pull-right" role="navigation">
                <li><a href="/signup" class="grey-white-button become-member">Sign up</a></li>
                <li><a href="/signin?returnUrl=%2Fproject%2F5912%2Flogs">Sign in</a></li>
            </ul>

        
    </div>
</div>

<div id="topMessage" class="alert"><span class="j-top-content"></span><a href="javascript:void(0);" class="alert-close j-top-message-close">Close</a></div>




    <div class="headline">
        <div class="container">
            <h2><a href="/project/5912-teensy-super-audio-board">Teensy Super Audio Board</a></h2>
            <p class="description-title"> Project logs</p>
            <p class="description-summary">Professional quality, 24 bit, 192kHz audio breakout board for Teensy 3.x, Raspberry Pi, and more.</p>
            <div class="description-metainfo">
                
                    <span>created by <a href="/hacker/69707-rf-william-hollender" title="Visit Profile">RF William Hollender</a><span>&bull;</span>
                
                3 months ago<span>&bull;</span><a href="/project/5912#discussion-list" title="See Comments">3 Comments</a></span>
            </div>
        </div>
    </div>

    <div class="container post-content">
        <div class="section-buildsort">
            <span class="pull-left">
                <a href="/project/5912-teensy-super-audio-board">&#171; Back to project details</a>
            </span>
            <span class="sort-holder pull-right">
                <label for="sort-by">Sort by:</label>
                <select class="sort" id="sort-by">
                    <option value="/project/5912/logs/sort/newest">Newest</option>
                    <option value="/project/5912/logs/sort/oldest" selected="selected">Oldest</option>
                </select>
            </span>
        </div>
        <div class="section section-buildlogs last">
            

                <ul class="buillogs-list">
                    
                        <li>
                            <h2><a href="/project/5912/log/19147-updates-to-github-repo">Updates to GitHub repo</a></h2>
                            <small class="authorship">2 months ago  &bull;
                                <a class="gray-link" href="/project/5912/log/19147#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-19147"><p>I updated the github repository to include code for a 1kHz sine wave loopback test as an example of getting the board up and running with the Teensy 3.1.</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/20437-working-with-raspberry-pi">Working with Raspberry Pi!!!</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/5912/log/20437#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20437"><p>After some kernel hacking, I was able to get the board to work with my Raspberry Pi!</p><p><img src="https://cdn.hackaday.io/images/3944761436030800524.jpg"></p><p>I made some measurements using <a href="http://www.roomeqwizard.com/" target="_blank">Room EQ Wizard</a> with the board looping the outputs back to the inputs.  REW only seemed to work in 16 bit mode, so the THD+N measurements are worse than what I measured with the Teensy.  Looking at the CS4272 datasheet, the dynamic range is ~16dB worse using 16 bits, and the THD+N that I measured with REW in 16 bit mode is ~-84dB, so a 24 bit measurement should be right at what I measured with the Teensy (98-100dB).</p><p><img src="https://cdn.hackaday.io/images/3651871436031051536.jpg"></p><p><img src="https://cdn.hackaday.io/images/6295541436031072578.jpg"></p><p>The updated kernel code is in my fork of RaspberryPi's linux repo: <a href="https://github.com/whollender/linux">here</a></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/20497-loopback-performance-testing-with-rpi">Loopback performance testing with RPi</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/5912/log/20497#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-20497"><p>Finally got around to doing a few full 24 bit performance tests using the Raspberry Pi.  Both THD+N and dynamic range were almost exactly what they had been using the Teensy as a test platform. </p><p> Measured THD+Ns were -100dB on the left channel and -101dB on the right:</p><p><img src="https://cdn.hackaday.io/images/424031436141231916.png"></p><p>Measured A-weighted dynamic range was -106dB on the left channel and -107dB on the right:</p><p><img src="https://cdn.hackaday.io/images/5747111436141263801.png"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/21371-going-for-the-best-product-category">Going for the Best Product Category!</a></h2>
                            <small class="authorship">a month ago  &bull;
                                <a class="gray-link" href="/project/5912/log/21371#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-21371"><p>My original goal with this project was to give something back to the Teensy community that has been super helpful.  I wanted the design to be open source so that people can learn from it and make their own fun creations, but I also wanted to see if there was a market for this kind of high quality audio board.</p><p>So I decided that it would be fun to try to go for the best product category.  Unfortunately, the deadline is fast approaching, so I&apos;m going to be working hard to get some much needed updates in before August 17th.</p><p>Here are my goals for the next few weeks:</p><ol><li>Get 3 more boards soldered up to submit.<br><ol><li>I only have the one set up at the moment, and 2 other bare boards, so hopefully my next order of boards from OSHPark will make it before the deadline.</li></ol></li><li>Add objects to the Teensy Audio library to support the board.<br><ol><li>This will only work in a 16 bit mode for the time being for compatibility with the rest of the library.</li></ol></li><li>Put together better documentation for the project.  There are three things that I&apos;d like to complete:<ol><li>A usage guide</li><li>An assembly guide</li><li>A design document going through the design of each block in detail.<span></span></li></ol></li></ol><p>Look forward to more updates soon!</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/22461-crunch-time">Crunch time</a></h2>
                            <small class="authorship">7 days ago  &bull;
                                <a class="gray-link" href="/project/5912/log/22461#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22461"><p>Soldering the three prototype boards for the Best Product category deadline next week has taken up way more time than expected (of course), so now everything else is getting compressed into just this last week.</p><p>I&apos;ve populated and tested the power supplies for all three boards, and should be able to finish up the boards with just a few more hours of soldering.</p><p>Then all three boards will need to be tested, packaged, and shipped off in a few days to make it in time.</p><p>Some shots of soldering in progress (with a shameless plug of the stickvise that the project won for using TI parts.  Thanks Hackaday!):</p><p><img src="https://cdn.hackaday.io/images/7338491439258612586.jpg"></p><p>Testing the final supply rails:</p><p><img src="https://cdn.hackaday.io/images/5132861439258862437.jpg"></p><p>And the a quick shot of the boards just now, nearly complete:</p><p><img src="https://cdn.hackaday.io/images/2336801439259038430.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/22606-new-protos-tested-and-ready-to-ship">New protos tested and ready to ship!</a></h2>
                            <small class="authorship">6 days ago  &bull;
                                <a class="gray-link" href="/project/5912/log/22606#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22606"><p>I was finally able to (mostly) complete all three new prototypes Monday night, and started testing last night.  </p><p>I powered up the first board with the Teensy all ready to go, and ... nothing.  Turns out I had completely forgotten to load the I2C bus pull-up resistors (oops!).  I loaded those on the boards, tried the first board again, and still nothing.  The two other boards did communicate just fine, so I think that I broke something when I powered up the first board with no pullups (hopefully just the I2C isolator).</p><p>Unfortunately, this means that Hackaday is getting all three of my working prototypes!</p><p>I did do some quick tests with the two new boards to make sure that they were performing well.  The first board had measured loopback THD+N of -98.945dB for the left channel and -98.837dB for the right.  The second board measured -97.95dB for the left channel and -99.612dB for the right.  </p><p>Here&apos;s a shot of one of the new boards under test with a Teensy:</p><p><img src="https://cdn.hackaday.io/images/3005691439395112289.JPG"></p><p>I also finally tried actually playing music through the board hooked up to a Raspberry Pi.  One thing that I didn&apos;t anticipate was the difficulty of finding an MP3 with a sample rate of 48kHz.  </p><p>One of the design tradeoffs with using the digital isolators between the codec and the controller is that it&apos;s not possible to switch the codec between master and slave mode because the isolators are unidirectional.  The isolators are set up such that all the I2S interface clocks are sent from the codec to the controller, and not the other way around, so the codec has to be the interface master, and can&apos;t be the slave.</p><p>One benefit of the codec being the master is that the interface clocks are generated directly from the crystal on the board, so there is very little jitter.  The downside is that the board can only handle 48kHz, 96kHz, and 192kHz because the CS4272 doesn&apos;t have a PLL to generate other frequencies (like the normal consumer audio rate of 44.1kHz).</p><p>Anyway, I didn&apos;t have my Raspberry Pi set up with any audio tools that could re-sample normal 44.1kHz mp3&apos;s to the required 48kHz, so my wife and I scrambled to find a file that used right rate.  The only one we could find happened to be &quot;Party in the USA&quot; by Miley Cyrus.  </p><p>Here&apos;s a quick video clip of it playing out through some old computer speakers I had lying around. I didn&apos;t know my wife was filming, so I wasn&apos;t ready for her question.  This is more of an outtake :) :</p><iframe style="width: 500px; height: 281px;" width="500" height="281" src="//www.youtube.com/embed/OppmJ7miKvg" frameborder="0" allowfullscreen=""></iframe></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/22850-protos-delivered-and-first-video-on-youtube">Protos delivered and first video on youtube</a></h2>
                            <small class="authorship">3 days ago  &bull;
                                <a class="gray-link" href="/project/5912/log/22850#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-22850"><p>Got delivery confirmation on the three protos sent to Hackaday:</p><p><img src="https://cdn.hackaday.io/images/6325071439614930876.png"></p>And, the quarterfinals video is up on youtube:<iframe style="width: 500px; height: 281px;" width="500" height="281" src="//www.youtube.com/embed/tvAP0mxDS-A" frameborder="0" allowfullscreen=""></iframe><p>Big thanks to my wife for doing all the videography (and all the good pictures, too)!</p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/23181-product-packaging-and-artwork">Product packaging and artwork</a></h2>
                            <small class="authorship">a day ago  &bull;
                                <a class="gray-link" href="/project/5912/log/23181#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23181"><p>My wife put together some logos and packaging ideas today.  Check out how the final product might look:</p><p>Design:</p><p><img src="https://cdn.hackaday.io/images/7055751439773776496.jpg"></p><p>Mockup:</p><p><img src="https://cdn.hackaday.io/images/2002361439775241975.jpg"></p></div>
                            </div>
                        </li>
                    
                        <li>
                            <h2><a href="/project/5912/log/23423-down-to-the-wire">Down to the wire</a></h2>
                            <small class="authorship">12 hours ago  &bull;
                                <a class="gray-link" href="/project/5912/log/23423#discussion-list">
                                    0 comments
                                </a>
                                </small>
                            <div style="position:relative">
                                <div id="post-body-23423"><p>It&apos;s the morning of the first Hackaday prize deadline, and I made it!</p><p>Here&apos;s a quick recap of the last week:</p><ul><li>Finished soldering three more prototypes<ul><li>2 of the three worked fine</li><li>1 of the boards isn&apos;t working (won&apos;t communicate over I2C)<ul><li>I think that this is because I powered the board up without pull-up resistors on the I2C lines</li><li>I&apos;ve replaced the I2C isolator IC, but still not working</li><li>Next step is to replace the codec, but this will be really difficult without a hot air reflow station</li></ul></li></ul></li><li>Shipped my only three working prototypes to Hackaday<br><ul><li>My first prototype and the two new working prototypes</li></ul></li><li>My wife helped me complete the two required videos<br><ul><li>The &quot;Semifinals&quot; video is here: <a href="https://www.youtube.com/watch?v=ugCyMfUrjZA" target="_blank">video</a></li><li>The &quot;Quarterfinals&quot; video is linked in an earlier post</li></ul></li><li>Made a mockup of the product packaging (again, big thanks to my wife for her help!)</li><li>Added a detailed design guide: <a href="https://github.com/whollender/SuperAudioBoard/blob/master/SuperAudioBoardDesignGuide.pdf" target="_blank">link</a></li><li>And, added a user guide (still a work in progress): <a href="https://github.com/whollender/SuperAudioBoard/blob/master/SuperAudioBoardUserGuide.pdf" target="_blank">link</a></li></ul><p>One thing that I had hoped to finish before this deadline was to integrate the SuperAudioBoard with the Teensy Audio Library, but I had to pause work on it to finish the contest requirements.</p><p>Here are my goals for the next few weeks before the final best product deadline:</p><ol><li>Fix my last prototype!<ol><li>It&apos;ll be hard to get much testing done without a working proto type :)</li></ol></li><li>Finish integration with the Teensy Audio Library<ol><li>Just a 16 bit mode to start with (24 bit support requires extensive rework of the entire library).</li></ol></li><li>Update the board design with some usability enhancements<ol><li>Address some solderability issues</li><li>Better annotations</li><li>etc</li></ol></li><li>Design some interface boards for the Raspberry Pi<br><ol><li>Better than point to point wiring</li></ol></li><li>Try Raspberry Pi with other audio distributions for better ease of use<ol><li>Working with audio in Raspbian wasn&apos;t the easiest.<span></span></li></ol></li><li></li></ol><p>Stay tuned for more updates!</p></div>
                            </div>
                        </li>
                    
                </ul>

                

                

                </p>

            
        </div>
    </div>

    










<div class="footer" id="footer">
  <a href="#header" class="back-to-top" onClick="CT(this, 'Footer', 'GoingUp');">^ Going up? ^</a>
    <div class="container">
        <p><a href="http://hackaday.com/about/">About Us</a> <a href="mailto:projects-contact@hackaday.com">Contact Us</a> <a href="/project/37">Give Feedback</a>&copy; 2015 Hackaday <a href="/tos">Terms of Use</a> <a href="/privacy-policy">Privacy Policy</a></p>
        <a href="/" class="had-skull"  onClick="CT(this, 'Footer', 'Home' ); return false;">Hackaday.io</a>
    </div>
</div>

<script>

    var csrftoken = 'xkI0Nafn-yg8A_ZHRok5sYUIlG8DYheROtBY';

</script>

    <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47229708-1', 'auto');

    var dimensionValue = 'nonregistered';
    ga('set', 'dimension1', dimensionValue);
    ga('require', 'displayfeatures');

    ga('send', 'pageview');

    </script>

<img src="//analytics.supplyframe.com/trackingservlet/impression?action=pageImpression&amp;zone=HIO_logs&amp;extra=logged%3Dfalse%7ChaveAccountCookie%3D0%7C&amp;ab=undefined" class="sf-impression" />

    
    
    <script src="//cdn.hackaday.io/build/h%2FydgsYIeDTf7pqgYQEKK8Ngblw0IkZCDqfJ9S2tk7zsBoxIHt5iOd49Qp%2BF4vdxEuRj%2BGpGDLbX4aGOQGmbjaOxUZvklg4ReFk68R95OQshFrGKebvogKGQOiB5Hi1xym9KC54c9Ps0WpzuNydLk4B%2FbKi91KhV40Uxhl38XXb1IVAxAI8iW%2BoQUPCFkHVWZxD0B%2BMZ%2BuEXJTlWuBmopNMxTHRK5yleITPZODT6evbVRQc6AXs9w2Pfk7FS2nKy-0.48.6.js"></script>

</body>
</html>